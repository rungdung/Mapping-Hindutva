(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))w(v);new MutationObserver(v=>{for(const h of v)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&w(d)}).observe(document,{childList:!0,subtree:!0});function c(v){const h={};return v.integrity&&(h.integrity=v.integrity),v.referrerPolicy&&(h.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?h.credentials="include":v.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function w(v){if(v.ep)return;v.ep=!0;const h=c(v);fetch(v.href,h)}})();function Jt(){}function us(C){return C()}function ts(){return Object.create(null)}function Dn(C){C.forEach(us)}function ls(C){return typeof C=="function"}function Rn(C,g){return C!=C?g==g:C!==g||C&&typeof C=="object"||typeof C=="function"}function Is(C){return Object.keys(C).length===0}function As(C,...g){if(C==null)return Jt;const c=C.subscribe(...g);return c.unsubscribe?()=>c.unsubscribe():c}function Bs(C,g,c){C.$$.on_destroy.push(As(g,c))}function bt(C,g){C.appendChild(g)}function we(C,g,c){C.insertBefore(g,c||null)}function de(C){C.parentNode&&C.parentNode.removeChild(C)}function Ds(C,g){for(let c=0;c<C.length;c+=1)C[c]&&C[c].d(g)}function Et(C){return document.createElement(C)}function ho(C){return document.createTextNode(C)}function xe(){return ho(" ")}function Rs(){return ho("")}function uo(C,g,c,w){return C.addEventListener(g,c,w),()=>C.removeEventListener(g,c,w)}function Ct(C,g,c){c==null?C.removeAttribute(g):C.getAttribute(g)!==c&&C.setAttribute(g,c)}function Ns(C){return Array.from(C.childNodes)}function Hs(C,g){g=""+g,C.wholeText!==g&&(C.data=g)}function es(C,g){C.value=g??""}let Bn;function An(C){Bn=C}function Fs(){if(!Bn)throw new Error("Function called outside component initialization");return Bn}function js(C){Fs().$$.on_mount.push(C)}const rn=[],is=[];let an=[];const ns=[],Ws=Promise.resolve();let To=!1;function Us(){To||(To=!0,Ws.then(cs))}function Co(C){an.push(C)}const bo=new Set;let nn=0;function cs(){if(nn!==0)return;const C=Bn;do{try{for(;nn<rn.length;){const g=rn[nn];nn++,An(g),Gs(g.$$)}}catch(g){throw rn.length=0,nn=0,g}for(An(null),rn.length=0,nn=0;is.length;)is.pop()();for(let g=0;g<an.length;g+=1){const c=an[g];bo.has(c)||(bo.add(c),c())}an.length=0}while(rn.length);for(;ns.length;)ns.pop()();To=!1,bo.clear(),An(C)}function Gs(C){if(C.fragment!==null){C.update(),Dn(C.before_update);const g=C.dirty;C.dirty=[-1],C.fragment&&C.fragment.p(C.ctx,g),C.after_update.forEach(Co)}}function Vs(C){const g=[],c=[];an.forEach(w=>C.indexOf(w)===-1?g.push(w):c.push(w)),c.forEach(w=>w()),an=g}const ao=new Set;let qs;function Mo(C,g){C&&C.i&&(ao.delete(C),C.i(g))}function os(C,g,c,w){if(C&&C.o){if(ao.has(C))return;ao.add(C),qs.c.push(()=>{ao.delete(C),w&&(c&&C.d(1),w())}),C.o(g)}else w&&w()}function ss(C){C&&C.c()}function So(C,g,c,w){const{fragment:v,after_update:h}=C.$$;v&&v.m(g,c),w||Co(()=>{const d=C.$$.on_mount.map(us).filter(ls);C.$$.on_destroy?C.$$.on_destroy.push(...d):Dn(d),C.$$.on_mount=[]}),h.forEach(Co)}function ko(C,g){const c=C.$$;c.fragment!==null&&(Vs(c.after_update),Dn(c.on_destroy),c.fragment&&c.fragment.d(g),c.on_destroy=c.fragment=null,c.ctx=[])}function Ks(C,g){C.$$.dirty[0]===-1&&(rn.push(C),Us(),C.$$.dirty.fill(0)),C.$$.dirty[g/31|0]|=1<<g%31}function co(C,g,c,w,v,h,d,p=[-1]){const m=Bn;An(C);const T=C.$$={fragment:null,ctx:[],props:h,update:Jt,not_equal:v,bound:ts(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(g.context||(m?m.$$.context:[])),callbacks:ts(),dirty:p,skip_bound:!1,root:g.target||m.$$.root};d&&d(T.root);let S=!1;if(T.ctx=c?c(C,g.props||{},(b,z,...E)=>{const A=E.length?E[0]:z;return T.ctx&&v(T.ctx[b],T.ctx[b]=A)&&(!T.skip_bound&&T.bound[b]&&T.bound[b](A),S&&Ks(C,b)),z}):[],T.update(),S=!0,Dn(T.before_update),T.fragment=w?w(T.ctx):!1,g.target){if(g.hydrate){const b=Ns(g.target);T.fragment&&T.fragment.l(b),b.forEach(de)}else T.fragment&&T.fragment.c();g.intro&&Mo(C.$$.fragment),So(C,g.target,g.anchor,g.customElement),cs()}An(m)}class _o{$destroy(){ko(this,1),this.$destroy=Jt}$on(g,c){if(!ls(c))return Jt;const w=this.$$.callbacks[g]||(this.$$.callbacks[g]=[]);return w.push(c),()=>{const v=w.indexOf(c);v!==-1&&w.splice(v,1)}}$set(g){this.$$set&&!Is(g)&&(this.$$.skip_bound=!0,this.$$set(g),this.$$.skip_bound=!1)}}var Oo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rs={},Ys={get exports(){return rs},set exports(C){rs=C}},lo={},Js={get exports(){return lo},set exports(C){lo=C}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(C,g){(function(c,w){w(g)})(Oo,function(c){var w="1.9.3";function v(t){var i,s,r,l;for(s=1,r=arguments.length;s<r;s++){l=arguments[s];for(i in l)t[i]=l[i]}return t}var h=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function d(t,i){var s=Array.prototype.slice;if(t.bind)return t.bind.apply(t,s.call(arguments,1));var r=s.call(arguments,2);return function(){return t.apply(i,r.length?r.concat(s.call(arguments)):arguments)}}var p=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function T(t,i,s){var r,l,_,y;return y=function(){r=!1,l&&(_.apply(s,l),l=!1)},_=function(){r?l=arguments:(t.apply(s,arguments),setTimeout(y,i),r=!0)},_}function S(t,i,s){var r=i[1],l=i[0],_=r-l;return t===r&&s?t:((t-l)%_+_)%_+l}function b(){return!1}function z(t,i){if(i===!1)return t;var s=Math.pow(10,i===void 0?6:i);return Math.round(t*s)/s}function E(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function A(t){return E(t).split(/\s+/)}function O(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var s in i)t.options[s]=i[s];return t.options}function at(t,i,s){var r=[];for(var l in t)r.push(encodeURIComponent(s?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!i||i.indexOf("?")===-1?"?":"&")+r.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function nt(t,i){return t.replace(H,function(s,r){var l=i[r];if(l===void 0)throw new Error("No value provided for variable "+s);return typeof l=="function"&&(l=l(i)),l})}var ht=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ee(t,i){for(var s=0;s<t.length;s++)if(t[s]===i)return s;return-1}var At="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ze(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var un=0;function ln(t){var i=+new Date,s=Math.max(0,16-(i-un));return un=i+s,window.setTimeout(t,s)}var ri=window.requestAnimationFrame||Ze("RequestAnimationFrame")||ln,cn=window.cancelAnimationFrame||Ze("CancelAnimationFrame")||Ze("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function _t(t,i,s){if(s&&ri===ln)t.call(i);else return ri.call(window,d(t,i))}function Lt(t){t&&cn.call(window,t)}var fo={__proto__:null,extend:v,create:h,bind:d,get lastId(){return p},stamp:m,throttle:T,wrapNum:S,falseFn:b,formatNum:z,trim:E,splitWords:A,setOptions:O,getParamString:at,template:nt,isArray:ht,indexOf:ee,emptyImageUrl:At,requestFn:ri,cancelFn:cn,requestAnimFrame:_t,cancelAnimFrame:Lt};function Zt(){}Zt.extend=function(t){var i=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},s=i.__super__=this.prototype,r=h(s);r.constructor=i,i.prototype=r;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(i[l]=this[l]);return t.statics&&v(i,t.statics),t.includes&&(jt(t.includes),v.apply(null,[r].concat(t.includes))),v(r,t),delete r.statics,delete r.includes,r.options&&(r.options=s.options?h(s.options):{},v(r.options,t.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){s.callInitHooks&&s.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,y=r._initHooks.length;_<y;_++)r._initHooks[_].call(this)}},i},Zt.include=function(t){var i=this.prototype.options;return v(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Zt.mergeOptions=function(t){return v(this.prototype.options,t),this},Zt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),s=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(s),this};function jt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=ht(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ot={on:function(t,i,s){if(typeof t=="object")for(var r in t)this._on(r,t[r],i);else{t=A(t);for(var l=0,_=t.length;l<_;l++)this._on(t[l],i,s)}return this},off:function(t,i,s){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var r in t)this._off(r,t[r],i);else{t=A(t);for(var l=arguments.length===1,_=0,y=t.length;_<y;_++)l?this._off(t[_]):this._off(t[_],i,s)}return this},_on:function(t,i,s,r){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,s)===!1){s===this&&(s=void 0);var l={fn:i,ctx:s};r&&(l.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(l)}},_off:function(t,i,s){var r,l,_;if(this._events&&(r=this._events[t],!!r)){if(arguments.length===1){if(this._firingCount)for(l=0,_=r.length;l<_;l++)r[l].fn=b;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var y=this._listens(t,i,s);if(y!==!1){var M=r[y];this._firingCount&&(M.fn=b,this._events[t]=r=r.slice()),r.splice(y,1)}}},fire:function(t,i,s){if(!this.listens(t,s))return this;var r=v({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var _=0,y=l.length;_<y;_++){var M=l[_],k=M.fn;M.once&&this.off(t,k,M.ctx),k.call(M.ctx||this,r)}this._firingCount--}}return s&&this._propagateEvent(r),this},listens:function(t,i,s,r){typeof t!="string"&&console.warn('"string" type argument expected');var l=i;typeof i!="function"&&(r=!!i,l=void 0,s=void 0);var _=this._events&&this._events[t];if(_&&_.length&&this._listens(t,l,s)!==!1)return!0;if(r){for(var y in this._eventParents)if(this._eventParents[y].listens(t,i,s,r))return!0}return!1},_listens:function(t,i,s){if(!this._events)return!1;var r=this._events[t]||[];if(!i)return!!r.length;s===this&&(s=void 0);for(var l=0,_=r.length;l<_;l++)if(r[l].fn===i&&r[l].ctx===s)return l;return!1},once:function(t,i,s){if(typeof t=="object")for(var r in t)this._on(r,t[r],i,!0);else{t=A(t);for(var l=0,_=t.length;l<_;l++)this._on(t[l],i,s,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,v({layer:t.target,propagatedFrom:t.target},t),!0)}};Ot.addEventListener=Ot.on,Ot.removeEventListener=Ot.clearAllEventListeners=Ot.off,Ot.addOneTimeEventListener=Ot.once,Ot.fireEvent=Ot.fire,Ot.hasEventListeners=Ot.listens;var G=Zt.extend(Ot);function X(t,i,s){this.x=s?Math.round(t):t,this.y=s?Math.round(i):i}var q=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new X(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new X(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(t){t=N(t);var i=t.x-this.x,s=t.y-this.y;return Math.sqrt(i*i+s*s)},equals:function(t){return t=N(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}};function N(t,i,s){return t instanceof X?t:ht(t)?new X(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new X(t.x,t.y):new X(t,i,s)}function it(t,i){if(t)for(var s=i?[t,i]:t,r=0,l=s.length;r<l;r++)this.extend(s[r])}it.prototype={extend:function(t){var i,s;if(!t)return this;if(t instanceof X||typeof t[0]=="number"||"x"in t)i=s=N(t);else if(t=ft(t),i=t.min,s=t.max,!i||!s)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=s.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,s;return typeof t[0]=="number"||t instanceof X?t=N(t):t=ft(t),t instanceof it?(i=t.min,s=t.max):i=s=t,i.x>=this.min.x&&s.x<=this.max.x&&i.y>=this.min.y&&s.y<=this.max.y},intersects:function(t){t=ft(t);var i=this.min,s=this.max,r=t.min,l=t.max,_=l.x>=i.x&&r.x<=s.x,y=l.y>=i.y&&r.y<=s.y;return _&&y},overlaps:function(t){t=ft(t);var i=this.min,s=this.max,r=t.min,l=t.max,_=l.x>i.x&&r.x<s.x,y=l.y>i.y&&r.y<s.y;return _&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,s=this.max,r=Math.abs(i.x-s.x)*t,l=Math.abs(i.y-s.y)*t;return ft(N(i.x-r,i.y-l),N(s.x+r,s.y+l))},equals:function(t){return t?(t=ft(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function ft(t,i){return!t||t instanceof it?t:new it(t,i)}function ct(t,i){if(t)for(var s=i?[t,i]:t,r=0,l=s.length;r<l;r++)this.extend(s[r])}ct.prototype={extend:function(t){var i=this._southWest,s=this._northEast,r,l;if(t instanceof U)r=t,l=t;else if(t instanceof ct){if(r=t._southWest,l=t._northEast,!r||!l)return this}else return t?this.extend(ot(t)||K(t)):this;return!i&&!s?(this._southWest=new U(r.lat,r.lng),this._northEast=new U(l.lat,l.lng)):(i.lat=Math.min(r.lat,i.lat),i.lng=Math.min(r.lng,i.lng),s.lat=Math.max(l.lat,s.lat),s.lng=Math.max(l.lng,s.lng)),this},pad:function(t){var i=this._southWest,s=this._northEast,r=Math.abs(i.lat-s.lat)*t,l=Math.abs(i.lng-s.lng)*t;return new ct(new U(i.lat-r,i.lng-l),new U(s.lat+r,s.lng+l))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof U||"lat"in t?t=ot(t):t=K(t);var i=this._southWest,s=this._northEast,r,l;return t instanceof ct?(r=t.getSouthWest(),l=t.getNorthEast()):r=l=t,r.lat>=i.lat&&l.lat<=s.lat&&r.lng>=i.lng&&l.lng<=s.lng},intersects:function(t){t=K(t);var i=this._southWest,s=this._northEast,r=t.getSouthWest(),l=t.getNorthEast(),_=l.lat>=i.lat&&r.lat<=s.lat,y=l.lng>=i.lng&&r.lng<=s.lng;return _&&y},overlaps:function(t){t=K(t);var i=this._southWest,s=this._northEast,r=t.getSouthWest(),l=t.getNorthEast(),_=l.lat>i.lat&&r.lat<s.lat,y=l.lng>i.lng&&r.lng<s.lng;return _&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=K(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function K(t,i){return t instanceof ct?t:new ct(t,i)}function U(t,i,s){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,s!==void 0&&(this.alt=+s)}U.prototype={equals:function(t,i){if(!t)return!1;t=ot(t);var s=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return s<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+z(this.lat,t)+", "+z(this.lng,t)+")"},distanceTo:function(t){return It.distance(this,ot(t))},wrap:function(){return It.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,s=i/Math.cos(Math.PI/180*this.lat);return K([this.lat-i,this.lng-s],[this.lat+i,this.lng+s])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function ot(t,i,s){return t instanceof U?t:ht(t)&&typeof t[0]!="object"?t.length===3?new U(t[0],t[1],t[2]):t.length===2?new U(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new U(t,i,s)}var Bt={latLngToPoint:function(t,i){var s=this.projection.project(t),r=this.scale(i);return this.transformation._transform(s,r)},pointToLatLng:function(t,i){var s=this.scale(i),r=this.transformation.untransform(t,s);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,s=this.scale(t),r=this.transformation.transform(i.min,s),l=this.transformation.transform(i.max,s);return new it(r,l)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,s=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,r=t.alt;return new U(s,i,r)},wrapLatLngBounds:function(t){var i=t.getCenter(),s=this.wrapLatLng(i),r=i.lat-s.lat,l=i.lng-s.lng;if(r===0&&l===0)return t;var _=t.getSouthWest(),y=t.getNorthEast(),M=new U(_.lat-r,_.lng-l),k=new U(y.lat-r,y.lng-l);return new ct(M,k)}},It=v({},Bt,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var s=Math.PI/180,r=t.lat*s,l=i.lat*s,_=Math.sin((i.lat-t.lat)*s/2),y=Math.sin((i.lng-t.lng)*s/2),M=_*_+Math.cos(r)*Math.cos(l)*y*y,k=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*k}}),Oi=6378137,Oe={R:Oi,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,s=this.MAX_LATITUDE,r=Math.max(Math.min(s,t.lat),-s),l=Math.sin(r*i);return new X(this.R*t.lng*i,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var i=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=Oi*Math.PI;return new it([-t,-t],[t,t])}()};function Ie(t,i,s,r){if(ht(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=s,this._d=r}Ie.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new X((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function ai(t,i,s,r){return new Ie(t,i,s,r)}var Ii=v({},It,{code:"EPSG:3857",projection:Oe,transformation:function(){var t=.5/(Math.PI*Oe.R);return ai(t,.5,-t,.5)}()}),Nn=v({},Ii,{code:"EPSG:900913"});function Ae(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function hi(t,i){var s="",r,l,_,y,M,k;for(r=0,_=t.length;r<_;r++){for(M=t[r],l=0,y=M.length;l<y;l++)k=M[l],s+=(l?"L":"M")+k.x+" "+k.y;s+=i?F.svg?"z":"x":""}return s||"M0 0"}var We=document.documentElement.style,Pe="ActiveXObject"in window,Hn=Pe&&!document.addEventListener,Fn="msLaunchUri"in navigator&&!("documentMode"in document),dn=ne("webkit"),jn=ne("android"),Wn=ne("android 2")||ne("android 3"),po=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mo=jn&&ne("Google")&&po<537&&!("AudioNode"in window),ui=!!window.opera,li=!Fn&&ne("chrome"),ie=ne("gecko")&&!dn&&!ui&&!Pe,j=!li&&ne("safari"),_n=ne("phantom"),fn="OTransition"in We,Un=navigator.platform.indexOf("Win")===0,pn=Pe&&"transition"in We,ci="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wn,mn="MozPerspective"in We,Ue=!window.L_DISABLE_3D&&(pn||ci||mn)&&!fn&&!_n,Ge=typeof orientation<"u"||ne("mobile"),go=Ge&&dn,vo=Ge&&ci,Gn=!window.PointerEvent&&window.MSPointerEvent,gn=!!(window.PointerEvent||Gn),di="ontouchstart"in window||!!window.TouchEvent,yo=!window.L_NO_TOUCH&&(di||gn),Lo=Ge&&ui,vn=Ge&&ie,Ve=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_i=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",b,i),window.removeEventListener("testPassiveEventSupport",b,i)}catch{}return t}(),Ai=function(){return!!document.createElement("canvas").getContext}(),qe=!!(document.createElementNS&&Ae("svg").createSVGRect),yn=!!qe&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ln=!qe&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),fi=navigator.platform.indexOf("Mac")===0,Vn=navigator.platform.indexOf("Linux")===0;function ne(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var F={ie:Pe,ielt9:Hn,edge:Fn,webkit:dn,android:jn,android23:Wn,androidStock:mo,opera:ui,chrome:li,gecko:ie,safari:j,phantom:_n,opera12:fn,win:Un,ie3d:pn,webkit3d:ci,gecko3d:mn,any3d:Ue,mobile:Ge,mobileWebkit:go,mobileWebkit3d:vo,msPointer:Gn,pointer:gn,touch:yo,touchNative:di,mobileOpera:Lo,mobileGecko:vn,retina:Ve,passiveEvents:_i,canvas:Ai,svg:qe,vml:Ln,inlineSvg:yn,mac:fi,linux:Vn},ut=F.msPointer?"MSPointerDown":"pointerdown",vt=F.msPointer?"MSPointerMove":"pointermove",pi=F.msPointer?"MSPointerUp":"pointerup",Be=F.msPointer?"MSPointerCancel":"pointercancel",be={touchstart:ut,touchmove:vt,touchend:pi,touchcancel:Be},Bi={touchstart:wn,touchmove:re,touchend:re,touchcancel:re},Y={},wt=!1;function xn(t,i,s){return i==="touchstart"&&Tt(),Bi[i]?(s=Bi[i].bind(this,s),t.addEventListener(be[i],s,!1),s):(console.warn("wrong event specified:",i),b)}function Di(t,i,s){if(!be[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(be[i],s,!1)}function Xt(t){Y[t.pointerId]=t}function Ri(t){Y[t.pointerId]&&(Y[t.pointerId]=t)}function Te(t){delete Y[t.pointerId]}function Tt(){wt||(document.addEventListener(ut,Xt,!0),document.addEventListener(vt,Ri,!0),document.addEventListener(pi,Te,!0),document.addEventListener(Be,Te,!0),wt=!0)}function re(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var s in Y)i.touches.push(Y[s]);i.changedTouches=[i],t(i)}}function wn(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&xt(i),re(t,i)}function Pn(t){var i={},s,r;for(r in t)s=t[r],i[r]=s&&s.bind?s.bind(t):s;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var bn=200;function Ni(t,i){t.addEventListener("dblclick",i);var s=0,r;function l(_){if(_.detail!==1){r=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var y=Li(_);if(!(y.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!y.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var M=Date.now();M-s<=bn?(r++,r===2&&i(Pn(_))):r=1,s=M}}}return t.addEventListener("click",l),{dblclick:i,simDblclick:l}}function qn(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var mi=Je(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),V=Je(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),oe=V==="webkitTransition"||V==="OTransition"?V+"End":"transitionend";function pt(t){return typeof t=="string"?document.getElementById(t):t}function Ke(t,i){var s=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!s||s==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);s=r?r[i]:null}return s==="auto"?null:s}function st(t,i,s){var r=document.createElement(t);return r.className=i||"",s&&s.appendChild(r),r}function gt(t){var i=t.parentNode;i&&i.removeChild(t)}function Ye(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function $t(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Ce(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function De(t,i){if(t.classList!==void 0)return t.classList.contains(i);var s=gi(t);return s.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(s)}function W(t,i){if(t.classList!==void 0)for(var s=A(i),r=0,l=s.length;r<l;r++)t.classList.add(s[r]);else if(!De(t,i)){var _=gi(t);Hi(t,(_?_+" ":"")+i)}}function mt(t,i){t.classList!==void 0?t.classList.remove(i):Hi(t,E((" "+gi(t)+" ").replace(" "+i+" "," ")))}function Hi(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function gi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Qt(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Kn(t,i)}function Kn(t,i){var s=!1,r="DXImageTransform.Microsoft.Alpha";try{s=t.filters.item(r)}catch{if(i===1)return}i=Math.round(i*100),s?(s.Enabled=i!==100,s.Opacity=i):t.style.filter+=" progid:"+r+"(opacity="+i+")"}function Je(t){for(var i=document.documentElement.style,s=0;s<t.length;s++)if(t[s]in i)return t[s];return!1}function _e(t,i,s){var r=i||new X(0,0);t.style[mi]=(F.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(s?" scale("+s+")":"")}function Pt(t,i){t._leaflet_pos=i,F.any3d?_e(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Q(t){return t._leaflet_pos||new X(0,0)}var fe,Xe,Wt;if("onselectstart"in document)fe=function(){$(window,"selectstart",xt)},Xe=function(){lt(window,"selectstart",xt)};else{var $e=Je(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fe=function(){if($e){var t=document.documentElement.style;Wt=t[$e],t[$e]="none"}},Xe=function(){$e&&(document.documentElement.style[$e]=Wt,Wt=void 0)}}function vi(){$(window,"dragstart",xt)}function Fi(){lt(window,"dragstart",xt)}var Qe,Nt;function Re(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(yi(),Qe=t,Nt=t.style.outline,t.style.outline="none",$(window,"keydown",yi))}function yi(){Qe&&(Qe.style.outline=Nt,Qe=void 0,Nt=void 0,lt(window,"keydown",yi))}function pe(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function ji(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Yn={__proto__:null,TRANSFORM:mi,TRANSITION:V,TRANSITION_END:oe,get:pt,getStyle:Ke,create:st,remove:gt,empty:Ye,toFront:$t,toBack:Ce,hasClass:De,addClass:W,removeClass:mt,setClass:Hi,getClass:gi,setOpacity:Qt,testProp:Je,setTransform:_e,setPosition:Pt,getPosition:Q,get disableTextSelection(){return fe},get enableTextSelection(){return Xe},disableImageDrag:vi,enableImageDrag:Fi,preventOutline:Re,restoreOutline:yi,getSizedParentNode:pe,getScale:ji};function $(t,i,s,r){if(i&&typeof i=="object")for(var l in i)Wi(t,l,i[l],s);else{i=A(i);for(var _=0,y=i.length;_<y;_++)Wi(t,i[_],s,r)}return this}var Ut="_leaflet_events";function lt(t,i,s,r){if(arguments.length===1)ti(t),delete t[Ut];else if(i&&typeof i=="object")for(var l in i)Ui(t,l,i[l],s);else if(i=A(i),arguments.length===2)ti(t,function(M){return ee(i,M)!==-1});else for(var _=0,y=i.length;_<y;_++)Ui(t,i[_],s,r);return this}function ti(t,i){for(var s in t[Ut]){var r=s.split(/\d/)[0];(!i||i(r))&&Ui(t,r,null,null,s)}}var Ht={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wi(t,i,s,r){var l=i+m(s)+(r?"_"+m(r):"");if(t[Ut]&&t[Ut][l])return this;var _=function(M){return s.call(r||t,M||window.event)},y=_;!F.touchNative&&F.pointer&&i.indexOf("touch")===0?_=xn(t,i,_):F.touch&&i==="dblclick"?_=Ni(t,_):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(Ht[i]||i,_,F.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(_=function(M){M=M||window.event,Dt(t,M)&&y(M)},t.addEventListener(Ht[i],_,!1)):t.addEventListener(i,y,!1):t.attachEvent("on"+i,_),t[Ut]=t[Ut]||{},t[Ut][l]=_}function Ui(t,i,s,r,l){l=l||i+m(s)+(r?"_"+m(r):"");var _=t[Ut]&&t[Ut][l];if(!_)return this;!F.touchNative&&F.pointer&&i.indexOf("touch")===0?Di(t,i,_):F.touch&&i==="dblclick"?qn(t,_):"removeEventListener"in t?t.removeEventListener(Ht[i]||i,_,!1):t.detachEvent("on"+i,_),t[Ut][l]=null}function Me(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Gi(t){return Wi(t,"wheel",Me),this}function Se(t){return $(t,"mousedown touchstart dblclick contextmenu",Me),t._leaflet_disable_click=!0,this}function xt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Gt(t){return xt(t),Me(t),this}function Li(t){if(t.composedPath)return t.composedPath();for(var i=[],s=t.target;s;)i.push(s),s=s.parentNode;return i}function Vi(t,i){if(!i)return new X(t.clientX,t.clientY);var s=ji(i),r=s.boundingClientRect;return new X((t.clientX-r.left)/s.x-i.clientLeft,(t.clientY-r.top)/s.y-i.clientTop)}var Jn=F.linux&&F.chrome?window.devicePixelRatio:F.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xi(t){return F.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Jn:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Dt(t,i){var s=i.relatedTarget;if(!s)return!0;try{for(;s&&s!==t;)s=s.parentNode}catch{return!1}return s!==t}var ei={__proto__:null,on:$,off:lt,stopPropagation:Me,disableScrollPropagation:Gi,disableClickPropagation:Se,preventDefault:xt,stop:Gt,getPropagationPath:Li,getMousePosition:Vi,getWheelDelta:xi,isExternalTarget:Dt,addListener:$,removeListener:lt},ae=G.extend({run:function(t,i,s,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=s||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Q(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,s=this._duration*1e3;i<s?this._runFrame(this._easeOut(i/s),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var s=this._startPos.add(this._offset.multiplyBy(t));i&&s._round(),Pt(this._el,s),this.fire("step")},_complete:function(){Lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),et=G.extend({options:{crs:Ii,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=O(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(ot(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=V&&F.any3d&&!F.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$(this._proxy,oe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,s){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(ot(t),i,this.options.maxBounds),s=s||{},this._stop(),this._loaded&&!s.reset&&s!==!0){s.animate!==void 0&&(s.zoom=v({animate:s.animate},s.zoom),s.pan=v({animate:s.animate,duration:s.duration},s.pan));var r=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,s.zoom):this._tryAnimatedPan(t,s.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,s.pan&&s.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(F.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,s){var r=this.getZoomScale(i),l=this.getSize().divideBy(2),_=t instanceof X?t:this.latLngToContainerPoint(t),y=_.subtract(l).multiplyBy(1-1/r),M=this.containerPointToLatLng(l.add(y));return this.setView(M,i,{zoom:s})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():K(t);var s=N(i.paddingTopLeft||i.padding||[0,0]),r=N(i.paddingBottomRight||i.padding||[0,0]),l=this.getBoundsZoom(t,!1,s.add(r));if(l=typeof i.maxZoom=="number"?Math.min(i.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var _=r.subtract(s).divideBy(2),y=this.project(t.getSouthWest(),l),M=this.project(t.getNorthEast(),l),k=this.unproject(y.add(M).divideBy(2).add(_),l);return{center:k,zoom:l}},fitBounds:function(t,i){if(t=K(t),!t.isValid())throw new Error("Bounds are not valid.");var s=this._getBoundsCenterZoom(t,i);return this.setView(s.center,s.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=N(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ae,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){W(this._mapPane,"leaflet-pan-anim");var s=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,s,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,s){if(s=s||{},s.animate===!1||!F.any3d)return this.setView(t,i,s);this._stop();var r=this.project(this.getCenter()),l=this.project(t),_=this.getSize(),y=this._zoom;t=ot(t),i=i===void 0?y:i;var M=Math.max(_.x,_.y),k=M*this.getZoomScale(y,i),I=l.distanceTo(r)||1,D=1.42,J=D*D;function rt(zt){var ro=zt?-1:1,zs=zt?k:M,Es=k*k-M*M+ro*J*J*I*I,Zs=2*zs*J*I,Po=Es/Zs,Qo=Math.sqrt(Po*Po+1)-Po,Os=Qo<1e-9?-18:Math.log(Qo);return Os}function ce(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function Zi(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function so(zt){return ce(zt)/Zi(zt)}var si=rt(0);function wo(zt){return M*(Zi(si)/Zi(si+D*zt))}function Cs(zt){return M*(Zi(si)*so(si+D*zt)-ce(si))/J}function Ms(zt){return 1-Math.pow(1-zt,1.5)}var Ss=Date.now(),Xo=(rt(1)-si)/D,ks=s.duration?1e3*s.duration:1e3*Xo*.8;function $o(){var zt=(Date.now()-Ss)/ks,ro=Ms(zt)*Xo;zt<=1?(this._flyToFrame=_t($o,this),this._move(this.unproject(r.add(l.subtract(r).multiplyBy(Cs(ro)/I)),y),this.getScaleZoom(M/wo(ro),y),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,s.noMoveStart),$o.call(this),this},flyToBounds:function(t,i){var s=this._getBoundsCenterZoom(t,i);return this.flyTo(s.center,s.zoom,i)},setMaxBounds:function(t){return t=K(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var s=this.getCenter(),r=this._limitCenter(s,this._zoom,K(t));return s.equals(r)||this.panTo(r,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var s=N(i.paddingTopLeft||i.padding||[0,0]),r=N(i.paddingBottomRight||i.padding||[0,0]),l=this.project(this.getCenter()),_=this.project(t),y=this.getPixelBounds(),M=ft([y.min.add(s),y.max.subtract(r)]),k=M.getSize();if(!M.contains(_)){this._enforcingBounds=!0;var I=_.subtract(M.getCenter()),D=M.extend(_).getSize().subtract(k);l.x+=I.x<0?-D.x:D.x,l.y+=I.y<0?-D.y:D.y,this.panTo(this.unproject(l),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=v({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var s=this.getSize(),r=i.divideBy(2).round(),l=s.divideBy(2).round(),_=r.subtract(l);return!_.x&&!_.y?this:(t.animate&&t.pan?this.panBy(_):(t.pan&&this._rawPanBy(_),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:s}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=v({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=d(this._handleGeolocationResponse,this),s=d(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,s,t):navigator.geolocation.getCurrentPosition(i,s,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,s=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+s+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,s=t.coords.longitude,r=new U(i,s),l=r.toBounds(t.coords.accuracy*2),_=this._locateOptions;if(_.setView){var y=this.getBoundsZoom(l);this.setView(r,_.maxZoom?Math.min(y,_.maxZoom):y)}var M={latlng:r,bounds:l,timestamp:t.timestamp};for(var k in t.coords)typeof t.coords[k]=="number"&&(M[k]=t.coords[k]);this.fire("locationfound",M)}},addHandler:function(t,i){if(!i)return this;var s=this[t]=new i(this);return this._handlers.push(s),this.options[t]&&s.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),gt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)gt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var s="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),r=st("div",s,i||this._mapPane);return t&&(this._panes[t]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),s=this.unproject(t.getTopRight());return new ct(i,s)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,s){t=K(t),s=N(s||[0,0]);var r=this.getZoom()||0,l=this.getMinZoom(),_=this.getMaxZoom(),y=t.getNorthWest(),M=t.getSouthEast(),k=this.getSize().subtract(s),I=ft(this.project(M,r),this.project(y,r)).getSize(),D=F.any3d?this.options.zoomSnap:1,J=k.x/I.x,rt=k.y/I.y,ce=i?Math.max(J,rt):Math.min(J,rt);return r=this.getScaleZoom(ce,r),D&&(r=Math.round(r/(D/100))*(D/100),r=i?Math.ceil(r/D)*D:Math.floor(r/D)*D),Math.max(l,Math.min(_,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var s=this._getTopLeftPoint(t,i);return new it(s,s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var s=this.options.crs;return i=i===void 0?this._zoom:i,s.scale(t)/s.scale(i)},getScaleZoom:function(t,i){var s=this.options.crs;i=i===void 0?this._zoom:i;var r=s.zoom(t*s.scale(i));return isNaN(r)?1/0:r},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(ot(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(N(t),i)},layerPointToLatLng:function(t){var i=N(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(ot(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ot(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(K(t))},distance:function(t,i){return this.options.crs.distance(ot(t),ot(i))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ot(t)))},mouseEventToContainerPoint:function(t){return Vi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=pt(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$(i,"scroll",this._onScroll,this),this._containerId=m(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&F.any3d,W(t,"leaflet-container"+(F.touch?" leaflet-touch":"")+(F.retina?" leaflet-retina":"")+(F.ielt9?" leaflet-oldie":"")+(F.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Ke(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(W(t.markerPane,"leaflet-zoom-hide"),W(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,s){Pt(this._mapPane,new X(0,0));var r=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var l=this._zoom!==i;this._moveStart(l,s)._move(t,i)._moveEnd(l),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,s,r){i===void 0&&(i=this._zoom);var l=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?s&&s.pinch&&this.fire("zoom",s):((l||s&&s.pinch)&&this.fire("zoom",s),this.fire("move",s)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Pt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var i=t?lt:$;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),F.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Lt(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var s=[],r,l=i==="mouseout"||i==="mouseover",_=t.target||t.srcElement,y=!1;_;){if(r=this._targets[m(_)],r&&(i==="click"||i==="preclick")&&this._draggableMoved(r)){y=!0;break}if(r&&r.listens(i,!0)&&(l&&!Dt(_,t)||(s.push(r),l))||_===this._container)break;_=_.parentNode}return!s.length&&!y&&!l&&this.listens(i,!0)&&(s=[this]),s},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var s=t.type;s==="mousedown"&&Re(i),this._fireDOMEvent(t,s)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,s){if(t.type==="click"){var r=v({},t);r.type="preclick",this._fireDOMEvent(r,r.type,s)}var l=this._findEventTargets(t,i);if(s){for(var _=[],y=0;y<s.length;y++)s[y].listens(i,!0)&&_.push(s[y]);l=_.concat(l)}if(l.length){i==="contextmenu"&&xt(t);var M=l[0],k={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var I=M.getLatLng&&(!M._radius||M._radius<=10);k.containerPoint=I?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(t),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=I?M.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(y=0;y<l.length;y++)if(l[y].fire(i,k,!0),k.originalEvent._stopped||l[y].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Q(this._mapPane)||new X(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var s=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return s.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var s=this.getSize()._divideBy(2);return this.project(t,i)._subtract(s)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,s){var r=this._getNewPixelOrigin(s,i);return this.project(t,i)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,i,s){var r=this._getNewPixelOrigin(s,i);return ft([this.project(t.getSouthWest(),i)._subtract(r),this.project(t.getNorthWest(),i)._subtract(r),this.project(t.getSouthEast(),i)._subtract(r),this.project(t.getNorthEast(),i)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,s){if(!s)return t;var r=this.project(t,i),l=this.getSize().divideBy(2),_=new it(r.subtract(l),r.add(l)),y=this._getBoundsOffset(_,s,i);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?t:this.unproject(r.add(y),i)},_limitOffset:function(t,i){if(!i)return t;var s=this.getPixelBounds(),r=new it(s.min.add(t),s.max.add(t));return t.add(this._getBoundsOffset(r,i))},_getBoundsOffset:function(t,i,s){var r=ft(this.project(i.getNorthEast(),s),this.project(i.getSouthWest(),s)),l=r.min.subtract(t.min),_=r.max.subtract(t.max),y=this._rebound(l.x,-_.x),M=this._rebound(l.y,-_.y);return new X(y,M)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),s=this.getMaxZoom(),r=F.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(i,Math.min(s,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var s=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(s)?!1:(this.panBy(s,i),!0)},_createAnimProxy:function(){var t=this._proxy=st("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var s=mi,r=this._proxy.style[s];_e(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),r===this._proxy.style[s]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){gt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();_e(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,s){if(this._animatingZoom)return!0;if(s=s||{},!this._zoomAnimated||s.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(i),l=this._getCenterOffset(t)._divideBy(1-1/r);return s.animate!==!0&&!this.getSize().contains(l)?!1:(_t(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,s,r){this._mapPane&&(s&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,W(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function wi(t,i){return new et(t,i)}var te=Zt.extend({options:{position:"topright"},initialize:function(t){O(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),s=this.getPosition(),r=t._controlCorners[s];return W(i,"leaflet-control"),s.indexOf("bottom")!==-1?r.insertBefore(i,r.firstChild):r.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(gt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ke=function(t){return new te(t)};et.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",s=this._controlContainer=st("div",i+"control-container",this._container);function r(l,_){var y=i+l+" "+i+_;t[l+_]=st("div",y,s)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)gt(this._controlCorners[t]);gt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var me=te.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,s,r){return s<r?-1:r<s?1:0}},initialize:function(t,i,s){O(this,s),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var r in t)this._addLayer(t[r],r);for(r in i)this._addLayer(i[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return te.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(m(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){W(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(W(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=st("div",t),s=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Se(i),Gi(i);var r=this._section=st("section",t+"-list");s&&(this._map.on("click",this.collapse,this),$(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=st("a",t+"-toggle",i);l.href="#",l.title="Layers",l.setAttribute("role","button"),$(l,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){xt(_),this._expandSafely()}},this),s||this.expand(),this._baseLayersList=st("div",t+"-base",r),this._separator=st("div",t+"-separator",r),this._overlaysList=st("div",t+"-overlays",r),i.appendChild(r)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&m(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,s){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:s}),this.options.sortLayers&&this._layers.sort(d(function(r,l){return this.options.sortFunction(r.layer,l.layer,r.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ye(this._baseLayersList),Ye(this._overlaysList),this._layerControlInputs=[];var t,i,s,r,l=0;for(s=0;s<this._layers.length;s++)r=this._layers[s],this._addItem(r),i=i||r.overlay,t=t||!r.overlay,l+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(m(t.target)),s=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;s&&this._map.fire(s,i)},_createRadioElement:function(t,i){var s='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=s,r.firstChild},_addItem:function(t){var i=document.createElement("label"),s=this._map.hasLayer(t.layer),r;t.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=s):r=this._createRadioElement("leaflet-base-layers_"+m(this),s),this._layerControlInputs.push(r),r.layerId=m(t.layer),$(r,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var _=document.createElement("span");i.appendChild(_),_.appendChild(r),_.appendChild(l);var y=t.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t=this._layerControlInputs,i,s,r=[],l=[];this._handlingClick=!0;for(var _=t.length-1;_>=0;_--)i=t[_],s=this._getLayer(i.layerId).layer,i.checked?r.push(s):i.checked||l.push(s);for(_=0;_<l.length;_++)this._map.hasLayer(l[_])&&this._map.removeLayer(l[_]);for(_=0;_<r.length;_++)this._map.hasLayer(r[_])||this._map.addLayer(r[_]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,s,r=this._map.getZoom(),l=t.length-1;l>=0;l--)i=t[l],s=this._getLayer(i.layerId).layer,i.disabled=s.options.minZoom!==void 0&&r<s.options.minZoom||s.options.maxZoom!==void 0&&r>s.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;$(t,"click",xt),this.expand(),setTimeout(function(){lt(t,"click",xt)})}}),qi=function(t,i,s){return new me(t,i,s)},Pi=te.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",s=st("div",i+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,i+"-in",s,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,i+"-out",s,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),s},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,s,r,l){var _=st("a",s,r);return _.innerHTML=t,_.href="#",_.title=i,_.setAttribute("role","button"),_.setAttribute("aria-label",i),Se(_),$(_,"click",Gt),$(_,"click",l,this),$(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";mt(this._zoomInButton,i),mt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(W(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(W(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});et.mergeOptions({zoomControl:!0}),et.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pi,this.addControl(this.zoomControl))});var ge=function(t){return new Pi(t)},Ne=te.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",s=st("div",i),r=this.options;return this._addScales(r,i+"-line",s),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),s},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,s){t.metric&&(this._mScale=st("div",i,s)),t.imperial&&(this._iScale=st("div",i,s))},_update:function(){var t=this._map,i=t.getSize().y/2,s=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(s)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),s=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,s,i/t)},_updateImperial:function(t){var i=t*3.2808399,s,r,l;i>5280?(s=i/5280,r=this._getRoundNum(s),this._updateScale(this._iScale,r+" mi",r/s)):(l=this._getRoundNum(i),this._updateScale(this._iScale,l+" ft",l/i))},_updateScale:function(t,i,s){t.style.width=Math.round(this.options.maxWidth*s)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),s=t/i;return s=s>=10?10:s>=5?5:s>=3?3:s>=2?2:1,i*s}}),ve=function(t){return new Ne(t)},Ki='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Yi=te.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(F.inlineSvg?Ki+" ":"")+"Leaflet</a>"},initialize:function(t){O(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=st("div","leaflet-control-attribution"),Se(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var s=[];this.options.prefix&&s.push(this.options.prefix),t.length&&s.push(t.join(", ")),this._container.innerHTML=s.join(' <span aria-hidden="true">|</span> ')}}});et.mergeOptions({attributionControl:!0}),et.addInitHook(function(){this.options.attributionControl&&new Yi().addTo(this)});var Tn=function(t){return new Yi(t)};te.Layers=me,te.Zoom=Pi,te.Scale=Ne,te.Attribution=Yi,ke.layers=qi,ke.zoom=ge,ke.scale=ve,ke.attribution=Tn;var Vt=Zt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,i){return t.addHandler(i,this),this};var Cn={Events:Ot},bi=F.touch?"touchstart mousedown":"mousedown",qt=G.extend({options:{clickTolerance:3},initialize:function(t,i,s,r){O(this,r),this._element=t,this._dragStartTarget=i||t,this._preventOutline=s},enable:function(){this._enabled||($(this._dragStartTarget,bi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qt._dragging===this&&this.finishDrag(!0),lt(this._dragStartTarget,bi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!De(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){qt._dragging===this&&this.finishDrag();return}if(!(qt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(qt._dragging=this,this._preventOutline&&Re(this._element),vi(),fe(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,s=pe(this._element);this._startPoint=new X(i.clientX,i.clientY),this._startPos=Q(this._element),this._parentScale=ji(s);var r=t.type==="mousedown";$(document,r?"mousemove":"touchmove",this._onMove,this),$(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,s=new X(i.clientX,i.clientY)._subtract(this._startPoint);!s.x&&!s.y||Math.abs(s.x)+Math.abs(s.y)<this.options.clickTolerance||(s.x/=this._parentScale.x,s.y/=this._parentScale.y,xt(t),this._moved||(this.fire("dragstart"),this._moved=!0,W(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),W(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(s),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Pt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),lt(document,"mousemove touchmove",this._onMove,this),lt(document,"mouseup touchend touchcancel",this._onUp,this),Fi(),Xe(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,qt._dragging=!1}});function Ti(t,i){if(!i||!t.length)return t.slice();var s=i*i;return t=Xn(t,s),t=Xi(t,s),t}function Mn(t,i,s){return Math.sqrt(he(t,i,s,!0))}function Ji(t,i,s){return he(t,i,s)}function Xi(t,i){var s=t.length,r=typeof Uint8Array!=void 0+""?Uint8Array:Array,l=new r(s);l[0]=l[s-1]=1,$i(t,l,i,0,s-1);var _,y=[];for(_=0;_<s;_++)l[_]&&y.push(t[_]);return y}function $i(t,i,s,r,l){var _=0,y,M,k;for(M=r+1;M<=l-1;M++)k=he(t[M],t[r],t[l],!0),k>_&&(y=M,_=k);_>s&&(i[y]=1,$i(t,i,s,r,y),$i(t,i,s,y,l))}function Xn(t,i){for(var s=[t[0]],r=1,l=0,_=t.length;r<_;r++)Mi(t[r],t[l])>i&&(s.push(t[r]),l=r);return l<_-1&&s.push(t[_-1]),s}var se;function Ci(t,i,s,r,l){var _=r?se:ze(t,s),y=ze(i,s),M,k,I;for(se=y;;){if(!(_|y))return[t,i];if(_&y)return!1;M=_||y,k=He(t,i,M,s,l),I=ze(k,s),M===_?(t=k,_=I):(i=k,y=I)}}function He(t,i,s,r,l){var _=i.x-t.x,y=i.y-t.y,M=r.min,k=r.max,I,D;return s&8?(I=t.x+_*(k.y-t.y)/y,D=k.y):s&4?(I=t.x+_*(M.y-t.y)/y,D=M.y):s&2?(I=k.x,D=t.y+y*(k.x-t.x)/_):s&1&&(I=M.x,D=t.y+y*(M.x-t.x)/_),new X(I,D,l)}function ze(t,i){var s=0;return t.x<i.min.x?s|=1:t.x>i.max.x&&(s|=2),t.y<i.min.y?s|=4:t.y>i.max.y&&(s|=8),s}function Mi(t,i){var s=i.x-t.x,r=i.y-t.y;return s*s+r*r}function he(t,i,s,r){var l=i.x,_=i.y,y=s.x-l,M=s.y-_,k=y*y+M*M,I;return k>0&&(I=((t.x-l)*y+(t.y-_)*M)/k,I>1?(l=s.x,_=s.y):I>0&&(l+=y*I,_+=M*I)),y=t.x-l,M=t.y-_,r?y*y+M*M:new X(l,_)}function Kt(t){return!ht(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Sn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Kt(t)}function ue(t,i){var s,r,l,_,y,M,k,I;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var D=[];for(var J in t)D.push(i.project(ot(t[J])));var rt=D.length;for(s=0,r=0;s<rt-1;s++)r+=D[s].distanceTo(D[s+1])/2;if(r===0)I=D[0];else for(s=0,_=0;s<rt-1;s++)if(y=D[s],M=D[s+1],l=y.distanceTo(M),_+=l,_>r){k=(_-r)/l,I=[M.x-k*(M.x-y.x),M.y-k*(M.y-y.y)];break}return i.unproject(N(I))}var $n={__proto__:null,simplify:Ti,pointToSegmentDistance:Mn,closestPointOnSegment:Ji,clipSegment:Ci,_getEdgeIntersection:He,_getBitCode:ze,_sqClosestPointOnSegment:he,isFlat:Kt,_flat:Sn,polylineCenter:ue};function kn(t,i,s){var r,l=[1,4,2,8],_,y,M,k,I,D,J,rt;for(_=0,D=t.length;_<D;_++)t[_]._code=ze(t[_],i);for(M=0;M<4;M++){for(J=l[M],r=[],_=0,D=t.length,y=D-1;_<D;y=_++)k=t[_],I=t[y],k._code&J?I._code&J||(rt=He(I,k,J,i,s),rt._code=ze(rt,i),r.push(rt)):(I._code&J&&(rt=He(I,k,J,i,s),rt._code=ze(rt,i),r.push(rt)),r.push(k));t=r}return t}function ii(t,i){var s,r,l,_,y,M,k,I,D;if(!t||t.length===0)throw new Error("latlngs not passed");Kt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var J=[];for(var rt in t)J.push(i.project(ot(t[rt])));var ce=J.length;for(M=k=I=0,s=0,r=ce-1;s<ce;r=s++)l=J[s],_=J[r],y=l.y*_.x-_.y*l.x,k+=(l.x+_.x)*y,I+=(l.y+_.y)*y,M+=y*3;return M===0?D=J[0]:D=[k/M,I/M],i.unproject(N(D))}var Si={__proto__:null,clipPolygon:kn,polygonCenter:ii},ni={project:function(t){return new X(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new it([-180,-90],[180,90])},Fe={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,s=this.R,r=t.lat*i,l=this.R_MINOR/s,_=Math.sqrt(1-l*l),y=_*Math.sin(r),M=Math.tan(Math.PI/4-r/2)/Math.pow((1-y)/(1+y),_/2);return r=-s*Math.log(Math.max(M,1e-10)),new X(t.lng*i*s,r)},unproject:function(t){for(var i=180/Math.PI,s=this.R,r=this.R_MINOR/s,l=Math.sqrt(1-r*r),_=Math.exp(-t.y/s),y=Math.PI/2-2*Math.atan(_),M=0,k=.1,I;M<15&&Math.abs(k)>1e-7;M++)I=l*Math.sin(y),I=Math.pow((1-I)/(1+I),l/2),k=Math.PI/2-2*Math.atan(_*I)-y,y+=k;return new U(y*i,t.x*i/s)}},Qn={__proto__:null,LonLat:ni,Mercator:Fe,SphericalMercator:Oe},to=v({},It,{code:"EPSG:3395",projection:Fe,transformation:function(){var t=.5/(Math.PI*Fe.R);return ai(t,.5,-t,.5)}()}),le=v({},It,{code:"EPSG:4326",projection:ni,transformation:ai(1/180,1,-1/180,.5)}),Qi=v({},Bt,{projection:ni,transformation:ai(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var s=i.lng-t.lng,r=i.lat-t.lat;return Math.sqrt(s*s+r*r)},infinite:!0});Bt.Earth=It,Bt.EPSG3395=to,Bt.EPSG3857=Ii,Bt.EPSG900913=Nn,Bt.EPSG4326=le,Bt.Simple=Qi;var Mt=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var s=this.getEvents();i.on(s,this),this.once("remove",function(){i.off(s,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});et.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=m(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=m(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,i){for(var s in this._layers)t.call(i,this._layers[s]);return this},_addLayers:function(t){t=t?ht(t)?t:[t]:[];for(var i=0,s=t.length;i<s;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=m(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,s=this._getZoomSpan();for(var r in this._zoomBoundLayers){var l=this._zoomBoundLayers[r].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),i=l.maxZoom===void 0?i:Math.max(i,l.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,s!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ye=Mt.extend({initialize:function(t,i){O(this,i),this._layers={};var s,r;if(t)for(s=0,r=t.length;s<r;s++)this.addLayer(t[s])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),s,r;for(s in this._layers)r=this._layers[s],r[t]&&r[t].apply(r,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var s in this._layers)t.call(i,this._layers[s]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),tn=function(t,i){return new ye(t,i)},Yt=ye.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ye.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ye.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ct;for(var i in this._layers){var s=this._layers[i];t.extend(s.getBounds?s.getBounds():s.getLatLng())}return t}}),ki=function(t,i){return new Yt(t,i)},oi=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){O(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var s=this._getIconUrl(t);if(!s){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(s,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(r,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(t,i){var s=this.options,r=s[i+"Size"];typeof r=="number"&&(r=[r,r]);var l=N(r),_=N(i==="shadow"&&s.shadowAnchor||s.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(s.className||""),_&&(t.style.marginLeft=-_.x+"px",t.style.marginTop=-_.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return F.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function e(t){return new oi(t)}var n=oi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof n.imagePath!="string"&&(n.imagePath=this._detectIconPath()),(this.options.imagePath||n.imagePath)+oi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(s,r,l){var _=r.exec(s);return _&&_[l]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=st("div","leaflet-default-icon-path",document.body),i=Ke(t,"background-image")||Ke(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var s=document.querySelector('link[href$="leaflet.css"]');return s?s.href.substring(0,s.href.length-11-1):""}}),o=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new qt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),W(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,s=i._map,r=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,_=Q(i._icon),y=s.getPixelBounds(),M=s.getPixelOrigin(),k=ft(y.min._subtract(M).add(l),y.max._subtract(M).subtract(l));if(!k.contains(_)){var I=N((Math.max(k.max.x,_.x)-k.max.x)/(y.max.x-k.max.x)-(Math.min(k.min.x,_.x)-k.min.x)/(y.min.x-k.min.x),(Math.max(k.max.y,_.y)-k.max.y)/(y.max.y-k.max.y)-(Math.min(k.min.y,_.y)-k.min.y)/(y.min.y-k.min.y)).multiplyBy(r);s.panBy(I,{animate:!1}),this._draggable._newPos._add(I),this._draggable._startPos._add(I),Pt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_t(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Lt(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,s=i._shadow,r=Q(i._icon),l=i._map.layerPointToLatLng(r);s&&Pt(s,r),i._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),a=Mt.extend({options:{icon:new n,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){O(this,i),this._latlng=ot(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=ot(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),s=t.icon.createIcon(this._icon),r=!1;s!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(s.title=t.title),s.tagName==="IMG"&&(s.alt=t.alt||"")),W(s,i),t.keyboard&&(s.tabIndex="0",s.setAttribute("role","button")),this._icon=s,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$(s,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),_=!1;l!==this._shadow&&(this._removeShadow(),_=!0),l&&(W(l,i),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&_&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(this._icon,"focus",this._panOnFocus,this),gt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&gt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Pt(this._icon,t),this._shadow&&Pt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(W(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Qt(this._icon,t),this._shadow&&Qt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,s=i.iconSize?N(i.iconSize):N(0,0),r=i.iconAnchor?N(i.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:s.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function u(t,i){return new a(t,i)}var f=Mt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return O(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),P=f.extend({options:{fill:!0,radius:10},initialize:function(t,i){O(this,i),this._latlng=ot(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=ot(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return f.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,s=this._clickTolerance(),r=[t+s,i+s];this._pxBounds=new it(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function x(t,i){return new P(t,i)}var Z=P.extend({initialize:function(t,i,s){if(typeof i=="number"&&(i=v({},s,{radius:i})),O(this,i),this._latlng=ot(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ct(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:f.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,s=this._map,r=s.options.crs;if(r.distance===It.distance){var l=Math.PI/180,_=this._mRadius/It.R/l,y=s.project([i+_,t]),M=s.project([i-_,t]),k=y.add(M).divideBy(2),I=s.unproject(k).lat,D=Math.acos((Math.cos(_*l)-Math.sin(i*l)*Math.sin(I*l))/(Math.cos(i*l)*Math.cos(I*l)))/l;(isNaN(D)||D===0)&&(D=_/Math.cos(Math.PI/180*i)),this._point=k.subtract(s.getPixelOrigin()),this._radius=isNaN(D)?0:k.x-s.project([I,t-D]).x,this._radiusY=k.y-y.y}else{var J=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(J).x}this._updateBounds()}});function B(t,i,s){return new Z(t,i,s)}var R=f.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){O(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,s=null,r=he,l,_,y=0,M=this._parts.length;y<M;y++)for(var k=this._parts[y],I=1,D=k.length;I<D;I++){l=k[I-1],_=k[I];var J=r(t,l,_,!0);J<i&&(i=J,s=r(t,l,_))}return s&&(s.distance=Math.sqrt(i)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ue(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=ot(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ct,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],s=Kt(t),r=0,l=t.length;r<l;r++)s?(i[r]=ot(t[r]),this._bounds.extend(i[r])):i[r]=this._convertLatLngs(t[r]);return i},_project:function(){var t=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new X(t,t);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,s){var r=t[0]instanceof U,l=t.length,_,y;if(r){for(y=[],_=0;_<l;_++)y[_]=this._map.latLngToLayerPoint(t[_]),s.extend(y[_]);i.push(y)}else for(_=0;_<l;_++)this._projectLatlngs(t[_],i,s)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,s,r,l,_,y,M,k;for(s=0,l=0,_=this._rings.length;s<_;s++)for(k=this._rings[s],r=0,y=k.length;r<y-1;r++)M=Ci(k[r],k[r+1],t,r,!0),M&&(i[l]=i[l]||[],i[l].push(M[0]),(M[1]!==k[r+1]||r===y-2)&&(i[l].push(M[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,s=0,r=t.length;s<r;s++)t[s]=Ti(t[s],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var s,r,l,_,y,M,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(s=0,_=this._parts.length;s<_;s++)for(M=this._parts[s],r=0,y=M.length,l=y-1;r<y;l=r++)if(!(!i&&r===0)&&Mn(t,M[l],M[r])<=k)return!0;return!1}});function tt(t,i){return new R(t,i)}R._flat=Sn;var dt=R.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ii(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=R.prototype._convertLatLngs.call(this,t),s=i.length;return s>=2&&i[0]instanceof U&&i[0].equals(i[s-1])&&i.pop(),i},_setLatLngs:function(t){R.prototype._setLatLngs.call(this,t),Kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,s=new X(i,i);if(t=new it(t.min.subtract(s),t.max.add(s)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,l=this._rings.length,_;r<l;r++)_=kn(this._rings[r],t,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,s,r,l,_,y,M,k,I;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(_=0,k=this._parts.length;_<k;_++)for(s=this._parts[_],y=0,I=s.length,M=I-1;y<I;M=y++)r=s[y],l=s[M],r.y>t.y!=l.y>t.y&&t.x<(l.x-r.x)*(t.y-r.y)/(l.y-r.y)+r.x&&(i=!i);return i||R.prototype._containsPoint.call(this,t,!0)}});function Rt(t,i){return new dt(t,i)}var St=Yt.extend({initialize:function(t,i){O(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=ht(t)?t:t.features,s,r,l;if(i){for(s=0,r=i.length;s<r;s++)l=i[s],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var _=this.options;if(_.filter&&!_.filter(t))return this;var y=kt(t,_);return y?(y.feature=Ei(t),y.defaultOptions=y.options,this.resetStyle(y),_.onEachFeature&&_.onEachFeature(t,y),this.addLayer(y)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=v({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function kt(t,i){var s=t.type==="Feature"?t.geometry:t,r=s?s.coordinates:null,l=[],_=i&&i.pointToLayer,y=i&&i.coordsToLatLng||zn,M,k,I,D;if(!r&&!s)return null;switch(s.type){case"Point":return M=y(r),Ft(_,t,M,i);case"MultiPoint":for(I=0,D=r.length;I<D;I++)M=y(r[I]),l.push(Ft(_,t,M,i));return new Yt(l);case"LineString":case"MultiLineString":return k=zi(r,s.type==="LineString"?0:1,y),new R(k,i);case"Polygon":case"MultiPolygon":return k=zi(r,s.type==="Polygon"?1:2,y),new dt(k,i);case"GeometryCollection":for(I=0,D=s.geometries.length;I<D;I++){var J=kt({geometry:s.geometries[I],type:"Feature",properties:t.properties},i);J&&l.push(J)}return new Yt(l);case"FeatureCollection":for(I=0,D=s.features.length;I<D;I++){var rt=kt(s.features[I],i);rt&&l.push(rt)}return new Yt(l);default:throw new Error("Invalid GeoJSON object.")}}function Ft(t,i,s,r){return t?t(i,s):new a(s,r&&r.markersInheritOptions&&r)}function zn(t){return new U(t[1],t[0],t[2])}function zi(t,i,s){for(var r=[],l=0,_=t.length,y;l<_;l++)y=i?zi(t[l],i-1,s):(s||zn)(t[l]),r.push(y);return r}function En(t,i){return t=ot(t),t.alt!==void 0?[z(t.lng,i),z(t.lat,i),z(t.alt,i)]:[z(t.lng,i),z(t.lat,i)]}function yt(t,i,s,r){for(var l=[],_=0,y=t.length;_<y;_++)l.push(i?yt(t[_],Kt(t[_])?0:i-1,s,r):En(t[_],r));return!i&&s&&l.push(l[0].slice()),l}function Le(t,i){return t.feature?v({},t.feature,{geometry:i}):Ei(i)}function Ei(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var xo={toGeoJSON:function(t){return Le(this,{type:"Point",coordinates:En(this.getLatLng(),t)})}};a.include(xo),Z.include(xo),P.include(xo),R.include({toGeoJSON:function(t){var i=!Kt(this._latlngs),s=yt(this._latlngs,i?1:0,!1,t);return Le(this,{type:(i?"Multi":"")+"LineString",coordinates:s})}}),dt.include({toGeoJSON:function(t){var i=!Kt(this._latlngs),s=i&&!Kt(this._latlngs[0]),r=yt(this._latlngs,s?2:i?1:0,!0,t);return i||(r=[r]),Le(this,{type:(s?"Multi":"")+"Polygon",coordinates:r})}}),ye.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(s){i.push(s.toGeoJSON(t).geometry.coordinates)}),Le(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var s=i==="GeometryCollection",r=[];return this.eachLayer(function(l){if(l.toGeoJSON){var _=l.toGeoJSON(t);if(s)r.push(_.geometry);else{var y=Ei(_);y.type==="FeatureCollection"?r.push.apply(r,y.features):r.push(y)}}}),s?Le(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function Io(t,i){return new St(t,i)}var _s=Io,eo=Mt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,s){this._url=t,this._bounds=K(i),O(this,s)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(W(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){gt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&$t(this._image),this},bringToBack:function(){return this._map&&Ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=K(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:st("img");if(W(i,"leaflet-image-layer"),this._zoomAnimated&&W(i,"leaflet-zoom-animated"),this.options.className&&W(i,this.options.className),i.onselectstart=b,i.onmousemove=b,i.onload=d(this.fire,this,"load"),i.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),s=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;_e(this._image,s,i)},_reset:function(){var t=this._image,i=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),s=i.getSize();Pt(t,i.min),t.style.width=s.x+"px",t.style.height=s.y+"px"},_updateOpacity:function(){Qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),fs=function(t,i,s){return new eo(t,i,s)},Ao=eo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:st("video");if(W(i,"leaflet-image-layer"),this._zoomAnimated&&W(i,"leaflet-zoom-animated"),this.options.className&&W(i,this.options.className),i.onselectstart=b,i.onmousemove=b,i.onloadeddata=d(this.fire,this,"load"),t){for(var s=i.getElementsByTagName("source"),r=[],l=0;l<s.length;l++)r.push(s[l].src);this._url=s.length>0?r:[i.src];return}ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var y=st("source");y.src=this._url[_],i.appendChild(y)}}});function ps(t,i,s){return new Ao(t,i,s)}var Bo=eo.extend({_initImage:function(){var t=this._image=this._url;W(t,"leaflet-image-layer"),this._zoomAnimated&&W(t,"leaflet-zoom-animated"),this.options.className&&W(t,this.options.className),t.onselectstart=b,t.onmousemove=b}});function ms(t,i,s){return new Bo(t,i,s)}var Ee=Mt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof U||ht(t))?(this._latlng=ot(t),O(this,i)):(O(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Qt(this._container,1),this.bringToFront(),this.options.interactive&&(W(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Qt(this._container,0),this._removeTimeout=setTimeout(d(gt,void 0,this._container),200)):gt(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ot(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$t(this._container),this},bringToBack:function(){return this._map&&Ce(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Yt){i=null;var s=this._source._layers;for(var r in s)if(s[r]._map){i=s[r];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=N(this.options.offset),s=this._getAnchor();this._zoomAnimated?Pt(this._container,t.add(s)):i=i.add(t).add(s);var r=this._containerBottom=-i.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=r+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});et.include({_initOverlay:function(t,i,s,r){var l=i;return l instanceof t||(l=new t(r).setContent(i)),s&&l.setLatLng(s),l}}),Mt.include({_initOverlay:function(t,i,s,r){var l=s;return l instanceof t?(O(l,r),l._source=this):(l=i&&!r?i:new t(r,this),l.setContent(s)),l}});var io=Ee.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ee.prototype.openOn.call(this,t)},onAdd:function(t){Ee.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof f||this._source.on("preclick",Me))},onRemove:function(t){Ee.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof f||this._source.off("preclick",Me))},getEvents:function(){var t=Ee.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=st("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),s=this._wrapper=st("div",t+"-content-wrapper",i);if(this._contentNode=st("div",t+"-content",s),Se(i),Gi(this._contentNode),$(i,"contextmenu",Me),this._tipContainer=st("div",t+"-tip-container",i),this._tip=st("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=st("a",t+"-close-button",i);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',$(r,"click",function(l){xt(l),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var s=t.offsetWidth;s=Math.min(s,this.options.maxWidth),s=Math.max(s,this.options.minWidth),i.width=s+1+"px",i.whiteSpace="",i.height="";var r=t.offsetHeight,l=this.options.maxHeight,_="leaflet-popup-scrolled";l&&r>l?(i.height=l+"px",W(t,_)):mt(t,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),s=this._getAnchor();Pt(this._container,i.add(s))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Ke(this._container,"marginBottom"),10)||0,s=this._container.offsetHeight+i,r=this._containerWidth,l=new X(this._containerLeft,-s-this._containerBottom);l._add(Q(this._container));var _=t.layerPointToContainerPoint(l),y=N(this.options.autoPanPadding),M=N(this.options.autoPanPaddingTopLeft||y),k=N(this.options.autoPanPaddingBottomRight||y),I=t.getSize(),D=0,J=0;_.x+r+k.x>I.x&&(D=_.x+r-I.x+k.x),_.x-D-M.x<0&&(D=_.x-M.x),_.y+s+k.y>I.y&&(J=_.y+s-I.y+k.y),_.y-J-M.y<0&&(J=_.y-M.y),(D||J)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([D,J]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gs=function(t,i){return new io(t,i)};et.mergeOptions({closePopupOnClick:!0}),et.include({openPopup:function(t,i,s){return this._initOverlay(io,t,i,s).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Mt.include({bindPopup:function(t,i){return this._popup=this._initOverlay(io,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Yt||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Gt(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof f)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var no=Ee.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ee.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ee.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ee.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=st("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,s,r=this._map,l=this._container,_=r.latLngToContainerPoint(r.getCenter()),y=r.layerPointToContainerPoint(t),M=this.options.direction,k=l.offsetWidth,I=l.offsetHeight,D=N(this.options.offset),J=this._getAnchor();M==="top"?(i=k/2,s=I):M==="bottom"?(i=k/2,s=0):M==="center"?(i=k/2,s=I/2):M==="right"?(i=0,s=I/2):M==="left"?(i=k,s=I/2):y.x<_.x?(M="right",i=0,s=I/2):(M="left",i=k+(D.x+J.x)*2,s=I/2),t=t.subtract(N(i,s,!0)).add(D).add(J),mt(l,"leaflet-tooltip-right"),mt(l,"leaflet-tooltip-left"),mt(l,"leaflet-tooltip-top"),mt(l,"leaflet-tooltip-bottom"),W(l,"leaflet-tooltip-"+M),Pt(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Qt(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vs=function(t,i){return new no(t,i)};et.include({openTooltip:function(t,i,s){return this._initOverlay(no,t,i,s).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Mt.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(no,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",s={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?s.add=this._openTooltip:(s.mouseover=this._openTooltip,s.mouseout=this.closeTooltip,s.click=this._openTooltip,this._map?this._addFocusListeners():s.add=this._addFocusListeners),this._tooltip.options.sticky&&(s.mousemove=this._moveTooltip),this[i](s),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Yt||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=t.getElement();i&&($(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),$(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var i=t.latlng,s,r;this._tooltip.options.sticky&&t.originalEvent&&(s=this._map.mouseEventToContainerPoint(t.originalEvent),r=this._map.containerPointToLayerPoint(s),i=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(i)}});var Do=oi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),s=this.options;if(s.html instanceof Element?(Ye(i),i.appendChild(s.html)):i.innerHTML=s.html!==!1?s.html:"",s.bgPos){var r=N(s.bgPos);i.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function ys(t){return new Do(t)}oi.Default=n;var Zn=Mt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:F.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){O(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),gt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof X?t:new X(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,s=-t(-1/0,1/0),r=0,l=i.length,_;r<l;r++)_=i[r].style.zIndex,i[r]!==this._container&&_&&(s=t(s,+_));isFinite(s)&&(this.options.zIndex=s+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!F.ielt9){Qt(this._container,this.options.opacity);var t=+new Date,i=!1,s=!1;for(var r in this._tiles){var l=this._tiles[r];if(!(!l.current||!l.loaded)){var _=Math.min(1,(t-l.loaded)/200);Qt(l.el,_),_<1?i=!0:(l.active?s=!0:this._onOpaqueTile(l),l.active=!0)}}s&&!this._noPrune&&this._pruneTiles(),i&&(Lt(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=st("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var s in this._levels)s=Number(s),this._levels[s].el.children.length||s===t?(this._levels[s].el.style.zIndex=i-Math.abs(t-s),this._onUpdateLevel(s)):(gt(this._levels[s].el),this._removeTilesAtZoom(s),this._onRemoveLevel(s),delete this._levels[s]);var r=this._levels[t],l=this._map;return r||(r=this._levels[t]={},r.el=st("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=i,r.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,l.getCenter(),l.getZoom()),b(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var t,i,s=this._map.getZoom();if(s>this.options.maxZoom||s<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var r=i.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)gt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,s,r){var l=Math.floor(t/2),_=Math.floor(i/2),y=s-1,M=new X(+l,+_);M.z=+y;var k=this._tileCoordsToKey(M),I=this._tiles[k];return I&&I.active?(I.retain=!0,!0):(I&&I.loaded&&(I.retain=!0),y>r?this._retainParent(l,_,y,r):!1)},_retainChildren:function(t,i,s,r){for(var l=2*t;l<2*t+2;l++)for(var _=2*i;_<2*i+2;_++){var y=new X(l,_);y.z=s+1;var M=this._tileCoordsToKey(y),k=this._tiles[M];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);s+1<r&&this._retainChildren(l,_,s+1,r)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,s,r){var l=Math.round(i);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var _=this.options.updateWhenZooming&&l!==this._tileZoom;(!r||_)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),s||this._pruneTiles(),this._noPrune=!!s),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var s in this._levels)this._setZoomTransform(this._levels[s],t,i)},_setZoomTransform:function(t,i,s){var r=this._map.getZoomScale(s,t.zoom),l=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(i,s)).round();F.any3d?_e(t.el,l,r):Pt(t.el,l)},_resetGrid:function(){var t=this._map,i=t.options.crs,s=this._tileSize=this.getTileSize(),r=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],r).x/s.x),Math.ceil(t.project([0,i.wrapLng[1]],r).x/s.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],r).y/s.x),Math.ceil(t.project([i.wrapLat[1],0],r).y/s.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,s=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),r=i.getZoomScale(s,this._tileZoom),l=i.project(t,this._tileZoom).floor(),_=i.getSize().divideBy(r*2);return new it(l.subtract(_),l.add(_))},_update:function(t){var i=this._map;if(i){var s=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(r),_=l.getCenter(),y=[],M=this.options.keepBuffer,k=new it(l.getBottomLeft().subtract([M,-M]),l.getTopRight().add([M,-M]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var I in this._tiles){var D=this._tiles[I].coords;(D.z!==this._tileZoom||!k.contains(new X(D.x,D.y)))&&(this._tiles[I].current=!1)}if(Math.abs(s-this._tileZoom)>1){this._setView(t,s);return}for(var J=l.min.y;J<=l.max.y;J++)for(var rt=l.min.x;rt<=l.max.x;rt++){var ce=new X(rt,J);if(ce.z=this._tileZoom,!!this._isValidTile(ce)){var Zi=this._tiles[this._tileCoordsToKey(ce)];Zi?Zi.current=!0:y.push(ce)}}if(y.sort(function(si,wo){return si.distanceTo(_)-wo.distanceTo(_)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var so=document.createDocumentFragment();for(rt=0;rt<y.length;rt++)this._addTile(y[rt],so);this._level.el.appendChild(so)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var s=this._globalTileRange;if(!i.wrapLng&&(t.x<s.min.x||t.x>s.max.x)||!i.wrapLat&&(t.y<s.min.y||t.y>s.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return K(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,s=this.getTileSize(),r=t.scaleBy(s),l=r.add(s),_=i.unproject(r,t.z),y=i.unproject(l,t.z);return[_,y]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),s=new ct(i[0],i[1]);return this.options.noWrap||(s=this._map.wrapLatLngBounds(s)),s},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),s=new X(+i[0],+i[1]);return s.z=+i[2],s},_removeTile:function(t){var i=this._tiles[t];i&&(gt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){W(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=b,t.onmousemove=b,F.ielt9&&this.options.opacity<1&&Qt(t,this.options.opacity)},_addTile:function(t,i){var s=this._getTilePos(t),r=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),d(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&_t(d(this._tileReady,this,t,null,l)),Pt(l,s),this._tiles[r]={el:l,coords:t,current:!0},i.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,i,s){i&&this.fire("tileerror",{error:i,tile:s,coords:t});var r=this._tileCoordsToKey(t);s=this._tiles[r],s&&(s.loaded=+new Date,this._map._fadeAnimated?(Qt(s.el,0),Lt(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(s.active=!0,this._pruneTiles()),i||(W(s.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:s.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),F.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new X(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new it(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Ls(t){return new Zn(t)}var en=Zn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=O(this,i),i.detectRetina&&F.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var s=document.createElement("img");return $(s,"load",d(this._tileOnLoad,this,i,s)),$(s,"error",d(this._tileOnError,this,i,s)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(s.referrerPolicy=this.options.referrerPolicy),s.alt="",s.src=this.getTileUrl(t),s},getTileUrl:function(t){var i={r:F.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var s=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=s),i["-y"]=s}return nt(this._url,v(i,this.options))},_tileOnLoad:function(t,i){F.ielt9?setTimeout(d(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,s){var r=this.options.errorTileUrl;r&&i.getAttribute("src")!==r&&(i.src=r),t(s,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,s=this.options.zoomReverse,r=this.options.zoomOffset;return s&&(t=i-t),t+r},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=b,i.onerror=b,!i.complete)){i.src=At;var s=this._tiles[t].coords;gt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:s})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",At),Zn.prototype._removeTile.call(this,t)},_tileReady:function(t,i,s){if(!(!this._map||s&&s.getAttribute("src")===At))return Zn.prototype._tileReady.call(this,t,i,s)}});function Ro(t,i){return new en(t,i)}var No=en.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var s=v({},this.defaultWmsParams);for(var r in i)r in this.options||(s[r]=i[r]);i=O(this,i);var l=i.detectRetina&&F.retina?2:1,_=this.getTileSize();s.width=_.x*l,s.height=_.y*l,this.wmsParams=s},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,en.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),s=this._crs,r=ft(s.project(i[0]),s.project(i[1])),l=r.min,_=r.max,y=(this._wmsVersion>=1.3&&this._crs===le?[l.y,l.x,_.y,_.x]:[l.x,l.y,_.x,_.y]).join(","),M=en.prototype.getTileUrl.call(this,t);return M+at(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(t,i){return v(this.wmsParams,t),i||this.redraw(),this}});function xs(t,i){return new No(t,i)}en.WMS=No,Ro.wms=xs;var je=Mt.extend({options:{padding:.1},initialize:function(t){O(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&W(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var s=this._map.getZoomScale(i,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,i),_=r.multiplyBy(-s).add(l).subtract(this._map._getNewPixelOrigin(t,i));F.any3d?_e(this._container,_,s):Pt(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),s=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new it(s,s.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ho=je.extend({options:{tolerance:0},getEvents:function(){var t=je.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){je.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");$(t,"mousemove",this._onMouseMove,this),$(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Lt(this._redrawRequest),delete this._ctx,gt(this._container),lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,i=this._container,s=t.getSize(),r=F.retina?2:1;Pt(i,t.min),i.width=r*s.x,i.height=r*s.y,i.style.width=s.x+"px",i.style.height=s.y+"px",F.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){je.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,s=i.next,r=i.prev;s?s.prev=r:this._drawLast=r,r?r.next=s:this._drawFirst=s,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),s=[],r,l;for(l=0;l<i.length;l++){if(r=Number(i[l]),isNaN(r))return;s.push(r)}t.options._dashArray=s}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var s=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,s.x,s.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var s,r,l,_,y=t._parts,M=y.length,k=this._ctx;if(M){for(k.beginPath(),s=0;s<M;s++){for(r=0,l=y[s].length;r<l;r++)_=y[s][r],k[r?"lineTo":"moveTo"](_.x,_.y);i&&k.closePath()}this._fillStroke(k,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,s=this._ctx,r=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||r)/r;l!==1&&(s.save(),s.scale(1,l)),s.beginPath(),s.arc(i.x,i.y/l,r,0,Math.PI*2,!1),l!==1&&s.restore(),this._fillStroke(s,t)}},_fillStroke:function(t,i){var s=i.options;s.fill&&(t.globalAlpha=s.fillOpacity,t.fillStyle=s.fillColor||s.color,t.fill(s.fillRule||"evenodd")),s.stroke&&s.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=s.opacity,t.lineWidth=s.weight,t.strokeStyle=s.color,t.lineCap=s.lineCap,t.lineJoin=s.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),s,r,l=this._drawFirst;l;l=l.next)s=l.layer,s.options.interactive&&s._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(s))&&(r=s);this._fireEvent(r?[r]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(mt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var s,r,l=this._drawFirst;l;l=l.next)s=l.layer,s.options.interactive&&s._containsPoint(i)&&(r=s);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(W(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,s){this._map._fireDOMEvent(i,s||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var s=i.next,r=i.prev;if(s)s.prev=r;else return;r?r.next=s:s&&(this._drawFirst=s),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var s=i.next,r=i.prev;if(r)r.next=s;else return;s?s.prev=r:r&&(this._drawLast=r),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function Fo(t){return F.canvas?new Ho(t):null}var On=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ws={_initContainer:function(){this._container=st("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(je.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=On("shape");W(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=On("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;gt(i),t.removeInteractiveTarget(i),delete this._layers[m(t)]},_updateStyle:function(t){var i=t._stroke,s=t._fill,r=t.options,l=t._container;l.stroked=!!r.stroke,l.filled=!!r.fill,r.stroke?(i||(i=t._stroke=On("stroke")),l.appendChild(i),i.weight=r.weight+"px",i.color=r.color,i.opacity=r.opacity,r.dashArray?i.dashStyle=ht(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=r.lineCap.replace("butt","flat"),i.joinstyle=r.lineJoin):i&&(l.removeChild(i),t._stroke=null),r.fill?(s||(s=t._fill=On("fill")),l.appendChild(s),s.color=r.fillColor||r.color,s.opacity=r.fillOpacity):s&&(l.removeChild(s),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),s=Math.round(t._radius),r=Math.round(t._radiusY||s);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+s+","+r+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){$t(t._container)},_bringToBack:function(t){Ce(t._container)}},oo=F.vml?On:Ae,In=je.extend({_initContainer:function(){this._container=oo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=oo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){gt(this._container),lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){je.prototype._update.call(this);var t=this._bounds,i=t.getSize(),s=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,s.setAttribute("width",i.x),s.setAttribute("height",i.y)),Pt(s,t.min),s.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=oo("path");t.options.className&&W(i,t.options.className),t.options.interactive&&W(i,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){gt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,s=t.options;i&&(s.stroke?(i.setAttribute("stroke",s.color),i.setAttribute("stroke-opacity",s.opacity),i.setAttribute("stroke-width",s.weight),i.setAttribute("stroke-linecap",s.lineCap),i.setAttribute("stroke-linejoin",s.lineJoin),s.dashArray?i.setAttribute("stroke-dasharray",s.dashArray):i.removeAttribute("stroke-dasharray"),s.dashOffset?i.setAttribute("stroke-dashoffset",s.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),s.fill?(i.setAttribute("fill",s.fillColor||s.color),i.setAttribute("fill-opacity",s.fillOpacity),i.setAttribute("fill-rule",s.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,hi(t._parts,i))},_updateCircle:function(t){var i=t._point,s=Math.max(Math.round(t._radius),1),r=Math.max(Math.round(t._radiusY),1)||s,l="a"+s+","+r+" 0 1,0 ",_=t._empty()?"M0 0":"M"+(i.x-s)+","+i.y+l+s*2+",0 "+l+-s*2+",0 ";this._setPath(t,_)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){$t(t._path)},_bringToBack:function(t){Ce(t._path)}});F.vml&&In.include(ws);function jo(t){return F.svg||F.vml?new In(t):null}et.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&Fo(t)||jo(t)}});var Wo=dt.extend({initialize:function(t,i){dt.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=K(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ps(t,i){return new Wo(t,i)}In.create=oo,In.pointsToPath=hi,St.geometryToLayer=kt,St.coordsToLatLng=zn,St.coordsToLatLngs=zi,St.latLngToCoords=En,St.latLngsToCoords=yt,St.getFeature=Le,St.asFeature=Ei,et.mergeOptions({boxZoom:!0});var Uo=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){$(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){gt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fe(),vi(),this._startPoint=this._map.mouseEventToContainerPoint(t),$(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=st("div","leaflet-zoom-box",this._container),W(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new it(this._point,this._startPoint),s=i.getSize();Pt(this._box,i.min),this._box.style.width=s.x+"px",this._box.style.height=s.y+"px"},_finish:function(){this._moved&&(gt(this._box),mt(this._container,"leaflet-crosshair")),Xe(),Fi(),lt(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var i=new ct(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});et.addInitHook("addHandler","boxZoom",Uo),et.mergeOptions({doubleClickZoom:!0});var Go=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,s=i.getZoom(),r=i.options.zoomDelta,l=t.originalEvent.shiftKey?s-r:s+r;i.options.doubleClickZoom==="center"?i.setZoom(l):i.setZoomAround(t.containerPoint,l)}});et.addInitHook("addHandler","doubleClickZoom",Go),et.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vo=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new qt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}W(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=K(this._map.options.maxBounds);this._offsetLimit=ft(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,s=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(s),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),s=this._initialWorldOffset,r=this._draggable._newPos.x,l=(r-i+s)%t+i-s,_=(r+i+s)%t-i-s,y=Math.abs(l+s)<Math.abs(_+s)?l:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(t){var i=this._map,s=i.options,r=!s.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),r)i.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,y=s.easeLinearity,M=l.multiplyBy(y/_),k=M.distanceTo([0,0]),I=Math.min(s.inertiaMaxSpeed,k),D=M.multiplyBy(I/k),J=I/(s.inertiaDeceleration*y),rt=D.multiplyBy(-J/2).round();!rt.x&&!rt.y?i.fire("moveend"):(rt=i._limitOffset(rt,i.options.maxBounds),_t(function(){i.panBy(rt,{duration:J,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});et.addInitHook("addHandler","dragging",Vo),et.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qo=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),$(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,s=t.scrollTop||i.scrollTop,r=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(r,s)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},s=this.keyCodes,r,l;for(r=0,l=s.left.length;r<l;r++)i[s.left[r]]=[-1*t,0];for(r=0,l=s.right.length;r<l;r++)i[s.right[r]]=[t,0];for(r=0,l=s.down.length;r<l;r++)i[s.down[r]]=[0,t];for(r=0,l=s.up.length;r<l;r++)i[s.up[r]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},s=this.keyCodes,r,l;for(r=0,l=s.zoomIn.length;r<l;r++)i[s.zoomIn[r]]=t;for(r=0,l=s.zoomOut.length;r<l;r++)i[s.zoomOut[r]]=-t},_addHooks:function(){$(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,s=this._map,r;if(i in this._panKeys){if(!s._panAnim||!s._panAnim._inProgress)if(r=this._panKeys[i],t.shiftKey&&(r=N(r).multiplyBy(3)),s.options.maxBounds&&(r=s._limitOffset(N(r),s.options.maxBounds)),s.options.worldCopyJump){var l=s.wrapLatLng(s.unproject(s.project(s.getCenter()).add(r)));s.panTo(l)}else s.panBy(r)}else if(i in this._zoomKeys)s.setZoom(s.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&s._popup&&s._popup.options.closeOnEscapeKey)s.closePopup();else return;Gt(t)}}});et.addInitHook("addHandler","keyboard",qo),et.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ko=Vt.extend({addHooks:function(){$(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=xi(t),s=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(s-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),r),Gt(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),s=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,_=s?Math.ceil(l/s)*s:l,y=t._limitZoom(i+(this._delta>0?_:-_))-i;this._delta=0,this._startTime=null,y&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+y):t.setZoomAround(this._lastMousePos,i+y))}});et.addInitHook("addHandler","scrollWheelZoom",Ko);var bs=600;et.mergeOptions({tapHold:F.touchNative&&F.safari&&F.mobile,tapTolerance:15});var Yo=Vt.extend({addHooks:function(){$(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new X(i.clientX,i.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&($(document,"touchend",xt),$(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),bs),$(document,"touchend touchcancel contextmenu",this._cancel,this),$(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){lt(document,"touchend",xt),lt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new X(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var s=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});s._simulated=!0,i.target.dispatchEvent(s)}});et.addInitHook("addHandler","tapHold",Yo),et.mergeOptions({touchZoom:F.touch,bounceAtZoomLimits:!0});var Jo=Vt.extend({addHooks:function(){W(this._map._container,"leaflet-touch-zoom"),$(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var s=i.mouseEventToContainerPoint(t.touches[0]),r=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(s.add(r)._divideBy(2))),this._startDist=s.distanceTo(r),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),$(document,"touchmove",this._onTouchMove,this),$(document,"touchend touchcancel",this._onTouchEnd,this),xt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,s=i.mouseEventToContainerPoint(t.touches[0]),r=i.mouseEventToContainerPoint(t.touches[1]),l=s.distanceTo(r)/this._startDist;if(this._zoom=i.getScaleZoom(l,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&l<1||this._zoom>i.getMaxZoom()&&l>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var _=s._add(r)._divideBy(2)._subtract(this._centerPoint);if(l===1&&_.x===0&&_.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Lt(this._animRequest);var y=d(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_t(y,this,!0),xt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Lt(this._animRequest),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});et.addInitHook("addHandler","touchZoom",Jo),et.BoxZoom=Uo,et.DoubleClickZoom=Go,et.Drag=Vo,et.Keyboard=qo,et.ScrollWheelZoom=Ko,et.TapHold=Yo,et.TouchZoom=Jo,c.Bounds=it,c.Browser=F,c.CRS=Bt,c.Canvas=Ho,c.Circle=Z,c.CircleMarker=P,c.Class=Zt,c.Control=te,c.DivIcon=Do,c.DivOverlay=Ee,c.DomEvent=ei,c.DomUtil=Yn,c.Draggable=qt,c.Evented=G,c.FeatureGroup=Yt,c.GeoJSON=St,c.GridLayer=Zn,c.Handler=Vt,c.Icon=oi,c.ImageOverlay=eo,c.LatLng=U,c.LatLngBounds=ct,c.Layer=Mt,c.LayerGroup=ye,c.LineUtil=$n,c.Map=et,c.Marker=a,c.Mixin=Cn,c.Path=f,c.Point=X,c.PolyUtil=Si,c.Polygon=dt,c.Polyline=R,c.Popup=io,c.PosAnimation=ae,c.Projection=Qn,c.Rectangle=Wo,c.Renderer=je,c.SVG=In,c.SVGOverlay=Bo,c.TileLayer=en,c.Tooltip=no,c.Transformation=Ie,c.Util=fo,c.VideoOverlay=Ao,c.bind=d,c.bounds=ft,c.canvas=Fo,c.circle=B,c.circleMarker=x,c.control=ke,c.divIcon=ys,c.extend=v,c.featureGroup=ki,c.geoJSON=Io,c.geoJson=_s,c.gridLayer=Ls,c.icon=e,c.imageOverlay=fs,c.latLng=ot,c.latLngBounds=K,c.layerGroup=tn,c.map=wi,c.marker=u,c.point=N,c.polygon=Rt,c.polyline=tt,c.popup=gs,c.rectangle=Ps,c.setOptions=O,c.stamp=m,c.svg=jo,c.svgOverlay=ms,c.tileLayer=Ro,c.tooltip=vs,c.transformation=ai,c.version=w,c.videoOverlay=ps;var Ts=window.L;c.noConflict=function(){return window.L=Ts,this},window.L=c})})(Js,lo);(function(C){(function(g){C.exports=g(lo)})(function(g){return g.Control.Search=g.Control.extend({includes:g.version[0]==="1"?g.Evented.prototype:g.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(c,w){const v=w.split("."),h=v.pop(),d=v.length;let p=v[0],m=1;if(d>0)for(;(c=c[p])&&m<d;)p=v[m++];if(c)return c[h]},_isObject:function(c){return Object.prototype.toString.call(c)==="[object Object]"},initialize:function(c){g.Util.setOptions(this,c||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new g.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(c){return this._map=c,this._container=g.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),this.options.collapsed===!1&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof g.Marker||this.options.marker instanceof g.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new g.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),c.on({resize:this._handleAutoresize},this),this._container},addTo:function(c){return this.options.container?(this._container=this.onAdd(c),this._wrapper=g.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):g.Control.prototype.addTo.call(this,c),this},onRemove:function(c){this._recordsCache={},c.off({resize:this._handleAutoresize},this)},setLayer:function(c){return this._layer=c,this._layer.addTo(this._map),this},showAlert:function(c){const w=this;return c=c||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=c,clearTimeout(this.timerAlert),this.timerAlert=setTimeout(function(){w.hideAlert()},this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(c){return c=typeof c=="boolean"?c:!0,this._input.style.display="block",g.DomUtil.addClass(this._container,"search-exp"),c!==!1&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",g.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){const c=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout(function(){c.collapse()},this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(c){const w=g.DomUtil.create("div",c,this._container);return w.style.display="none",g.DomEvent.on(w,"click",g.DomEvent.stop,this).on(w,"click",this.hideAlert,this),w},_createInput:function(c,w){const v=this,h=g.DomUtil.create("label",w,this._container),d=g.DomUtil.create("input",w,this._container);return d.type="text",d.size=this._inputMinSize,d.value="",d.autocomplete="off",d.autocorrect="off",d.autocapitalize="off",d.placeholder=c,d.style.display="none",d.role="search",d.id=d.role+d.type+d.size,h.htmlFor=d.id,h.style.display="none",h.value=c,g.DomEvent.disableClickPropagation(d).on(d,"keyup",this._handleKeypress,this).on(d,"paste",function(p){setTimeout(function(m){v._handleKeypress(m)},10,p)},this).on(d,"blur",this.collapseDelayed,this).on(d,"focus",this.collapseDelayedStop,this),d},_createCancel:function(c,w){const v=g.DomUtil.create("a",w,this._container);return v.href="#",v.title=c,v.style.display="none",v.innerHTML="<span>&otimes;</span>",g.DomEvent.on(v,"click",g.DomEvent.stop,this).on(v,"click",this.cancel,this),v},_createButton:function(c,w){const v=g.DomUtil.create("a",w,this._container);return v.href="#",v.title=c,g.DomEvent.on(v,"click",g.DomEvent.stop,this).on(v,"click",this._handleSubmit,this).on(v,"focus",this.collapseDelayedStop,this).on(v,"blur",this.collapseDelayed,this),v},_createTooltip:function(c){const w=this,v=g.DomUtil.create("ul",c,this._container);return v.style.display="none",g.DomEvent.disableClickPropagation(v).on(v,"blur",this.collapseDelayed,this).on(v,"wheel",function(h){w.collapseDelayedStop(),g.DomEvent.stopPropagation(h)},this).on(v,"mouseover",function(h){w.collapseDelayedStop()},this),v},_createTip:function(c,w){let v;if(this.options.buildTip){if(v=this.options.buildTip.call(this,c,w),typeof v=="string"){const h=g.DomUtil.create("div");h.innerHTML=v,v=h.firstChild}}else v=g.DomUtil.create("li",""),v.innerHTML=c;return g.DomUtil.addClass(v,"search-tip"),v._text=c,this.options.tipAutoSubmit&&g.DomEvent.disableClickPropagation(v).on(v,"click",g.DomEvent.stop,this).on(v,"click",function(h){this._input.value=c,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()},this),v},_getUrl:function(c){return typeof this.options.url=="function"?this.options.url(c):this.options.url},_defaultFilterData:function(c,w){const v={};if(c=c.replace(new RegExp("[.*+?^${}()|[]\\]","g"),""),c==="")return[];const h=this.options.initial?"^":"",d=this.options.casesensitive?void 0:"i",p=new RegExp(h+c,d);for(const m in w)p.test(m)&&(v[m]=w[m]);return v},showTooltip:function(c){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(const w in c){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(w,c[w]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(c){const w=this,v=this.options.propertyName,h=this.options.propertyLoc,d={};if(g.Util.isArray(h))for(const p in c)d[w._getPath(c[p],v)]=g.latLng(w._getPath(c[p],h[0]),w._getPath(c[p],h[1]));else for(const p in c)d[w._getPath(c[p],v)]=g.latLng(w._getPath(c[p],h));return d},_recordsFromJsonp:function(c,w){g.Control.Search.callJsonp=w;const v=g.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),h=g.Util.template(this._getUrl(c)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:c});return v.type="text/javascript",v.src=h,{abort:function(){v.parentNode.removeChild(v)}}},_recordsFromAjax:function(c,w){let v;try{v=new window.XMLHttpRequest}catch{throw new Error("XMLHttpRequest is not supported")}const h=g.Util.template(this._getUrl(c),{s:c});return v.open("GET",h),v.onload=function(){w(JSON.parse(v.responseText))},v.onreadystatechange=function(){v.readyState===4&&v.status===200&&this.onload()},v.send(),v},_searchInLayer:function(c,w,v){const h=this;let d;c instanceof g.Control.Search.Marker||(c instanceof g.Marker||c instanceof g.CircleMarker?h._getPath(c.options,v)?(d=c.getLatLng(),d.layer=c,w[h._getPath(c.options,v)]=d):h._getPath(c.feature.properties,v)&&(d=c.getLatLng(),d.layer=c,w[h._getPath(c.feature.properties,v)]=d):c instanceof g.Path||c instanceof g.Polyline||c instanceof g.Polygon?h._getPath(c.options,v)?(d=c.getBounds().getCenter(),d.layer=c,w[h._getPath(c.options,v)]=d):h._getPath(c.feature.properties,v)&&(d=c.getBounds().getCenter(),d.layer=c,w[h._getPath(c.feature.properties,v)]=d):Object.prototype.hasOwnProperty.call(c,"feature")?Object.prototype.hasOwnProperty.call(c.feature.properties,v)&&(c.getLatLng&&typeof c.getLatLng=="function"?(d=c.getLatLng(),d.layer=c,w[c.feature.properties[v]]=d):c.getBounds&&typeof c.getBounds=="function"&&(d=c.getBounds().getCenter(),d.layer=c,w[c.feature.properties[v]]=d)):c instanceof g.LayerGroup&&c.eachLayer(function(p){h._searchInLayer(p,w,v)}))},_recordsFromLayer:function(){const c=this,w={},v=this.options.propertyName;return this._layer.eachLayer(function(h){c._searchInLayer(h,w,v)}),w},_autoType:function(){const c=this._input.value.length,w=this._tooltip.firstChild?this._tooltip.firstChild._text:"",v=w.length;if(w.indexOf(this._input.value)===0)if(this._input.value=w,this._handleAutoresize(),this._input.createTextRange){const h=this._input.createTextRange();h.collapse(!0),h.moveStart("character",c),h.moveEnd("character",v),h.select()}else this._input.setSelectionRange?this._input.setSelectionRange(c,v):this._input.selectionStart&&(this._input.selectionStart=c,this._input.selectionEnd=v)},_hideAutoType:function(){let c;if((c=this._input.selection)&&c.empty)c.empty();else if(this._input.createTextRange){c=this._input.createTextRange(),c.collapse(!0);const w=this._input.value.length;c.moveStart("character",w),c.moveEnd("character",w),c.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(c){const w=this;switch(c.keyCode){case 27:this.collapse();break;case 13:(this._countertips===1||this.options.firstTipSubmit&&this._countertips>0)&&this._tooltip.currentSelection===-1&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout(function(){w._fillRecordsCache()},this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(c){const w=c.charCodeAt(c.length);this._input.value=c,this._input.style.display="block",g.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:w})},_fillRecordsCache:function(){const c=this,w=this._input.value;let v;this._curReq&&this._curReq.abort&&this._curReq.abort(),g.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),v=this._filterData(this._input.value,this._recordsCache),this.showTooltip(v),g.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData(this,w,function(h){c._recordsCache=c._formatData(c,h),c.options.sourceData?v=c._filterData(c._input.value,c._recordsCache):v=c._recordsCache,c.showTooltip(v),g.DomUtil.removeClass(c._container,"search-load")}))},_handleAutoresize:function(){let c;this._input.style.maxWidth!==this._map._container.offsetWidth&&(c=this._map._container.clientWidth,c-=10+20+1+30+22,this._input.style.maxWidth=c.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(c){const w=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[];for(let v=0;v<w.length;v++)g.DomUtil.removeClass(w[v],"search-tip-select");if(c===1&&this._tooltip.currentSelection>=w.length-1)g.DomUtil.addClass(w[this._tooltip.currentSelection],"search-tip-select");else if(c===-1&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if(this._tooltip.style.display!=="none"){this._tooltip.currentSelection+=c,g.DomUtil.addClass(w[this._tooltip.currentSelection],"search-tip-select"),this._input.value=w[this._tooltip.currentSelection]._text;const v=w[this._tooltip.currentSelection].offsetTop;v+w[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=v-this._tooltip.clientHeight+w[this._tooltip.currentSelection].clientHeight:v<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=v)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),this._input.style.display==="none")this.expand();else if(this._input.value==="")this.collapse();else{const c=this._getLocation(this._input.value);c?(this.showLocation(c,this._input.value),this.fire("search:locationfound",{latlng:c,text:this._input.value,layer:c.layer?c.layer:null})):this.showAlert()}},_getLocation:function(c){return Object.prototype.hasOwnProperty.call(this._recordsCache,c)?this._recordsCache[c]:!1},_defaultMoveToLocation:function(c,w,v){this.options.zoom?this._map.setView(c,this.options.zoom):this._map.panTo(c)},showLocation:function(c,w){const v=this;return v._map.once("moveend zoomend",function(h){v._markerSearch&&v._markerSearch.addTo(v._map).setLatLng(c)}),v._moveToLocation(c,w,v._map),v.options.autoCollapse&&v.collapse(),v}}),g.Control.Search.Marker=g.Marker.extend({includes:g.version[0]==="1"?g.Evented.prototype:g.Mixin.Events,options:{icon:new g.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(c,w){g.setOptions(this,w),w.icon===!0&&(w.icon=new g.Icon.Default),g.Marker.prototype.initialize.call(this,c,w),g.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new g.CircleMarker(c,this.options.circle))},onAdd:function(c){g.Marker.prototype.onAdd.call(this,c),this._circleLoc&&(c.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(c){g.Marker.prototype.onRemove.call(this,c),this._circleLoc&&c.removeLayer(this._circleLoc)},setLatLng:function(c){return g.Marker.prototype.setLatLng.call(this,c),this._circleLoc&&this._circleLoc.setLatLng(c),this},_initIcon:function(){this.options.icon&&g.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&g.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){const c=this._circleLoc,w=200,v=5;let h=parseInt(c._radius/v);const d=this.options.circle.radius;let p=c._radius*2,m=0;c._timerAnimLoc=setInterval(function(){m+=.5,h+=m,p-=h,c.setRadius(p),p<d&&(clearInterval(c._timerAnimLoc),c.setRadius(d))},w)}return this}}),g.Map.addInitHook(function(){this.options.searchControl&&(this.searchControl=g.control.search(this.options.searchControl),this.addControl(this.searchControl))}),g.control.search=function(c){return new g.Control.Search(c)},g.Control.Search})})(Ys);let on=L.featureGroup();function Xs(C,g,c){on.clearLayers(),C.eachLayer(w=>{w.feature.properties.excerpt.toLowerCase().includes(g.toLowerCase())&&on.addLayer(new L.CircleMarker(w.getLatLng(),{radius:30,color:"#ff7800",weight:5,opacity:.65}))}),on.getLayers().length>0?(console.log(on.getBounds()),c.fitBounds(on.getBounds()),on.addTo(c)):alert("No results found.")}var zo={},$s={get exports(){return zo},set exports(C){zo=C}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(C,g){(function(c,w){w(g)})(Oo,function(c){function w(e){for(var n,o,a=1,u=arguments.length;a<u;a++)for(n in o=arguments[a])e[n]=o[n];return e}var v=Object.create||function(e){return h.prototype=e,new h};function h(){}function d(e,n){var o,a=Array.prototype.slice;return e.bind?e.bind.apply(e,a.call(arguments,1)):(o=a.call(arguments,2),function(){return e.apply(n,o.length?o.concat(a.call(arguments)):arguments)})}var p=0;function m(e){return"_leaflet_id"in e||(e._leaflet_id=++p),e._leaflet_id}function T(e,n,o){var a,u,f=function(){a=!1,u&&(P.apply(o,u),u=!1)},P=function(){a?u=arguments:(e.apply(o,arguments),setTimeout(f,n),a=!0)};return P}function S(e,u,o){var a=u[1],u=u[0],f=a-u;return e===a&&o?e:((e-u)%f+f)%f+u}function b(){return!1}function z(e,n){return n===!1?e:(n=Math.pow(10,n===void 0?6:n),Math.round(e*n)/n)}function E(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return E(e).split(/\s+/)}function O(e,n){for(var o in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?v(e.options):{}),n)e.options[o]=n[o];return e.options}function at(e,n,o){var a,u=[];for(a in e)u.push(encodeURIComponent(o?a.toUpperCase():a)+"="+encodeURIComponent(e[a]));return(n&&n.indexOf("?")!==-1?"&":"?")+u.join("&")}var H=/\{ *([\w_ -]+) *\}/g;function nt(e,n){return e.replace(H,function(o,a){if(a=n[a],a===void 0)throw new Error("No value provided for variable "+o);return a=typeof a=="function"?a(n):a})}var ht=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ee(e,n){for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}var At="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ze(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var un=0;function ln(e){var n=+new Date,o=Math.max(0,16-(n-un));return un=n+o,window.setTimeout(e,o)}var ri=window.requestAnimationFrame||Ze("RequestAnimationFrame")||ln,cn=window.cancelAnimationFrame||Ze("CancelAnimationFrame")||Ze("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function _t(e,n,o){if(!o||ri!==ln)return ri.call(window,d(e,n));e.call(n)}function Lt(e){e&&cn.call(window,e)}var fo={__proto__:null,extend:w,create:v,bind:d,get lastId(){return p},stamp:m,throttle:T,wrapNum:S,falseFn:b,formatNum:z,trim:E,splitWords:A,setOptions:O,getParamString:at,template:nt,isArray:ht,indexOf:ee,emptyImageUrl:At,requestFn:ri,cancelFn:cn,requestAnimFrame:_t,cancelAnimFrame:Lt};function Zt(){}Zt.extend=function(e){function n(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var o,a=n.__super__=this.prototype,u=v(a);for(o in(u.constructor=n).prototype=u,this)Object.prototype.hasOwnProperty.call(this,o)&&o!=="prototype"&&o!=="__super__"&&(n[o]=this[o]);if(e.statics&&w(n,e.statics),e.includes){var f=e.includes;if(typeof L<"u"&&L&&L.Mixin){f=ht(f)?f:[f];for(var P=0;P<f.length;P++)f[P]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}w.apply(null,[u].concat(e.includes))}return w(u,e),delete u.statics,delete u.includes,u.options&&(u.options=a.options?v(a.options):{},w(u.options,e.options)),u._initHooks=[],u.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,Z=u._initHooks.length;x<Z;x++)u._initHooks[x].call(this)}},n},Zt.include=function(e){var n=this.prototype.options;return w(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},Zt.mergeOptions=function(e){return w(this.prototype.options,e),this},Zt.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};var jt={on:function(e,n,o){if(typeof e=="object")for(var a in e)this._on(a,e[a],n);else for(var u=0,f=(e=A(e)).length;u<f;u++)this._on(e[u],n,o);return this},off:function(e,n,o){if(arguments.length)if(typeof e=="object")for(var a in e)this._off(a,e[a],n);else{e=A(e);for(var u=arguments.length===1,f=0,P=e.length;f<P;f++)u?this._off(e[f]):this._off(e[f],n,o)}else delete this._events;return this},_on:function(e,n,o,a){typeof n!="function"?console.warn("wrong listener type: "+typeof n):this._listens(e,n,o)===!1&&(n={fn:n,ctx:o=o===this?void 0:o},a&&(n.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(n))},_off:function(e,n,o){var a,u,f;if(this._events&&(a=this._events[e]))if(arguments.length===1){if(this._firingCount)for(u=0,f=a.length;u<f;u++)a[u].fn=b;delete this._events[e]}else typeof n!="function"?console.warn("wrong listener type: "+typeof n):(n=this._listens(e,n,o))!==!1&&(o=a[n],this._firingCount&&(o.fn=b,this._events[e]=a=a.slice()),a.splice(n,1))},fire:function(e,n,o){if(this.listens(e,o)){var a=w({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var u=this._events[e];if(u){this._firingCount=this._firingCount+1||1;for(var f=0,P=u.length;f<P;f++){var x=u[f],Z=x.fn;x.once&&this.off(e,Z,x.ctx),Z.call(x.ctx||this,a)}this._firingCount--}}o&&this._propagateEvent(a)}return this},listens:function(e,n,o,a){typeof e!="string"&&console.warn('"string" type argument expected');var u=n,f=(typeof n!="function"&&(a=!!n,o=u=void 0),this._events&&this._events[e]);if(f&&f.length&&this._listens(e,u,o)!==!1)return!0;if(a){for(var P in this._eventParents)if(this._eventParents[P].listens(e,n,o,a))return!0}return!1},_listens:function(e,n,o){if(this._events){var a=this._events[e]||[];if(!n)return!!a.length;o===this&&(o=void 0);for(var u=0,f=a.length;u<f;u++)if(a[u].fn===n&&a[u].ctx===o)return u}return!1},once:function(e,n,o){if(typeof e=="object")for(var a in e)this._on(a,e[a],n,!0);else for(var u=0,f=(e=A(e)).length;u<f;u++)this._on(e[u],n,o,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[m(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[m(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,w({layer:e.target,propagatedFrom:e.target},e),!0)}},Ot=(jt.addEventListener=jt.on,jt.removeEventListener=jt.clearAllEventListeners=jt.off,jt.addOneTimeEventListener=jt.once,jt.fireEvent=jt.fire,jt.hasEventListeners=jt.listens,Zt.extend(jt));function G(e,n,o){this.x=o?Math.round(e):e,this.y=o?Math.round(n):n}var X=Math.trunc||function(e){return 0<e?Math.floor(e):Math.ceil(e)};function q(e,n,o){return e instanceof G?e:ht(e)?new G(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new G(e.x,e.y):new G(e,n,o)}function N(e,n){if(e)for(var o=n?[e,n]:e,a=0,u=o.length;a<u;a++)this.extend(o[a])}function it(e,n){return!e||e instanceof N?e:new N(e,n)}function ft(e,n){if(e)for(var o=n?[e,n]:e,a=0,u=o.length;a<u;a++)this.extend(o[a])}function ct(e,n){return e instanceof ft?e:new ft(e,n)}function K(e,n,o){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,o!==void 0&&(this.alt=+o)}function U(e,n,o){return e instanceof K?e:ht(e)&&typeof e[0]!="object"?e.length===3?new K(e[0],e[1],e[2]):e.length===2?new K(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new K(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new K(e,n,o)}G.prototype={clone:function(){return new G(this.x,this.y)},add:function(e){return this.clone()._add(q(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(q(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new G(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new G(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(o){var n=(o=q(o)).x-this.x,o=o.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(e){return(e=q(e)).x===this.x&&e.y===this.y},contains:function(e){return e=q(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+z(this.x)+", "+z(this.y)+")"}},N.prototype={extend:function(e){var n,o;if(e){if(e instanceof G||typeof e[0]=="number"||"x"in e)n=o=q(e);else if(n=(e=it(e)).min,o=e.max,!n||!o)return this;this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=n.clone(),this.max=o.clone())}return this},getCenter:function(e){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,o;return(e=(typeof e[0]=="number"||e instanceof G?q:it)(e))instanceof N?(n=e.min,o=e.max):n=o=e,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(f){f=it(f);var n=this.min,o=this.max,a=f.min,f=f.max,u=f.x>=n.x&&a.x<=o.x,f=f.y>=n.y&&a.y<=o.y;return u&&f},overlaps:function(f){f=it(f);var n=this.min,o=this.max,a=f.min,f=f.max,u=f.x>n.x&&a.x<o.x,f=f.y>n.y&&a.y<o.y;return u&&f},isValid:function(){return!(!this.min||!this.max)},pad:function(u){var n=this.min,o=this.max,a=Math.abs(n.x-o.x)*u,u=Math.abs(n.y-o.y)*u;return it(q(n.x-a,n.y-u),q(o.x+a,o.y+u))},equals:function(e){return!!e&&(e=it(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},ft.prototype={extend:function(e){var n,o,a=this._southWest,u=this._northEast;if(e instanceof K)o=n=e;else{if(!(e instanceof ft))return e?this.extend(U(e)||ct(e)):this;if(n=e._southWest,o=e._northEast,!n||!o)return this}return a||u?(a.lat=Math.min(n.lat,a.lat),a.lng=Math.min(n.lng,a.lng),u.lat=Math.max(o.lat,u.lat),u.lng=Math.max(o.lng,u.lng)):(this._southWest=new K(n.lat,n.lng),this._northEast=new K(o.lat,o.lng)),this},pad:function(u){var n=this._southWest,o=this._northEast,a=Math.abs(n.lat-o.lat)*u,u=Math.abs(n.lng-o.lng)*u;return new ft(new K(n.lat-a,n.lng-u),new K(o.lat+a,o.lng+u))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e=(typeof e[0]=="number"||e instanceof K||"lat"in e?U:ct)(e);var n,o,a=this._southWest,u=this._northEast;return e instanceof ft?(n=e.getSouthWest(),o=e.getNorthEast()):n=o=e,n.lat>=a.lat&&o.lat<=u.lat&&n.lng>=a.lng&&o.lng<=u.lng},intersects:function(f){f=ct(f);var n=this._southWest,o=this._northEast,a=f.getSouthWest(),f=f.getNorthEast(),u=f.lat>=n.lat&&a.lat<=o.lat,f=f.lng>=n.lng&&a.lng<=o.lng;return u&&f},overlaps:function(f){f=ct(f);var n=this._southWest,o=this._northEast,a=f.getSouthWest(),f=f.getNorthEast(),u=f.lat>n.lat&&a.lat<o.lat,f=f.lng>n.lng&&a.lng<o.lng;return u&&f},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return!!e&&(e=ct(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n))},isValid:function(){return!(!this._southWest||!this._northEast)}};var ot={latLngToPoint:function(e,n){return e=this.projection.project(e),n=this.scale(n),this.transformation._transform(e,n)},pointToLatLng:function(e,n){return n=this.scale(n),e=this.transformation.untransform(e,n),this.projection.unproject(e)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){var n;return this.infinite?null:(n=this.projection.bounds,e=this.scale(e),new N(this.transformation.transform(n.min,e),this.transformation.transform(n.max,e)))},infinite:!(K.prototype={equals:function(e,n){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(n===void 0?1e-9:n))},toString:function(e){return"LatLng("+z(this.lat,e)+", "+z(this.lng,e)+")"},distanceTo:function(e){return Bt.distance(this,U(e))},wrap:function(){return Bt.wrapLatLng(this)},toBounds:function(n){var n=180*n/40075017,o=n/Math.cos(Math.PI/180*this.lat);return ct([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new K(this.lat,this.lng,this.alt)}}),wrapLatLng:function(e){var n=this.wrapLng?S(e.lng,this.wrapLng,!0):e.lng;return new K(this.wrapLat?S(e.lat,this.wrapLat,!0):e.lat,n,e.alt)},wrapLatLngBounds:function(e){var a=e.getCenter(),n=this.wrapLatLng(a),o=a.lat-n.lat,a=a.lng-n.lng;return o==0&&a==0?e:(n=e.getSouthWest(),e=e.getNorthEast(),new ft(new K(n.lat-o,n.lng-a),new K(e.lat-o,e.lng-a)))}},Bt=w({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(P,f){var x=Math.PI/180,o=P.lat*x,a=f.lat*x,u=Math.sin((f.lat-P.lat)*x/2),f=Math.sin((f.lng-P.lng)*x/2),P=u*u+Math.cos(o)*Math.cos(a)*f*f,x=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*x}}),It=6378137,It={R:It,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,o=this.MAX_LATITUDE,o=Math.max(Math.min(o,e.lat),-o),o=Math.sin(o*n);return new G(this.R*e.lng*n,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var n=180/Math.PI;return new K((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:new N([-(It=It*Math.PI),-It],[It,It])};function Oi(e,n,o,a){ht(e)?(this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3]):(this._a=e,this._b=n,this._c=o,this._d=a)}function Oe(e,n,o,a){return new Oi(e,n,o,a)}Oi.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return e.x=(n=n||1)*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return new G((e.x/(n=n||1)-this._b)/this._a,(e.y/n-this._d)/this._c)}};var Ie=w({},Bt,{code:"EPSG:3857",projection:It,transformation:Oe(Ie=.5/(Math.PI*It.R),.5,-Ie,.5)}),ai=w({},Ie,{code:"EPSG:900913"});function Ii(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Nn(e,n){for(var o,a,u,f,P="",x=0,Z=e.length;x<Z;x++){for(o=0,a=(u=e[x]).length;o<a;o++)P+=(o?"L":"M")+(f=u[o]).x+" "+f.y;P+=n?j.svg?"z":"x":""}return P||"M0 0"}var le=document.documentElement.style,Ae="ActiveXObject"in window,_e=Ae&&!document.addEventListener,Nt="msLaunchUri"in navigator&&!("documentMode"in document),Re=ie("webkit"),hi=ie("android"),Se=ie("android 2")||ie("android 3"),xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xt=hi&&ie("Google")&&xt<537&&!("AudioNode"in window),Gt=!!window.opera,Li=!Nt&&ie("chrome"),We=ie("gecko")&&!Re&&!Gt&&!Ae,Vi=!Li&&ie("safari"),xi=ie("phantom"),Dt="OTransition"in le,Pe=navigator.platform.indexOf("Win")===0,Ji=Ae&&"transition"in le,Si="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Se,le="MozPerspective"in le,Qi=!window.L_DISABLE_3D&&(Ji||Si||le)&&!Dt&&!xi,Mt=typeof orientation<"u"||ie("mobile"),ye=Mt&&Re,tn=Mt&&Si,Yt=!window.PointerEvent&&window.MSPointerEvent,ki=!(!window.PointerEvent&&!Yt),Hn="ontouchstart"in window||!!window.TouchEvent,Fn=!window.L_NO_TOUCH&&(Hn||ki),dn=Mt&&Gt,jn=Mt&&We,Wn=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),po=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",b,n),window.removeEventListener("testPassiveEventSupport",b,n)}catch{}return e}(),mo=!!document.createElement("canvas").getContext,ui=!(!document.createElementNS||!Ii("svg").createSVGRect),li=!!ui&&((li=document.createElement("div")).innerHTML="<svg/>",(li.firstChild&&li.firstChild.namespaceURI)==="http://www.w3.org/2000/svg");function ie(e){return 0<=navigator.userAgent.toLowerCase().indexOf(e)}var j={ie:Ae,ielt9:_e,edge:Nt,webkit:Re,android:hi,android23:Se,androidStock:xt,opera:Gt,chrome:Li,gecko:We,safari:Vi,phantom:xi,opera12:Dt,win:Pe,ie3d:Ji,webkit3d:Si,gecko3d:le,any3d:Qi,mobile:Mt,mobileWebkit:ye,mobileWebkit3d:tn,msPointer:Yt,pointer:ki,touch:Fn,touchNative:Hn,mobileOpera:dn,mobileGecko:jn,retina:Wn,passiveEvents:po,canvas:mo,svg:ui,vml:!ui&&function(){try{var e=document.createElement("div"),n=(e.innerHTML='<v:shape adj="1"/>',e.firstChild);return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),inlineSvg:li,mac:navigator.platform.indexOf("Mac")===0,linux:navigator.platform.indexOf("Linux")===0},_n=j.msPointer?"MSPointerDown":"pointerdown",fn=j.msPointer?"MSPointerMove":"pointermove",Un=j.msPointer?"MSPointerUp":"pointerup",pn=j.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:_n,touchmove:fn,touchend:Un,touchcancel:pn},mn={touchstart:function(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&W(n),di(e,n)},touchmove:di,touchend:di,touchcancel:di},Ue={},Ge=!1;function go(e,n,o){return n!=="touchstart"||Ge||(document.addEventListener(_n,vo,!0),document.addEventListener(fn,Gn,!0),document.addEventListener(Un,gn,!0),document.addEventListener(pn,gn,!0),Ge=!0),mn[n]?(o=mn[n].bind(this,o),e.addEventListener(ci[n],o,!1),o):(console.warn("wrong event specified:",n),b)}function vo(e){Ue[e.pointerId]=e}function Gn(e){Ue[e.pointerId]&&(Ue[e.pointerId]=e)}function gn(e){delete Ue[e.pointerId]}function di(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){for(var o in n.touches=[],Ue)n.touches.push(Ue[o]);n.changedTouches=[n],e(n)}}var yo=200;function Lo(e,n){e.addEventListener("dblclick",n);var o,a=0;function u(f){var P;f.detail!==1?o=f.detail:f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents||(P=Hi(f)).some(function(x){return x instanceof HTMLLabelElement&&x.attributes.for})&&!P.some(function(x){return x instanceof HTMLInputElement||x instanceof HTMLSelectElement})||((P=Date.now())-a<=yo?++o===2&&n(function(x){var Z,B,R={};for(B in x)Z=x[B],R[B]=Z&&Z.bind?Z.bind(x):Z;return(x=R).type="dblclick",R.detail=2,R.isTrusted=!1,R._simulated=!0,R}(f)):o=1,a=P)}return e.addEventListener("click",u),{dblclick:n,simDblclick:u}}var vn,Ve,_i,Ai,qe,yn,Ln=Ri(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fi=Ri(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vn=fi==="webkitTransition"||fi==="OTransition"?fi+"End":"transitionend";function ne(e){return typeof e=="string"?document.getElementById(e):e}function F(e,n){var o=e.style[n]||e.currentStyle&&e.currentStyle[n];return(o=o&&o!=="auto"||!document.defaultView?o:(e=document.defaultView.getComputedStyle(e,null))?e[n]:null)==="auto"?null:o}function ut(e,n,o){return e=document.createElement(e),e.className=n||"",o&&o.appendChild(e),e}function vt(e){var n=e.parentNode;n&&n.removeChild(e)}function pi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Be(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function be(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function Bi(e,n){return e.classList!==void 0?e.classList.contains(n):0<(e=Di(e)).length&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(e)}function Y(e,n){var o;if(e.classList!==void 0)for(var a=A(n),u=0,f=a.length;u<f;u++)e.classList.add(a[u]);else Bi(e,n)||xn(e,((o=Di(e))?o+" ":"")+n)}function wt(e,n){e.classList!==void 0?e.classList.remove(n):xn(e,E((" "+Di(e)+" ").replace(" "+n+" "," ")))}function xn(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function Di(e){return(e=e.correspondingElement?e.correspondingElement:e).className.baseVal===void 0?e.className:e.className.baseVal}function Xt(e,n){if("opacity"in e.style)e.style.opacity=n;else if("filter"in e.style){var o=!1,a="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(a)}catch{if(n===1)return}n=Math.round(100*n),o?(o.Enabled=n!==100,o.Opacity=n):e.style.filter+=" progid:"+a+"(opacity="+n+")"}}function Ri(e){for(var n=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in n)return e[o];return!1}function Te(e,n,o){n=n||new G(0,0),e.style[Ln]=(j.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(o?" scale("+o+")":"")}function Tt(e,n){e._leaflet_pos=n,j.any3d?Te(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function re(e){return e._leaflet_pos||new G(0,0)}function wn(){V(window,"dragstart",W)}function Pn(){pt(window,"dragstart",W)}function bn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Ni(),yn=(qe=e).style.outline,e.style.outline="none",V(window,"keydown",Ni))}function Ni(){qe&&(qe.style.outline=yn,yn=qe=void 0,pt(window,"keydown",Ni))}function qn(e){for(;!((e=e.parentNode).offsetWidth&&e.offsetHeight||e===document.body););return e}function mi(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}Ai="onselectstart"in document?(_i=function(){V(window,"selectstart",W)},function(){pt(window,"selectstart",W)}):(Ve=Ri(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),_i=function(){var e;Ve&&(e=document.documentElement.style,vn=e[Ve],e[Ve]="none")},function(){Ve&&(document.documentElement.style[Ve]=vn,vn=void 0)}),Ae={__proto__:null,TRANSFORM:Ln,TRANSITION:fi,TRANSITION_END:Vn,get:ne,getStyle:F,create:ut,remove:vt,empty:pi,toFront:Be,toBack:be,hasClass:Bi,addClass:Y,removeClass:wt,setClass:xn,getClass:Di,setOpacity:Xt,testProp:Ri,setTransform:Te,setPosition:Tt,getPosition:re,get disableTextSelection(){return _i},get enableTextSelection(){return Ai},disableImageDrag:wn,enableImageDrag:Pn,preventOutline:bn,restoreOutline:Ni,getSizedParentNode:qn,getScale:mi};function V(e,n,o,a){if(n&&typeof n=="object")for(var u in n)gt(e,u,n[u],o);else for(var f=0,P=(n=A(n)).length;f<P;f++)gt(e,n[f],o,a);return this}var oe="_leaflet_events";function pt(e,n,o,a){if(arguments.length===1)Ke(e),delete e[oe];else if(n&&typeof n=="object")for(var u in n)Ye(e,u,n[u],o);else if(n=A(n),arguments.length===2)Ke(e,function(x){return ee(n,x)!==-1});else for(var f=0,P=n.length;f<P;f++)Ye(e,n[f],o,a);return this}function Ke(e,n){for(var o in e[oe]){var a=o.split(/\d/)[0];n&&!n(a)||Ye(e,a,null,null,o)}}var st={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gt(e,n,o,a){var u,f,P=n+m(o)+(a?"_"+m(a):"");e[oe]&&e[oe][P]||(f=u=function(x){return o.call(a||e,x||window.event)},!j.touchNative&&j.pointer&&n.indexOf("touch")===0?u=go(e,n,u):j.touch&&n==="dblclick"?u=Lo(e,u):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(st[n]||n,u,!!j.passiveEvents&&{passive:!1}):n==="mouseenter"||n==="mouseleave"?e.addEventListener(st[n],u=function(x){x=x||window.event,Je(e,x)&&f(x)},!1):e.addEventListener(n,f,!1):e.attachEvent("on"+n,u),e[oe]=e[oe]||{},e[oe][P]=u)}function Ye(e,n,x,a,u){u=u||n+m(x)+(a?"_"+m(a):"");var f,P,x=e[oe]&&e[oe][u];x&&(!j.touchNative&&j.pointer&&n.indexOf("touch")===0?(a=e,P=x,ci[f=n]?a.removeEventListener(ci[f],P,!1):console.warn("wrong event specified:",f)):j.touch&&n==="dblclick"?(a=x,(P=e).removeEventListener("dblclick",a.dblclick),P.removeEventListener("click",a.simDblclick)):"removeEventListener"in e?e.removeEventListener(st[n]||n,x,!1):e.detachEvent("on"+n,x),e[oe][u]=null)}function $t(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ce(e){return gt(e,"wheel",$t),this}function De(e){return V(e,"mousedown touchstart dblclick contextmenu",$t),e._leaflet_disable_click=!0,this}function W(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function mt(e){return W(e),$t(e),this}function Hi(e){if(e.composedPath)return e.composedPath();for(var n=[],o=e.target;o;)n.push(o),o=o.parentNode;return n}function gi(e,n){var o,a;return n?(a=(o=mi(n)).boundingClientRect,new G((e.clientX-a.left)/o.x-n.clientLeft,(e.clientY-a.top)/o.y-n.clientTop)):new G(e.clientX,e.clientY)}var Qt=j.linux&&j.chrome?window.devicePixelRatio:j.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function Kn(e){return j.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Qt:e.deltaY&&e.deltaMode===1?20*-e.deltaY:e.deltaY&&e.deltaMode===2?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Je(e,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var _e={__proto__:null,on:V,off:pt,stopPropagation:$t,disableScrollPropagation:Ce,disableClickPropagation:De,preventDefault:W,stop:mt,getPropagationPath:Hi,getMousePosition:gi,getWheelDelta:Kn,isExternalTarget:Je,addListener:V,removeListener:pt},Pt=Ot.extend({run:function(e,n,o,a){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=re(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,o=1e3*this._duration;n<o?this._runFrame(this._easeOut(n/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){e=this._startPos.add(this._offset.multiplyBy(e)),n&&e._round(),Tt(this._el,e),this.fire("step")},_complete:function(){Lt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Q=Ot.extend({options:{crs:Ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=O(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(U(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fi&&j.any3d&&!j.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),V(this._proxy,Vn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,o){return n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(U(e),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0&&(o.animate!==void 0&&(o.zoom=w({animate:o.animate},o.zoom),o.pan=w({animate:o.animate,duration:o.duration},o.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,o.zoom):this._tryAnimatedPan(e,o.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n,o.pan&&o.pan.noMoveStart),this)},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(j.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(u,n,o){var f=this.getZoomScale(n),a=this.getSize().divideBy(2),u=(u instanceof G?u:this.latLngToContainerPoint(u)).subtract(a).multiplyBy(1-1/f),f=this.containerPointToLatLng(a.add(u));return this.setView(f,n,{zoom:o})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():ct(e);var o=q(n.paddingTopLeft||n.padding||[0,0]),a=q(n.paddingBottomRight||n.padding||[0,0]),u=this.getBoundsZoom(e,!1,o.add(a));return(u=typeof n.maxZoom=="number"?Math.min(n.maxZoom,u):u)===1/0?{center:e.getCenter(),zoom:u}:(n=a.subtract(o).divideBy(2),a=this.project(e.getSouthWest(),u),o=this.project(e.getNorthEast(),u),{center:this.unproject(a.add(o).divideBy(2).add(n),u),zoom:u})},fitBounds:function(e,n){if((e=ct(e)).isValid())return e=this._getBoundsCenterZoom(e,n),this.setView(e.center,e.zoom,n);throw new Error("Bounds are not valid.")},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){var o;return n=n||{},(e=q(e).round()).x||e.y?(n.animate===!0||this.getSize().contains(e)?(this._panAnim||(this._panAnim=new Pt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1?(Y(this._mapPane,"leaflet-pan-anim"),o=this._getMapPanePos().subtract(e).round(),this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)):(this._rawPanBy(e),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this):this.fire("moveend")},flyTo:function(e,n,o){if((o=o||{}).animate===!1||!j.any3d)return this.setView(e,n,o);this._stop();var a=this.project(this.getCenter()),u=this.project(e),f=this.getSize(),P=this._zoom,x=(e=U(e),n=n===void 0?P:n,Math.max(f.x,f.y)),Z=x*this.getZoomScale(P,n),B=u.distanceTo(a)||1,R=1.42,tt=R*R;function dt(yt){return yt=(Z*Z-x*x+(yt?-1:1)*tt*tt*B*B)/(2*(yt?Z:x)*tt*B),yt=Math.sqrt(yt*yt+1)-yt,yt<1e-9?-18:Math.log(yt)}function Rt(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function St(yt){return(Math.exp(yt)+Math.exp(-yt))/2}var kt=dt(0);function Ft(yt){return x*(St(kt)*(Rt(yt=kt+R*yt)/St(yt))-Rt(kt))/tt}var zn=Date.now(),zi=(dt(1)-kt)/R,En=o.duration?1e3*o.duration:1e3*zi*.8;return this._moveStart(!0,o.noMoveStart),function yt(){var Le=(Date.now()-zn)/En,Ei=(1-Math.pow(1-Le,1.5))*zi;Le<=1?(this._flyToFrame=_t(yt,this),this._move(this.unproject(a.add(u.subtract(a).multiplyBy(Ft(Ei)/B)),P),this.getScaleZoom(x/(Le=Ei,x*(St(kt)/St(kt+R*Le))),P),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,n){return e=this._getBoundsCenterZoom(e,n),this.flyTo(e.center,e.zoom,n)},setMaxBounds:function(e){return e=ct(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(a,n){this._enforcingBounds=!0;var o=this.getCenter(),a=this._limitCenter(o,this._zoom,ct(a));return o.equals(a)||this.panTo(a,n),this._enforcingBounds=!1,this},panInside:function(u,n){var f=q((n=n||{}).paddingTopLeft||n.padding||[0,0]),o=q(n.paddingBottomRight||n.padding||[0,0]),a=this.project(this.getCenter()),u=this.project(u),P=this.getPixelBounds(),f=it([P.min.add(f),P.max.subtract(o)]),P=f.getSize();return f.contains(u)||(this._enforcingBounds=!0,o=u.subtract(f.getCenter()),f=f.extend(u).getSize().subtract(P),a.x+=o.x<0?-f.x:f.x,a.y+=o.y<0?-f.y:f.y,this.panTo(this.unproject(a),n),this._enforcingBounds=!1),this},invalidateSize:function(e){if(!this._loaded)return this;e=w({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize(),o=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),u=n.divideBy(2).round(),a=o.divideBy(2).round(),u=u.subtract(a);return u.x||u.y?(e.animate&&e.pan?this.panBy(u):(e.pan&&this._rawPanBy(u),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){var n,o;return e=this._locateOptions=w({timeout:1e4,watch:!1},e),"geolocation"in navigator?(n=d(this._handleGeolocationResponse,this),o=d(this._handleGeolocationError,this),e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,e):navigator.geolocation.getCurrentPosition(n,o,e)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var n;this._container._leaflet_id&&(n=e.code,e=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+e+"."}))},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n,o,a=new K(e.coords.latitude,e.coords.longitude),u=a.toBounds(2*e.coords.accuracy),f=this._locateOptions,P=(f.setView&&(n=this.getBoundsZoom(u),this.setView(a,f.maxZoom?Math.min(n,f.maxZoom):n)),{latlng:a,bounds:u,timestamp:e.timestamp});for(o in e.coords)typeof e.coords[o]=="number"&&(P[o]=e.coords[o]);this.fire("locationfound",P)}},addHandler:function(e,n){return n&&(n=this[e]=new n(this),this._handlers.push(n),this.options[e]&&n.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var e in this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Lt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)vt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){return n=ut("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),n||this._mapPane),e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new ft(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Z,n,x){Z=ct(Z),x=q(x||[0,0]);var B=this.getZoom()||0,a=this.getMinZoom(),u=this.getMaxZoom(),f=Z.getNorthWest(),Z=Z.getSouthEast(),x=this.getSize().subtract(x),Z=it(this.project(Z,B),this.project(f,B)).getSize(),f=j.any3d?this.options.zoomSnap:1,P=x.x/Z.x,x=x.y/Z.y,Z=n?Math.max(P,x):Math.min(P,x),B=this.getScaleZoom(Z,B);return f&&(B=Math.round(B/(f/100))*(f/100),B=n?Math.ceil(B/f)*f:Math.floor(B/f)*f),Math.max(a,Math.min(u,B))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){return e=this._getTopLeftPoint(e,n),new N(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(e)/o.scale(n)},getScaleZoom:function(a,n){var o=this.options.crs,a=(n=n===void 0?this._zoom:n,o.zoom(a*o.scale(n)));return isNaN(a)?1/0:a},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(U(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(q(e),n)},layerPointToLatLng:function(e){return e=q(e).add(this.getPixelOrigin()),this.unproject(e)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ct(e))},distance:function(e,n){return this.options.crs.distance(U(e),U(n))},containerPointToLayerPoint:function(e){return q(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return q(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){return e=this.containerPointToLayerPoint(q(e)),this.layerPointToLatLng(e)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return gi(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){if(e=this._container=ne(e),!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");V(e,"scroll",this._onScroll,this),this._containerId=m(e)},_initLayout:function(){var e=this._container,n=(this._fadeAnimated=this.options.fadeAnimation&&j.any3d,Y(e,"leaflet-container"+(j.touch?" leaflet-touch":"")+(j.retina?" leaflet-retina":"")+(j.ielt9?" leaflet-oldie":"")+(j.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),F(e,"position"));n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(e.markerPane,"leaflet-zoom-hide"),Y(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,o){Tt(this._mapPane,new G(0,0));var a=!this._loaded,u=(this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset"),this._zoom!==n);this._moveStart(u,o)._move(e,n)._moveEnd(u),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,o,a){n===void 0&&(n=this._zoom);var u=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),a?o&&o.pinch&&this.fire("zoom",o):((u||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Lt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Tt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={};var n=e?pt:V;n((this._targets[m(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),j.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Lt(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var o,a=[],u=n==="mouseout"||n==="mouseover",f=e.target||e.srcElement,P=!1;f;){if((o=this._targets[m(f)])&&(n==="click"||n==="preclick")&&this._draggableMoved(o)){P=!0;break}if(o&&o.listens(n,!0)&&(u&&!Je(f,e)||(a.push(o),u))||f===this._container)break;f=f.parentNode}return a=a.length||P||u||!this.listens(n,!0)?a:[this]},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n,o=e.target||e.srcElement;!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o)||((n=e.type)==="mousedown"&&bn(o),this._fireDOMEvent(e,n))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,o){e.type==="click"&&((x=w({},e)).type="preclick",this._fireDOMEvent(x,x.type,o));var a=this._findEventTargets(e,n);if(o){for(var u=[],f=0;f<o.length;f++)o[f].listens(n,!0)&&u.push(o[f]);a=u.concat(a)}if(a.length){n==="contextmenu"&&W(e);var P,x=a[0],Z={originalEvent:e};for(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"&&(P=x.getLatLng&&(!x._radius||x._radius<=10),Z.containerPoint=P?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(e),Z.layerPoint=this.containerPointToLayerPoint(Z.containerPoint),Z.latlng=P?x.getLatLng():this.layerPointToLatLng(Z.layerPoint)),f=0;f<a.length;f++)if(a[f].fire(n,Z,!0),Z.originalEvent._stopped||a[f].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return re(this._mapPane)||new G(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){return(e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var o=this.getSize()._divideBy(2);return this.project(e,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,o){return o=this._getNewPixelOrigin(o,n),this.project(e,n)._subtract(o)},_latLngBoundsToNewLayerBounds:function(e,n,o){return o=this._getNewPixelOrigin(o,n),it([this.project(e.getSouthWest(),n)._subtract(o),this.project(e.getNorthWest(),n)._subtract(o),this.project(e.getSouthEast(),n)._subtract(o),this.project(e.getNorthEast(),n)._subtract(o)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,o){var a,u;return!o||(a=this.project(e,n),u=this.getSize().divideBy(2),u=new N(a.subtract(u),a.add(u)),u=this._getBoundsOffset(u,o,n),Math.abs(u.x)<=1&&Math.abs(u.y)<=1)?e:this.unproject(a.add(u),n)},_limitOffset:function(e,n){var o;return n?(o=new N((o=this.getPixelBounds()).min.add(e),o.max.add(e)),e.add(this._getBoundsOffset(o,n))):e},_getBoundsOffset:function(e,n,o){return n=it(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),o=n.min.subtract(e.min),n=n.max.subtract(e.max),new G(this._rebound(o.x,-n.x),this._rebound(o.y,-n.y))},_rebound:function(e,n){return 0<e+n?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),o=this.getMaxZoom(),a=j.any3d?this.options.zoomSnap:1;return a&&(e=Math.round(e/a)*a),Math.max(n,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){return e=this._getCenterOffset(e)._trunc(),!((n&&n.animate)!==!0&&!this.getSize().contains(e))&&(this.panBy(e,n),!0)},_createAnimProxy:function(){var e=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var o=Ln,a=this._proxy.style[o];Te(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),a===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Te(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&0<=e.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,o){if(!this._animatingZoom){if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(n),a=this._getCenterOffset(e)._divideBy(1-1/a);if(o.animate!==!0&&!this.getSize().contains(a))return!1;_t(function(){this._moveStart(!0,!1)._animateZoom(e,n,!0)},this)}return!0},_animateZoom:function(e,n,o,a){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function fe(e){return new Wt(e)}var Xe,Wt=Zt.extend({options:{position:"topright"},initialize:function(e){O(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var n=this._container=this.onAdd(a),o=this.getPosition(),a=a._controlCorners[o];return Y(n,"leaflet-control"),o.indexOf("bottom")!==-1?a.insertBefore(n,a.firstChild):a.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(e){this._map&&e&&0<e.screenX&&0<e.screenY&&this._map.getContainer().focus()}}),$e=(Q.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=ut("div",n+"control-container",this._container);function a(u,f){e[u+f]=ut("div",n+u+" "+n+f,o)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)vt(this._controlCorners[e]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),Wt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,o,a){return o<a?-1:a<o?1:0}},initialize:function(e,n,o){for(var a in O(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[a],a);for(a in n)this._addLayer(n[a],a,!0)},onAdd:function(e){this._initLayout(),this._update(),(this._map=e).on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Wt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){return e.off("add remove",this._onLayerChange,this),e=this._getLayer(m(e)),e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=ut("div",e),o=this.options.collapsed,a=(n.setAttribute("aria-haspopup",!0),De(n),Ce(n),this._section=ut("section",e+"-list")),u=(o&&(this._map.on("click",this.collapse,this),V(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=ut("a",e+"-toggle",n));u.href="#",u.title="Layers",u.setAttribute("role","button"),V(u,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){W(f),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ut("div",e+"-base",a),this._separator=ut("div",e+"-separator",a),this._overlaysList=ut("div",e+"-overlays",a),n.appendChild(a)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&m(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(d(function(a,u){return this.options.sortFunction(a.layer,u.layer,a.name,u.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){pi(this._baseLayersList),pi(this._overlaysList),this._layerControlInputs=[];for(var e,n,o,a=0,u=0;u<this._layers.length;u++)o=this._layers[u],this._addItem(o),n=n||o.overlay,e=e||!o.overlay,a+=o.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(e=e&&1<a)?"":"none"),this._separator.style.display=n&&e?"":"none"}return this},_onLayerChange:function(o){this._handlingClick||this._update();var n=this._getLayer(m(o.target)),o=n.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(e,n){return e='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",n=document.createElement("div"),n.innerHTML=e,n.firstChild},_addItem:function(e){var n,o=document.createElement("label"),a=this._map.hasLayer(e.layer),a=(e.overlay?((n=document.createElement("input")).type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=a):n=this._createRadioElement("leaflet-base-layers_"+m(this),a),this._layerControlInputs.push(n),n.layerId=m(e.layer),V(n,"click",this._onInputClick,this),document.createElement("span")),u=(a.innerHTML=" "+e.name,document.createElement("span"));return o.appendChild(u),u.appendChild(n),u.appendChild(a),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){var e,n,o=this._layerControlInputs,a=[],u=[];this._handlingClick=!0;for(var f=o.length-1;0<=f;f--)e=o[f],n=this._getLayer(e.layerId).layer,e.checked?a.push(n):e.checked||u.push(n);for(f=0;f<u.length;f++)this._map.hasLayer(u[f])&&this._map.removeLayer(u[f]);for(f=0;f<a.length;f++)this._map.hasLayer(a[f])||this._map.addLayer(a[f]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,n,o=this._layerControlInputs,a=this._map.getZoom(),u=o.length-1;0<=u;u--)e=o[u],n=this._getLayer(e.layerId).layer,e.disabled=n.options.minZoom!==void 0&&a<n.options.minZoom||n.options.maxZoom!==void 0&&a>n.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;V(e,"click",W),this.expand(),setTimeout(function(){pt(e,"click",W)})}})),vi=Wt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",o=ut("div",n+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,o,a,u){return o=ut("a",o,a),o.innerHTML=e,o.href="#",o.title=n,o.setAttribute("role","button"),o.setAttribute("aria-label",n),De(o),V(o,"click",mt),V(o,"click",u,this),V(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";wt(this._zoomInButton,n),wt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&e._zoom!==e.getMinZoom()||(Y(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&e._zoom!==e.getMaxZoom()||(Y(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}}),Fi=(Q.mergeOptions({zoomControl:!0}),Q.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vi,this.addControl(this.zoomControl))}),Wt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",o=ut("div",n),a=this.options;return this._addScales(a,n+"-line",o),e.on(a.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,o){e.metric&&(this._mScale=ut("div",n,o)),e.imperial&&(this._iScale=ut("div",n,o))},_update:function(){var n=this._map,e=n.getSize().y/2,n=n.distance(n.containerPointToLatLng([0,e]),n.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e);this._updateScale(this._mScale,n<1e3?n+" m":n/1e3+" km",n/e)},_updateImperial:function(a){var n,o,a=3.2808399*a;5280<a?(o=this._getRoundNum(n=a/5280),this._updateScale(this._iScale,o+" mi",o/n)):(o=this._getRoundNum(a),this._updateScale(this._iScale,o+" ft",o/a))},_updateScale:function(e,n,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=n},_getRoundNum:function(o){var n=Math.pow(10,(Math.floor(o)+"").length-1),o=o/n;return n*(o=10<=o?10:5<=o?5:3<=o?3:2<=o?2:1)}})),Qe=Wt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(j.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){O(this,e),this._attributions={}},onAdd:function(e){for(var n in(e.attributionControl=this)._container=ut("div","leaflet-control-attribution"),De(this._container),e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e&&(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update()),this},removeAttribution:function(e){return e&&this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(this._map){var e,n=[];for(e in this._attributions)this._attributions[e]&&n.push(e);var o=[];this.options.prefix&&o.push(this.options.prefix),n.length&&o.push(n.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}}),Nt=(Q.mergeOptions({attributionControl:!0}),Q.addInitHook(function(){this.options.attributionControl&&new Qe().addTo(this)}),Wt.Layers=$e,Wt.Zoom=vi,Wt.Scale=Fi,Wt.Attribution=Qe,fe.layers=function(e,n,o){return new $e(e,n,o)},fe.zoom=function(e){return new vi(e)},fe.scale=function(e){return new Fi(e)},fe.attribution=function(e){return new Qe(e)},Zt.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})),Re=(Nt.addTo=function(e,n){return e.addHandler(n,this),this},{Events:jt}),yi=j.touch?"touchstart mousedown":"mousedown",pe=Ot.extend({options:{clickTolerance:3},initialize:function(e,n,o,a){O(this,a),this._element=e,this._dragStartTarget=n||e,this._preventOutline=o},enable:function(){this._enabled||(V(this._dragStartTarget,yi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pe._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,yi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){var n,o;this._enabled&&(this._moved=!1,Bi(this._element,"leaflet-zoom-anim")||(e.touches&&e.touches.length!==1?pe._dragging===this&&this.finishDrag():pe._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches||((pe._dragging=this)._preventOutline&&bn(this._element),wn(),_i(),this._moving||(this.fire("down"),o=e.touches?e.touches[0]:e,n=qn(this._element),this._startPoint=new G(o.clientX,o.clientY),this._startPos=re(this._element),this._parentScale=mi(n),o=e.type==="mousedown",V(document,o?"mousemove":"touchmove",this._onMove,this),V(document,o?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(e){var n;this._enabled&&(e.touches&&1<e.touches.length?this._moved=!0:!(n=new G((n=e.touches&&e.touches.length===1?e.touches[0]:e).clientX,n.clientY)._subtract(this._startPoint)).x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,W(e),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Tt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){wt(document.body,"leaflet-dragging"),this._lastTarget&&(wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),Pn(),Ai(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,pe._dragging=!1}});function ji(e,n){if(n&&e.length){var o=e=function(x,Z){for(var B=[x[0]],R=1,tt=0,dt=x.length;R<dt;R++)(function(Rt,Ft){var kt=Ft.x-Rt.x,Ft=Ft.y-Rt.y;return kt*kt+Ft*Ft})(x[R],x[tt])>Z&&(B.push(x[R]),tt=R);return tt<dt-1&&B.push(x[dt-1]),B}(e,n=n*n),a=o.length,u=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(a);u[0]=u[a-1]=1,function x(Z,B,R,tt,dt){var Rt,St,kt,Ft=0;for(St=tt+1;St<=dt-1;St++)kt=ti(Z[St],Z[tt],Z[dt],!0),Ft<kt&&(Rt=St,Ft=kt);R<Ft&&(B[Rt]=1,x(Z,B,R,tt,Rt),x(Z,B,R,Rt,dt))}(o,u,n,0,a-1);var f,P=[];for(f=0;f<a;f++)u[f]&&P.push(o[f]);return P}return e.slice()}function Yn(e,n,o){return Math.sqrt(ti(e,n,o,!0))}function $(e,n,o,a,u){var f,P,x,Z=a?Xe:lt(e,o),B=lt(n,o);for(Xe=B;;){if(!(Z|B))return[e,n];if(Z&B)return!1;x=lt(P=Ut(e,n,f=Z||B,o,u),o),f===Z?(e=P,Z=x):(n=P,B=x)}}function Ut(e,Z,o,R,u){var f,P,x=Z.x-e.x,Z=Z.y-e.y,B=R.min,R=R.max;return 8&o?(f=e.x+x*(R.y-e.y)/Z,P=R.y):4&o?(f=e.x+x*(B.y-e.y)/Z,P=B.y):2&o?(f=R.x,P=e.y+Z*(R.x-e.x)/x):1&o&&(f=B.x,P=e.y+Z*(B.x-e.x)/x),new G(f,P,u)}function lt(e,n){var o=0;return e.x<n.min.x?o|=1:e.x>n.max.x&&(o|=2),e.y<n.min.y?o|=4:e.y>n.max.y&&(o|=8),o}function ti(e,f,o,a){var u=f.x,f=f.y,P=o.x-u,x=o.y-f,Z=P*P+x*x;return 0<Z&&(1<(Z=((e.x-u)*P+(e.y-f)*x)/Z)?(u=o.x,f=o.y):0<Z&&(u+=P*Z,f+=x*Z)),P=e.x-u,x=e.y-f,a?P*P+x*x:new G(u,f)}function Ht(e){return!ht(e[0])||typeof e[0][0]!="object"&&e[0][0]!==void 0}function Wi(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(e)}function Ui(e,n){var o,a,u,f,P;if(!e||e.length===0)throw new Error("latlngs not passed");Ht(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var x,Z=[];for(x in e)Z.push(n.project(U(e[x])));for(var B=Z.length,R=0,tt=0;R<B-1;R++)tt+=Z[R].distanceTo(Z[R+1])/2;if(tt===0)P=Z[0];else for(o=R=0;R<B-1;R++)if(a=Z[R],u=Z[R+1],tt<(o+=f=a.distanceTo(u))){P=[u.x-(f=(o-tt)/f)*(u.x-a.x),u.y-f*(u.y-a.y)];break}return n.unproject(q(P))}hi={__proto__:null,simplify:ji,pointToSegmentDistance:Yn,closestPointOnSegment:function(e,n,o){return ti(e,n,o)},clipSegment:$,_getEdgeIntersection:Ut,_getBitCode:lt,_sqClosestPointOnSegment:ti,isFlat:Ht,_flat:Wi,polylineCenter:Ui};function Me(e,n,o){for(var a,u,f,P,x,Z,B,R=[1,4,2,8],tt=0,dt=e.length;tt<dt;tt++)e[tt]._code=lt(e[tt],n);for(f=0;f<4;f++){for(Z=R[f],a=[],tt=0,u=(dt=e.length)-1;tt<dt;u=tt++)P=e[tt],x=e[u],P._code&Z?x._code&Z||((B=Ut(x,P,Z,n,o))._code=lt(B,n),a.push(B)):(x._code&Z&&((B=Ut(x,P,Z,n,o))._code=lt(B,n),a.push(B)),a.push(P));e=a}return e}function Gi(e,n){var o,a,u,f,P,x;if(!e||e.length===0)throw new Error("latlngs not passed");Ht(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Z,B=[];for(Z in e)B.push(n.project(U(e[Z])));for(var R=B.length,tt=f=P=0,dt=0,Rt=R-1;dt<R;Rt=dt++)o=B[dt],a=B[Rt],u=o.y*a.x-a.y*o.x,f+=(o.x+a.x)*u,P+=(o.y+a.y)*u,tt+=3*u;return x=tt===0?B[0]:[f/tt,P/tt],n.unproject(q(x))}var Se={__proto__:null,clipPolygon:Me,polygonCenter:Gi},xt={project:function(e){return new G(e.lng,e.lat)},unproject:function(e){return new K(e.y,e.x)},bounds:new N([-180,-90],[180,90])},Gt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new N([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,o=this.R,f=e.lat*n,a=this.R_MINOR/o,a=Math.sqrt(1-a*a),u=a*Math.sin(f),u=Math.tan(Math.PI/4-f/2)/Math.pow((1-u)/(1+u),a/2),f=-o*Math.log(Math.max(u,1e-10));return new G(e.lng*n*o,f)},unproject:function(e){for(var n,o=180/Math.PI,a=this.R,u=this.R_MINOR/a,f=Math.sqrt(1-u*u),P=Math.exp(-e.y/a),x=Math.PI/2-2*Math.atan(P),Z=0,B=.1;Z<15&&1e-7<Math.abs(B);Z++)n=f*Math.sin(x),n=Math.pow((1-n)/(1+n),f/2),x+=B=Math.PI/2-2*Math.atan(P*n)-x;return new K(x*o,e.x*o/a)}},Li={__proto__:null,LonLat:xt,Mercator:Gt,SphericalMercator:It},Vi=w({},Bt,{code:"EPSG:3395",projection:Gt,transformation:Oe(We=.5/(Math.PI*Gt.R),.5,-We,.5)}),Jn=w({},Bt,{code:"EPSG:4326",projection:xt,transformation:Oe(1/180,1,-1/180,.5)}),xi=w({},ot,{projection:xt,transformation:Oe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,a){var o=a.lng-e.lng,a=a.lat-e.lat;return Math.sqrt(o*o+a*a)},infinite:!0}),Dt=(ot.Earth=Bt,ot.EPSG3395=Vi,ot.EPSG3857=Ie,ot.EPSG900913=ai,ot.EPSG4326=Jn,ot.Simple=xi,Ot.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[m(e)]=this},removeInteractiveTarget:function(e){return delete this._map._targets[m(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n,o=e.target;o.hasLayer(this)&&(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents&&(n=this.getEvents(),o.on(n,this),this.once("remove",function(){o.off(n,this)},this)),this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this}))}})),ei=(Q.include({addLayer:function(e){var n;if(e._layerAdd)return n=m(e),this._layers[n]||((this._layers[n]=e)._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(e){var n=m(e);return this._layers[n]&&(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null),this},hasLayer:function(e){return m(e)in this._layers},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},_addLayers:function(e){for(var n=0,o=(e=e?ht(e)?e:[e]:[]).length;n<o;n++)this.addLayer(e[n])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[m(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){e=m(e),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var e,n=1/0,o=-1/0,a=this._getZoomSpan();for(e in this._zoomBoundLayers)var u=this._zoomBoundLayers[e].options,n=u.minZoom===void 0?n:Math.min(n,u.minZoom),o=u.maxZoom===void 0?o:Math.max(o,u.maxZoom);this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),Dt.extend({initialize:function(e,n){var o,a;if(O(this,n),this._layers={},e)for(o=0,a=e.length;o<a;o++)this.addLayer(e[o])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){return e=e in this._layers?e:this.getLayerId(e),this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(e){return(typeof e=="number"?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n,o,a=Array.prototype.slice.call(arguments,1);for(n in this._layers)(o=this._layers[n])[e]&&o[e].apply(o,a);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:m})),ae=ei.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),ei.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?((e=e in this._layers?this._layers[e]:e).removeEventParent(this),ei.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e,n=new ft;for(e in this._layers){var o=this._layers[e];n.extend(o.getBounds?o.getBounds():o.getLatLng())}return n}}),et=Zt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){O(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var o=this._getIconUrl(e);if(o)return o=this._createImg(o,n&&n.tagName==="IMG"?n:null),this._setIconStyles(o,e),!this.options.crossOrigin&&this.options.crossOrigin!==""||(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),o;if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(e,n){var o=this.options,a=o[n+"Size"],a=q(a=typeof a=="number"?[a,a]:a),u=q(n==="shadow"&&o.shadowAnchor||o.iconAnchor||a&&a.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(o.className||""),u&&(e.style.marginLeft=-u.x+"px",e.style.marginTop=-u.y+"px"),a&&(e.style.width=a.x+"px",e.style.height=a.y+"px")},_createImg:function(e,n){return(n=n||document.createElement("img")).src=e,n},_getIconUrl:function(e){return j.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),wi=et.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof wi.imagePath!="string"&&(wi.imagePath=this._detectIconPath()),(this.options.imagePath||wi.imagePath)+et.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){function n(o,a,u){return(a=a.exec(o))&&a[u]}return(e=n(e,/^url\((['"])?(.+)\1\)$/,2))&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ut("div","leaflet-default-icon-path",document.body),n=F(e,"background-image")||F(e,"backgroundImage");return document.body.removeChild(e),(n=this._stripUrl(n))?n:(e=document.querySelector('link[href$="leaflet.css"]'))?e.href.substring(0,e.href.length-11-1):""}}),te=Nt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new pe(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,o=n._map,a=this._marker.options.autoPanSpeed,u=this._marker.options.autoPanPadding,f=re(n._icon),P=o.getPixelBounds(),x=o.getPixelOrigin(),x=it(P.min._subtract(x).add(u),P.max._subtract(x).subtract(u));x.contains(f)||(u=q((Math.max(x.max.x,f.x)-x.max.x)/(P.max.x-x.max.x)-(Math.min(x.min.x,f.x)-x.min.x)/(P.min.x-x.min.x),(Math.max(x.max.y,f.y)-x.max.y)/(P.max.y-x.max.y)-(Math.min(x.min.y,f.y)-x.min.y)/(P.min.y-x.min.y)).multiplyBy(a),o.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),Tt(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=_t(this._adjustPan.bind(this,e)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Lt(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,o=n._shadow,a=re(n._icon),u=n._map.layerPointToLatLng(a);o&&Tt(o,a),n._latlng=u,e.latlng=u,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Lt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),ke=Dt.extend({options:{icon:new wi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){O(this,n),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var e;return this._icon&&this._map&&(e=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(e)),this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),o=!1,a=(a!==this._icon&&(this._icon&&this._removeIcon(),o=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),Y(a,n),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&V(a,"focus",this._panOnFocus,this),e.icon.createShadow(this._shadow)),u=!1;a!==this._shadow&&(this._removeShadow(),u=!0),a&&(Y(a,n),a.alt=""),this._shadow=a,e.opacity<1&&this._updateOpacity(),o&&this.getPane().appendChild(this._icon),this._initInteraction(),a&&u&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Tt(this._icon,e),this._shadow&&Tt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round(),this._setPos(e)},_initInteraction:function(){var e;this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),te&&(e=this.options.draggable,this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new te(this),e&&this.dragging.enable()))},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Xt(this._icon,e),this._shadow&&Xt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e,n,o=this._map;o&&(e=(n=this.options.icon.options).iconSize?q(n.iconSize):q(0,0),n=n.iconAnchor?q(n.iconAnchor):q(0,0),o.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:e.subtract(n)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),me=Dt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return O(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),qi=me.extend({options:{fill:!0,radius:10},initialize:function(e,n){O(this,n),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return me.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,e=this._radiusY||o,n=this._clickTolerance(),o=[o+n,e+n];this._pxBounds=new N(this._point.subtract(o),this._point.add(o))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Pi=qi.extend({initialize:function(e,n,o){if(O(this,n=typeof n=="number"?w({},o,{radius:n}):n),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ft(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:me.prototype.setStyle,_project:function(){var e,n,o,a,u,f=this._latlng.lng,P=this._latlng.lat,x=this._map,Z=x.options.crs;Z.distance===Bt.distance?(a=Math.PI/180,u=this._mRadius/Bt.R/a,e=x.project([P+u,f]),n=x.project([P-u,f]),n=e.add(n).divideBy(2),o=x.unproject(n).lat,a=Math.acos((Math.cos(u*a)-Math.sin(P*a)*Math.sin(o*a))/(Math.cos(P*a)*Math.cos(o*a)))/a,!isNaN(a)&&a!==0||(a=u/Math.cos(Math.PI/180*P)),this._point=n.subtract(x.getPixelOrigin()),this._radius=isNaN(a)?0:n.x-x.project([o,f-a]).x,this._radiusY=n.y-e.y):(u=Z.unproject(Z.project(this._latlng).subtract([this._mRadius,0])),this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(u).x),this._updateBounds()}}),ge=me.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){O(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,o=null,a=ti,u=0,f=this._parts.length;u<f;u++)for(var P=this._parts[u],x=1,Z=P.length;x<Z;x++){var B,R,tt=a(e,B=P[x-1],R=P[x],!0);tt<n&&(n=tt,o=a(e,B,R))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(this._map)return Ui(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=U(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ft,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],o=Ht(e),a=0,u=e.length;a<u;a++)o?(n[a]=U(e[a]),this._bounds.extend(n[a])):n[a]=this._convertLatLngs(e[a]);return n},_project:function(){var e=new N;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),e=new G(e,e);this._rawPxBounds&&(this._pxBounds=new N([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(e,n,o){var a,u,f=e[0]instanceof K,P=e.length;if(f){for(u=[],a=0;a<P;a++)u[a]=this._map.latLngToLayerPoint(e[a]),o.extend(u[a]);n.push(u)}else for(a=0;a<P;a++)this._projectLatlngs(e[a],n,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var n,o,a,u,f=this._parts,P=0,x=0,Z=this._rings.length;P<Z;P++)for(n=0,o=(u=this._rings[P]).length;n<o-1;n++)(a=$(u[n],u[n+1],e,n,!0))&&(f[x]=f[x]||[],f[x].push(a[0]),a[1]===u[n+1]&&n!==o-2||(f[x].push(a[1]),x++))},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,o=0,a=e.length;o<a;o++)e[o]=ji(e[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var o,a,u,f,P,x,Z=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(e)){for(o=0,f=this._parts.length;o<f;o++)for(a=0,u=(P=(x=this._parts[o]).length)-1;a<P;u=a++)if((n||a!==0)&&Yn(e,x[u],x[a])<=Z)return!0}return!1}});ge._flat=Wi;var Ne=ge.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return Gi(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(n){var n=ge.prototype._convertLatLngs.call(this,n),o=n.length;return 2<=o&&n[0]instanceof K&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(e){ge.prototype._setLatLngs.call(this,e),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(Ht(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var n=this._renderer._bounds,e=this.options.weight,e=new G(e,e),n=new N(n.min.subtract(e),n.max.add(e));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(n))if(this.options.noClip)this._parts=this._rings;else for(var o,a=0,u=this._rings.length;a<u;a++)(o=Me(this._rings[a],n,!0)).length&&this._parts.push(o)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n,o,a,u,f,P,x,Z,B=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(u=0,x=this._parts.length;u<x;u++)for(f=0,P=(Z=(n=this._parts[u]).length)-1;f<Z;P=f++)o=n[f],a=n[P],o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(B=!B);return B||ge.prototype._containsPoint.call(this,e,!0)}}),ve=ae.extend({initialize:function(e,n){O(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n,o,a,u=ht(e)?e:e.features;if(u){for(n=0,o=u.length;n<o;n++)((a=u[n]).geometries||a.geometry||a.features||a.coordinates)&&this.addData(a);return this}var f,P=this.options;return(!P.filter||P.filter(e))&&(f=Ki(e,P))?(f.feature=Ti(e),f.defaultOptions=f.options,this.resetStyle(f),P.onEachFeature&&P.onEachFeature(e,f),this.addLayer(f)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=w({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function Ki(e,n){var o,a,u,f,P=e.type==="Feature"?e.geometry:e,x=P?P.coordinates:null,Z=[],B=n&&n.pointToLayer,R=n&&n.coordsToLatLng||Tn;if(!x&&!P)return null;switch(P.type){case"Point":return Yi(B,e,o=R(x),n);case"MultiPoint":for(u=0,f=x.length;u<f;u++)o=R(x[u]),Z.push(Yi(B,e,o,n));return new ae(Z);case"LineString":case"MultiLineString":return a=Vt(x,P.type==="LineString"?0:1,R),new ge(a,n);case"Polygon":case"MultiPolygon":return a=Vt(x,P.type==="Polygon"?1:2,R),new Ne(a,n);case"GeometryCollection":for(u=0,f=P.geometries.length;u<f;u++){var tt=Ki({geometry:P.geometries[u],type:"Feature",properties:e.properties},n);tt&&Z.push(tt)}return new ae(Z);case"FeatureCollection":for(u=0,f=P.features.length;u<f;u++){var dt=Ki(P.features[u],n);dt&&Z.push(dt)}return new ae(Z);default:throw new Error("Invalid GeoJSON object.")}}function Yi(e,n,o,a){return e?e(n,o):new ke(o,a&&a.markersInheritOptions&&a)}function Tn(e){return new K(e[1],e[0],e[2])}function Vt(e,n,o){for(var a,u=[],f=0,P=e.length;f<P;f++)a=n?Vt(e[f],n-1,o):(o||Tn)(e[f]),u.push(a);return u}function Cn(e,n){return(e=U(e)).alt!==void 0?[z(e.lng,n),z(e.lat,n),z(e.alt,n)]:[z(e.lng,n),z(e.lat,n)]}function bi(e,n,o,a){for(var u=[],f=0,P=e.length;f<P;f++)u.push(n?bi(e[f],Ht(e[f])?0:n-1,o,a):Cn(e[f],a));return!n&&o&&u.push(u[0].slice()),u}function qt(e,n){return e.feature?w({},e.feature,{geometry:n}):Ti(n)}function Ti(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}Pe={toGeoJSON:function(e){return qt(this,{type:"Point",coordinates:Cn(this.getLatLng(),e)})}};function Mn(e,n){return new ve(e,n)}ke.include(Pe),Pi.include(Pe),qi.include(Pe),ge.include({toGeoJSON:function(e){var n=!Ht(this._latlngs);return qt(this,{type:(n?"Multi":"")+"LineString",coordinates:bi(this._latlngs,n?1:0,!1,e)})}}),Ne.include({toGeoJSON:function(a){var n=!Ht(this._latlngs),o=n&&!Ht(this._latlngs[0]),a=bi(this._latlngs,o?2:n?1:0,!0,a);return qt(this,{type:(o?"Multi":"")+"Polygon",coordinates:a=n?a:[a]})}}),ei.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(e).geometry.coordinates)}),qt(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n,o,a=this.feature&&this.feature.geometry&&this.feature.geometry.type;return a==="MultiPoint"?this.toMultiPoint(e):(n=a==="GeometryCollection",o=[],this.eachLayer(function(u){u.toGeoJSON&&(u=u.toGeoJSON(e),n?o.push(u.geometry):(u=Ti(u)).type==="FeatureCollection"?o.push.apply(o,u.features):o.push(u))}),n?qt(this,{geometries:o,type:"GeometryCollection"}):{type:"FeatureCollection",features:o})}});var Ji=Mn,Xi=Dt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,o){this._url=e,this._bounds=ct(n),O(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Be(this._image),this},bringToBack:function(){return this._map&&be(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ct(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:ut("img");Y(n,"leaflet-image-layer"),this._zoomAnimated&&Y(n,"leaflet-zoom-animated"),this.options.className&&Y(n,this.options.className),n.onselectstart=b,n.onmousemove=b,n.onload=d(this.fire,this,"load"),n.onerror=d(this._overlayOnError,this,"error"),!this.options.crossOrigin&&this.options.crossOrigin!==""||(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=n.src:(n.src=this._url,n.alt=this.options.alt)},_animateZoom:function(o){var n=this._map.getZoomScale(o.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Te(this._image,o,n)},_reset:function(){var e=this._image,n=new N(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();Tt(e,n.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),$i=Xi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:ut("video");if(Y(n,"leaflet-image-layer"),this._zoomAnimated&&Y(n,"leaflet-zoom-animated"),this.options.className&&Y(n,this.options.className),n.onselectstart=b,n.onmousemove=b,n.onloadeddata=d(this.fire,this,"load"),e){for(var o=n.getElementsByTagName("source"),a=[],u=0;u<o.length;u++)a.push(o[u].src);this._url=0<o.length?a:[n.src]}else{ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var P=ut("source");P.src=this._url[f],n.appendChild(P)}}}}),Xn=Xi.extend({_initImage:function(){var e=this._image=this._url;Y(e,"leaflet-image-layer"),this._zoomAnimated&&Y(e,"leaflet-zoom-animated"),this.options.className&&Y(e,this.options.className),e.onselectstart=b,e.onmousemove=b}}),se=Dt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof K||ht(e))?(this._latlng=U(e),O(this,n)):(O(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(d(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Be(this._container),this},bringToBack:function(){return this._map&&be(this._container),this},_prepareOpen:function(e){if(!(o=this._source)._map)return!1;if(o instanceof ae){var n,o=null,a=this._source._layers;for(n in a)if(a[n]._map){o=a[n];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else{if(!o.getBounds)throw new Error("Unable to get source layer LatLng.");e=o.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){var e,n,o;this._map&&(n=this._map.latLngToLayerPoint(this._latlng),e=q(this.options.offset),o=this._getAnchor(),this._zoomAnimated?Tt(this._container,n.add(o)):e=e.add(n).add(o),n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x,this._container.style.bottom=n+"px",this._container.style.left=o+"px")},_getAnchor:function(){return[0,0]}}),Ci=(Q.include({_initOverlay:function(e,n,o,a){var u=n;return u instanceof e||(u=new e(a).setContent(n)),o&&u.setLatLng(o),u}}),Dt.include({_initOverlay:function(e,n,o,a){var u=o;return u instanceof e?(O(u,a),u._source=this):(u=n&&!a?n:new e(a,this)).setContent(o),u}}),se.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,se.prototype.openOn.call(this,e)},onAdd:function(e){se.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof me||this._source.on("preclick",$t))},onRemove:function(e){se.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof me||this._source.off("preclick",$t))},getEvents:function(){var e=se.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=ut("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ut("div",e+"-content-wrapper",n);this._contentNode=ut("div",e+"-content",o),De(n),Ce(this._contentNode),V(n,"contextmenu",$t),this._tipContainer=ut("div",e+"-tip-container",n),this._tip=ut("div",e+"-tip",this._tipContainer),this.options.closeButton&&((o=this._closeButton=ut("a",e+"-close-button",n)).setAttribute("role","button"),o.setAttribute("aria-label","Close popup"),o.href="#close",o.innerHTML='<span aria-hidden="true">&#215;</span>',V(o,"click",function(a){W(a),this.close()},this))},_updateLayout:function(){var e=this._contentNode,n=e.style,o=(n.width="",n.whiteSpace="nowrap",e.offsetWidth),o=Math.min(o,this.options.maxWidth),o=(o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="",e.offsetHeight),a=this.options.maxHeight,u="leaflet-popup-scrolled";(a&&a<o?(n.height=a+"px",Y):wt)(e,u),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var n=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),o=this._getAnchor();Tt(this._container,n.add(o))},_adjustPan:function(){var e,n,o,a,u,f,P,x;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(e=this._map,n=parseInt(F(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+n,x=this._containerWidth,(o=new G(this._containerLeft,-n-this._containerBottom))._add(re(this._container)),o=e.layerPointToContainerPoint(o),u=q(this.options.autoPanPadding),a=q(this.options.autoPanPaddingTopLeft||u),u=q(this.options.autoPanPaddingBottomRight||u),f=e.getSize(),P=0,o.x+x+u.x>f.x&&(P=o.x+x-f.x+u.x),o.x-P-a.x<(x=0)&&(P=o.x-a.x),o.y+n+u.y>f.y&&(x=o.y+n-f.y+u.y),o.y-x-a.y<0&&(x=o.y-a.y),(P||x)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([P,x]))))},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),He=(Q.mergeOptions({closePopupOnClick:!0}),Q.include({openPopup:function(e,n,o){return this._initOverlay(Ci,e,n,o).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Dt.include({bindPopup:function(e,n){return this._popup=this._initOverlay(Ci,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof ae||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var n;this._popup&&this._map&&(mt(e),n=e.layer||e.target,this._popup._source!==n||n instanceof me?(this._popup._source=n,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}}),se.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){se.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){se.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=se.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,B=this._map,o=this._container,a=B.latLngToContainerPoint(B.getCenter()),B=B.layerPointToContainerPoint(e),u=this.options.direction,f=o.offsetWidth,P=o.offsetHeight,x=q(this.options.offset),Z=this._getAnchor(),B=u==="top"?(n=f/2,P):u==="bottom"?(n=f/2,0):(n=u==="center"?f/2:u==="right"?0:u==="left"?f:B.x<a.x?(u="right",0):(u="left",f+2*(x.x+Z.x)),P/2);e=e.subtract(q(n,B,!0)).add(x).add(Z),wt(o,"leaflet-tooltip-right"),wt(o,"leaflet-tooltip-left"),wt(o,"leaflet-tooltip-top"),wt(o,"leaflet-tooltip-bottom"),Y(o,"leaflet-tooltip-"+u),Tt(o,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Xt(this._container,e)},_animateZoom:function(e){e=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),this._setPosition(e)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),ze=(Q.include({openTooltip:function(e,n,o){return this._initOverlay(He,e,n,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Dt.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(He,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){var n,o;!e&&this._tooltipHandlersAdded||(n=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!e)},openTooltip:function(e){return this._tooltip&&(this instanceof ae||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=e.getElement();n&&(V(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),V(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){e=e.getElement(),e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var n=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(e=this._map.mouseEventToContainerPoint(e.originalEvent),e=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(e)),this._tooltip.setLatLng(n)}}),et.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var n=n&&n.tagName==="DIV"?n:document.createElement("div"),o=this.options;return o.html instanceof Element?(pi(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos&&(o=q(o.bgPos),n.style.backgroundPosition=-o.x+"px "+-o.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}));et.Default=wi;var Mi=Dt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:j.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){O(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),vt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Be(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(be(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var e;return this._map&&(this._removeAllTiles(),(e=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof G?e:new G(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n,o=this.getPane().children,a=-e(-1/0,1/0),u=0,f=o.length;u<f;u++)n=o[u].style.zIndex,o[u]!==this._container&&n&&(a=e(a,+n));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!j.ielt9){Xt(this._container,this.options.opacity);var e,n=+new Date,o=!1,a=!1;for(e in this._tiles){var u,f=this._tiles[e];f.current&&f.loaded&&(u=Math.min(1,(n-f.loaded)/200),Xt(f.el,u),u<1?o=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0))}a&&!this._noPrune&&this._pruneTiles(),o&&(Lt(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=n-Math.abs(e-o),this._onUpdateLevel(o)):(vt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var a=this._levels[e],u=this._map;return a||((a=this._levels[e]={}).el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=n,a.origin=u.project(u.unproject(u.getPixelOrigin()),e).round(),a.zoom=e,this._setZoomTransform(a,u.getCenter(),u.getZoom()),b(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var e,n,o,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(o=this._tiles[e]).retain=o.current;for(e in this._tiles)(o=this._tiles[e]).current&&!o.active&&(n=o.coords,this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2));for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)vt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,f,P,a){var u=Math.floor(u/2),f=Math.floor(f/2),P=P-1,x=new G(+u,+f),x=(x.z=P,this._tileCoordsToKey(x)),x=this._tiles[x];return x&&x.active?x.retain=!0:(x&&x.loaded&&(x.retain=!0),a<P&&this._retainParent(u,f,P,a))},_retainChildren:function(e,n,o,a){for(var u=2*e;u<2*e+2;u++)for(var f=2*n;f<2*n+2;f++){var P=new G(u,f),P=(P.z=o+1,this._tileCoordsToKey(P)),P=this._tiles[P];P&&P.active?P.retain=!0:(P&&P.loaded&&(P.retain=!0),o+1<a&&this._retainChildren(u,f,o+1,a))}},_resetView:function(e){e=e&&(e.pinch||e.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,o,a){var u=Math.round(n),u=this.options.maxZoom!==void 0&&u>this.options.maxZoom||this.options.minZoom!==void 0&&u<this.options.minZoom?void 0:this._clampZoom(u),f=this.options.updateWhenZooming&&u!==this._tileZoom;a&&!f||(this._tileZoom=u,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),u!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,n)},_setZoomTransform:function(e,u,o){var a=this._map.getZoomScale(o,e.zoom),u=e.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(u,o)).round();j.any3d?Te(e.el,u,a):Tt(e.el,u)},_resetGrid:function(){var e=this._map,n=e.options.crs,o=this._tileSize=this.getTileSize(),a=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],a).x/o.x),Math.ceil(e.project([0,n.wrapLng[1]],a).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],a).y/o.x),Math.ceil(e.project([n.wrapLat[1],0],a).y/o.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(o){var a=this._map,n=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),n=a.getZoomScale(n,this._tileZoom),o=a.project(o,this._tileZoom).floor(),a=a.getSize().divideBy(2*n);return new N(o.subtract(a),o.add(a))},_update:function(e){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var a,n=this._getTiledPixelBounds(e),u=this._pxBoundsToTileRange(n),f=u.getCenter(),P=[],n=this.options.keepBuffer,x=new N(u.getBottomLeft().subtract([n,-n]),u.getTopRight().add([n,-n]));if(!(isFinite(u.min.x)&&isFinite(u.min.y)&&isFinite(u.max.x)&&isFinite(u.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(a in this._tiles){var Z=this._tiles[a].coords;Z.z===this._tileZoom&&x.contains(new G(Z.x,Z.y))||(this._tiles[a].current=!1)}if(1<Math.abs(o-this._tileZoom))this._setView(e,o);else{for(var B=u.min.y;B<=u.max.y;B++)for(var R=u.min.x;R<=u.max.x;R++){var tt,dt=new G(R,B);dt.z=this._tileZoom,this._isValidTile(dt)&&((tt=this._tiles[this._tileCoordsToKey(dt)])?tt.current=!0:P.push(dt))}if(P.sort(function(kt,Ft){return kt.distanceTo(f)-Ft.distanceTo(f)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));for(var Rt=document.createDocumentFragment(),R=0;R<P.length;R++)this._addTile(P[R],Rt);this._level.el.appendChild(Rt)}}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!n.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}return!this.options.bounds||(n=this._tileCoordsToBounds(e),ct(this.options.bounds).overlaps(n))},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,a=this.getTileSize(),o=e.scaleBy(a),a=o.add(a);return[n.unproject(o,e.z),n.unproject(a,e.z)]},_tileCoordsToBounds:function(e){return e=this._tileCoordsToNwSe(e),e=new ft(e[0],e[1]),e=this.options.noWrap?e:this._map.wrapLatLngBounds(e)},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(n){var n=n.split(":"),o=new G(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(e){var n=this._tiles[e];n&&(vt(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Y(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=b,e.onmousemove=b,j.ielt9&&this.options.opacity<1&&Xt(e,this.options.opacity)},_addTile:function(e,n){var o=this._getTilePos(e),a=this._tileCoordsToKey(e),u=this.createTile(this._wrapCoords(e),d(this._tileReady,this,e));this._initTile(u),this.createTile.length<2&&_t(d(this._tileReady,this,e,null,u)),Tt(u,o),this._tiles[a]={el:u,coords:e,current:!0},n.appendChild(u),this.fire("tileloadstart",{tile:u,coords:e})},_tileReady:function(e,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:e});var a=this._tileCoordsToKey(e);(o=this._tiles[a])&&(o.loaded=+new Date,this._map._fadeAnimated?(Xt(o.el,0),Lt(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(Y(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),j.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new G(this._wrapX?S(e.x,this._wrapX):e.x,this._wrapY?S(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new N(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),he=Mi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,(n=O(this,n)).detectRetina&&j.retina&&0<n.maxZoom?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var o=document.createElement("img");return V(o,"load",d(this._tileOnLoad,this,n,o)),V(o,"error",d(this._tileOnError,this,n,o)),!this.options.crossOrigin&&this.options.crossOrigin!==""||(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var n={r:j.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(e=this._globalTileRange.max.y-e.y,this.options.tms&&(n.y=e),n["-y"]=e),nt(this._url,w(n,this.options))},_tileOnLoad:function(e,n){j.ielt9?setTimeout(d(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,o){var a=this.options.errorTileUrl;a&&n.getAttribute("src")!==a&&(n.src=a),e(o,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom;return(e=this.options.zoomReverse?n-e:e)+this.options.zoomOffset},_getSubdomain:function(e){return e=Math.abs(e.x+e.y)%this.options.subdomains.length,this.options.subdomains[e]},_abortLoading:function(){var e,n,o;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((o=this._tiles[e].el).onload=b,o.onerror=b,o.complete||(o.src=At,n=this._tiles[e].coords,vt(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:n})))},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",At),Mi.prototype._removeTile.call(this,e)},_tileReady:function(e,n,o){if(this._map&&(!o||o.getAttribute("src")!==At))return Mi.prototype._tileReady.call(this,e,n,o)}});function Kt(e,n){return new he(e,n)}var Sn=he.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,n){this._url=u;var o,a=w({},this.defaultWmsParams);for(o in n)o in this.options||(a[o]=n[o]);var u=(n=O(this,n)).detectRetina&&j.retina?2:1,f=this.getTileSize();a.width=f.x*u,a.height=f.y*u,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[n]=this._crs.code,he.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),o=this._crs,o=it(o.project(n[0]),o.project(n[1])),n=o.min,o=o.max,n=(1.3<=this._wmsVersion&&this._crs===Jn?[n.y,n.x,o.y,o.x]:[n.x,n.y,o.x,o.y]).join(","),o=he.prototype.getTileUrl.call(this,e);return o+at(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+n},setParams:function(e,n){return w(this.wmsParams,e),n||this.redraw(),this}});he.WMS=Sn,Kt.wms=function(e,n){return new Sn(e,n)};var ue=Dt.extend({options:{padding:.1},initialize:function(e){O(this,e),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var o=this._map.getZoomScale(n,this._zoom),u=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,n),u=u.multiplyBy(-o).add(a).subtract(this._map._getNewPixelOrigin(e,n));j.any3d?Te(this._container,u,o):Tt(this._container,u)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new N(o,o.add(n.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$n=ue.extend({options:{tolerance:0},getEvents:function(){var e=ue.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ue.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");V(e,"mousemove",this._onMouseMove,this),V(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),V(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Lt(this._redrawRequest),delete this._ctx,vt(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){var e,n,o,a;this._map._animatingZoom&&this._bounds||(ue.prototype._update.call(this),e=this._bounds,n=this._container,o=e.getSize(),a=j.retina?2:1,Tt(n,e.min),n.width=a*o.x,n.height=a*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",j.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update"))},_reset:function(){ue.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),e=(this._layers[m(e)]=e)._order={layer:e,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,n=o.next,o=o.prev;n?n.prev=o:this._drawLast=o,o?o.next=n:this._drawFirst=n,delete e._order,delete this._layers[m(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){for(var n,o=e.options.dashArray.split(/[, ]+/),a=[],u=0;u<o.length;u++){if(n=Number(o[u]),isNaN(n))return;a.push(n)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(e){var n;e._pxBounds&&(n=(e.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new N,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e,n=this._redrawBounds;n?(e=n.getSize(),this._ctx.clearRect(n.min.x,n.min.y,e.x,e.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var e,n,o=this._redrawBounds;this._ctx.save(),o&&(n=o.getSize(),this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,n.x,n.y),this._ctx.clip()),this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)e=a.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var o,a,u,f,P=e._parts,x=P.length,Z=this._ctx;if(x){for(Z.beginPath(),o=0;o<x;o++){for(a=0,u=P[o].length;a<u;a++)f=P[o][a],Z[a?"lineTo":"moveTo"](f.x,f.y);n&&Z.closePath()}this._fillStroke(Z,e)}}},_updateCircle:function(e){var n,o,a,u;this._drawing&&!e._empty()&&(n=e._point,o=this._ctx,a=Math.max(Math.round(e._radius),1),(u=(Math.max(Math.round(e._radiusY),1)||a)/a)!=1&&(o.save(),o.scale(1,u)),o.beginPath(),o.arc(n.x,n.y/u,a,0,2*Math.PI,!1),u!=1&&o.restore(),this._fillStroke(o,e))},_fillStroke:function(e,n){var o=n.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var n,o,a=this._map.mouseEventToLayerPoint(e),u=this._drawFirst;u;u=u.next)(n=u.layer).options.interactive&&n._containsPoint(a)&&((e.type==="click"||e.type==="preclick")&&this._map._draggableMoved(n)||(o=n));this._fireEvent(!!o&&[o],e)},_onMouseMove:function(e){var n;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(n=this._map.mouseEventToLayerPoint(e),this._handleMouseHover(e,n))},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(wt(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var o,a,u=this._drawFirst;u;u=u.next)(o=u.layer).options.interactive&&o._containsPoint(n)&&(a=o);a!==this._hoveredLayer&&(this._handleMouseOut(e),a&&(Y(this._container,"leaflet-interactive"),this._fireEvent([a],e,"mouseover"),this._hoveredLayer=a)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,o){this._map._fireDOMEvent(n,o||n.type,e)},_bringToFront:function(e){var n,o,a=e._order;a&&(n=a.next,o=a.prev,n&&((n.prev=o)?o.next=n:n&&(this._drawFirst=n),a.prev=this._drawLast,(this._drawLast.next=a).next=null,this._drawLast=a,this._requestRedraw(e)))},_bringToBack:function(e){var n,o,a=e._order;a&&(n=a.next,(o=a.prev)&&((o.next=n)?n.prev=o:o&&(this._drawLast=o),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(e)))}});function kn(e){return j.canvas?new $n(e):null}var ii=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Si={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ue.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=ii("shape");Y(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=ii("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;vt(n),e.removeInteractiveTarget(n),delete this._layers[m(e)]},_updateStyle:function(e){var n=e._stroke,o=e._fill,a=e.options,u=e._container;u.stroked=!!a.stroke,u.filled=!!a.fill,a.stroke?(n=n||(e._stroke=ii("stroke")),u.appendChild(n),n.weight=a.weight+"px",n.color=a.color,n.opacity=a.opacity,a.dashArray?n.dashStyle=ht(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=a.lineCap.replace("butt","flat"),n.joinstyle=a.lineJoin):n&&(u.removeChild(n),e._stroke=null),a.fill?(o=o||(e._fill=ii("fill")),u.appendChild(o),o.color=a.fillColor||a.color,o.opacity=a.fillOpacity):o&&(u.removeChild(o),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),o=Math.round(e._radius),a=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+a+" 0,23592600")},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){Be(e._container)},_bringToBack:function(e){be(e._container)}},ni=j.vml?ii:Ii,Fe=ue.extend({_initContainer:function(){this._container=ni("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ni("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var e,n,o;this._map._animatingZoom&&this._bounds||(ue.prototype._update.call(this),n=(e=this._bounds).getSize(),o=this._container,this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),Tt(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update"))},_initPath:function(e){var n=e._path=ni("path");e.options.className&&Y(n,e.options.className),e.options.interactive&&Y(n,"leaflet-interactive"),this._updateStyle(e),this._layers[m(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){vt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[m(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(o){var n=o._path,o=o.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,Nn(e._parts,n))},_updateCircle:function(e){var a=e._point,n=Math.max(Math.round(e._radius),1),o="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",a=e._empty()?"M0 0":"M"+(a.x-n)+","+a.y+o+2*n+",0 "+o+2*-n+",0 ";this._setPath(e,a)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){Be(e._path)},_bringToBack:function(e){be(e._path)}});function Qn(e){return j.svg||j.vml?new Fe(e):null}j.vml&&Fe.include(Si),Q.include({getRenderer:function(e){return e=(e=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(e){var n;return e!=="overlayPane"&&e!==void 0&&((n=this._paneRenderers[e])===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n)},_createRenderer:function(e){return this.options.preferCanvas&&kn(e)||Qn(e)}});var to=Ne.extend({initialize:function(e,n){Ne.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=ct(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});Fe.create=ni,Fe.pointsToPath=Nn,ve.geometryToLayer=Ki,ve.coordsToLatLng=Tn,ve.coordsToLatLngs=Vt,ve.latLngToCoords=Cn,ve.latLngsToCoords=bi,ve.getFeature=qt,ve.asFeature=Ti,Q.mergeOptions({boxZoom:!0});var le=Nt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){V(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),_i(),wn(),this._startPoint=this._map.mouseEventToContainerPoint(e),V(document,{contextmenu:mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var n=new N(this._point,this._startPoint),o=n.getSize();Tt(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(vt(this._box),wt(this._container,"leaflet-crosshair")),Ai(),Pn(),pt(document,{contextmenu:mt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){e.which!==1&&e.button!==1||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0),e=new ft(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})))},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),Qi=(Q.addInitHook("addHandler","boxZoom",le),Q.mergeOptions({doubleClickZoom:!0}),Nt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,a=n.getZoom(),o=n.options.zoomDelta,a=e.originalEvent.shiftKey?a-o:a+o;n.options.doubleClickZoom==="center"?n.setZoom(a):n.setZoomAround(e.containerPoint,a)}})),Mt=(Q.addInitHook("addHandler","doubleClickZoom",Qi),Q.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),Nt.extend({addHooks:function(){var e;this._draggable||(e=this._map,this._draggable=new pe(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))),Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){wt(this._map._container,"leaflet-grab"),wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e,n=this._map;n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(e=ct(this._map.options.maxBounds),this._offsetLimit=it(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){var n,o;this._map.options.inertia&&(n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(o),this._times.push(n),this._prunePositions(n)),this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;1<this._positions.length&&50<e-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){var e,n;this._viscosity&&this._offsetLimit&&(e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit,e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e))},_onPreDragWrap:function(){var u=this._worldWidth,e=Math.round(u/2),n=this._initialWorldOffset,a=this._draggable._newPos.x,o=(a-e+n)%u+e-n,a=(a+e+n)%u-e-n,u=Math.abs(o+n)<Math.abs(a+n)?o:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=u},_onDragEnd:function(e){var n,o,a,u,f=this._map,P=f.options,x=!P.inertia||e.noInertia||this._times.length<2;f.fire("dragend",e),!x&&(this._prunePositions(+new Date),e=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,n=P.easeLinearity,x=(e=e.multiplyBy(n/x)).distanceTo([0,0]),o=Math.min(P.inertiaMaxSpeed,x),e=e.multiplyBy(o/x),a=o/(P.inertiaDeceleration*n),(u=e.multiplyBy(-a/2).round()).x||u.y)?(u=f._limitOffset(u,f.options.maxBounds),_t(function(){f.panBy(u,{duration:a,easeLinearity:n,noMoveStart:!0,animate:!0})})):f.fire("moveend")}})),ye=(Q.addInitHook("addHandler","dragging",Mt),Q.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Nt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),V(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var e,n,o;this._focused||(o=document.body,e=document.documentElement,n=o.scrollTop||e.scrollTop,o=o.scrollLeft||e.scrollLeft,this._map._container.focus(),window.scrollTo(o,n))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){for(var n=this._panKeys={},o=this.keyCodes,a=0,u=o.left.length;a<u;a++)n[o.left[a]]=[-1*e,0];for(a=0,u=o.right.length;a<u;a++)n[o.right[a]]=[e,0];for(a=0,u=o.down.length;a<u;a++)n[o.down[a]]=[0,e];for(a=0,u=o.up.length;a<u;a++)n[o.up[a]]=[0,-1*e]},_setZoomDelta:function(e){for(var n=this._zoomKeys={},o=this.keyCodes,a=0,u=o.zoomIn.length;a<u;a++)n[o.zoomIn[a]]=e;for(a=0,u=o.zoomOut.length;a<u;a++)n[o.zoomOut[a]]=-e},_addHooks:function(){V(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n,o,a=e.keyCode,u=this._map;if(a in this._panKeys)u._panAnim&&u._panAnim._inProgress||(o=this._panKeys[a],e.shiftKey&&(o=q(o).multiplyBy(3)),u.options.maxBounds&&(o=u._limitOffset(q(o),u.options.maxBounds)),u.options.worldCopyJump?(n=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(o))),u.panTo(n)):u.panBy(o));else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[a]);else{if(a!==27||!u._popup||!u._popup.options.closeOnEscapeKey)return;u.closePopup()}mt(e)}}})),tn=(Q.addInitHook("addHandler","keyboard",ye),Q.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Nt.extend({addHooks:function(){V(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=Kn(e),n=this._map.options.wheelDebounceTime,o=(this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date),Math.max(n-(+new Date-this._startTime),0));clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),o),mt(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),o=this._map.options.zoomSnap||0,a=(e._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel)),a=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,o=o?Math.ceil(a/o)*o:a,a=e._limitZoom(n+(0<this._delta?o:-o))-n;this._delta=0,this._startTime=null,a&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+a):e.setZoomAround(this._lastMousePos,n+a))}})),Yt=(Q.addInitHook("addHandler","scrollWheelZoom",tn),Q.mergeOptions({tapHold:j.touchNative&&j.safari&&j.mobile,tapTolerance:15}),Nt.extend({addHooks:function(){V(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){var n;clearTimeout(this._holdTimeout),e.touches.length===1&&(n=e.touches[0],this._startPos=this._newPos=new G(n.clientX,n.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(V(document,"touchend",W),V(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),600),V(document,"touchend touchcancel contextmenu",this._cancel,this),V(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function e(){pt(document,"touchend",W),pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(e){e=e.touches[0],this._newPos=new G(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){e=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY}),e._simulated=!0,n.target.dispatchEvent(e)}})),ki=(Q.addInitHook("addHandler","tapHold",Yt),Q.mergeOptions({touchZoom:j.touch,bounceAtZoomLimits:!0}),Nt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),V(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n,o,a=this._map;!e.touches||e.touches.length!==2||a._animatingZoom||this._zooming||(n=a.mouseEventToContainerPoint(e.touches[0]),o=a.mouseEventToContainerPoint(e.touches[1]),this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(n.add(o)._divideBy(2))),this._startDist=n.distanceTo(o),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),V(document,"touchmove",this._onTouchMove,this),V(document,"touchend touchcancel",this._onTouchEnd,this),W(e))},_onTouchMove:function(e){if(e.touches&&e.touches.length===2&&this._zooming){var n=this._map,o=n.mouseEventToContainerPoint(e.touches[0]),a=n.mouseEventToContainerPoint(e.touches[1]),u=o.distanceTo(a)/this._startDist;if(this._zoom=n.getScaleZoom(u,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&u<1||this._zoom>n.getMaxZoom()&&1<u)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,u==1)return}else{if(o=o._add(a)._divideBy(2)._subtract(this._centerPoint),u==1&&o.x===0&&o.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Lt(this._animRequest),a=d(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=_t(a,this,!0),W(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Lt(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}})),oi=(Q.addInitHook("addHandler","touchZoom",ki),Q.BoxZoom=le,Q.DoubleClickZoom=Qi,Q.Drag=Mt,Q.Keyboard=ye,Q.ScrollWheelZoom=tn,Q.TapHold=Yt,Q.TouchZoom=ki,c.Bounds=N,c.Browser=j,c.CRS=ot,c.Canvas=$n,c.Circle=Pi,c.CircleMarker=qi,c.Class=Zt,c.Control=Wt,c.DivIcon=ze,c.DivOverlay=se,c.DomEvent=_e,c.DomUtil=Ae,c.Draggable=pe,c.Evented=Ot,c.FeatureGroup=ae,c.GeoJSON=ve,c.GridLayer=Mi,c.Handler=Nt,c.Icon=et,c.ImageOverlay=Xi,c.LatLng=K,c.LatLngBounds=ft,c.Layer=Dt,c.LayerGroup=ei,c.LineUtil=hi,c.Map=Q,c.Marker=ke,c.Mixin=Re,c.Path=me,c.Point=G,c.PolyUtil=Se,c.Polygon=Ne,c.Polyline=ge,c.Popup=Ci,c.PosAnimation=Pt,c.Projection=Li,c.Rectangle=to,c.Renderer=ue,c.SVG=Fe,c.SVGOverlay=Xn,c.TileLayer=he,c.Tooltip=He,c.Transformation=Oi,c.Util=fo,c.VideoOverlay=$i,c.bind=d,c.bounds=it,c.canvas=kn,c.circle=function(e,n,o){return new Pi(e,n,o)},c.circleMarker=function(e,n){return new qi(e,n)},c.control=fe,c.divIcon=function(e){return new ze(e)},c.extend=w,c.featureGroup=function(e,n){return new ae(e,n)},c.geoJSON=Mn,c.geoJson=Ji,c.gridLayer=function(e){return new Mi(e)},c.icon=function(e){return new et(e)},c.imageOverlay=function(e,n,o){return new Xi(e,n,o)},c.latLng=U,c.latLngBounds=ct,c.layerGroup=function(e,n){return new ei(e,n)},c.map=function(e,n){return new Q(e,n)},c.marker=function(e,n){return new ke(e,n)},c.point=q,c.polygon=function(e,n){return new Ne(e,n)},c.polyline=function(e,n){return new ge(e,n)},c.popup=function(e,n){return new Ci(e,n)},c.rectangle=function(e,n){return new to(e,n)},c.setOptions=O,c.stamp=m,c.svg=Qn,c.svgOverlay=function(e,n,o){return new Xn(e,n,o)},c.tileLayer=Kt,c.tooltip=function(e,n){return new He(e,n)},c.transformation=Oe,c.version="1.9.3",c.videoOverlay=function(e,n,o){return new $i(e,n,o)},window.L);c.noConflict=function(){return window.L=oi,this},window.L=c})})($s,zo);var Eo={},Qs={get exports(){return Eo},set exports(C){Eo=C}};(function(C,g){(function(c,w){w(g)})(Oo,function(c){var w=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(h){L.Util.setOptions(this,h),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var d=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,d?this._withAnimation:this._noAnimation),this._markerCluster=d?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(h){if(h instanceof L.LayerGroup)return this.addLayers([h]);if(!h.getLatLng)return this._nonPointGroup.addLayer(h),this.fire("layeradd",{layer:h}),this;if(!this._map)return this._needsClustering.push(h),this.fire("layeradd",{layer:h}),this;if(this.hasLayer(h))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(h,this._maxZoom),this.fire("layeradd",{layer:h}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var d=h,p=this._zoom;if(h.__parent)for(;d.__parent._zoom>=p;)d=d.__parent;return this._currentShownBounds.contains(d.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(h,d):this._animationAddLayerNonAnimated(h,d)),this},removeLayer:function(h){return h instanceof L.LayerGroup?this.removeLayers([h]):h.getLatLng?this._map?h.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(h)),this._removeLayer(h,!0),this.fire("layerremove",{layer:h}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),h.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(h)&&(this._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,h)&&this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h}),this):(this._nonPointGroup.removeLayer(h),this.fire("layerremove",{layer:h}),this)},addLayers:function(h,d){if(!L.Util.isArray(h))return this.addLayer(h);var p=this._featureGroup,m=this._nonPointGroup,T=this.options.chunkedLoading,S=this.options.chunkInterval,b=this.options.chunkProgress,z=h.length,E=0,A=!0,O;if(this._map){var at=new Date().getTime(),H=L.bind(function(){var ht=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();E<z;E++){if(T&&E%200===0){var ee=new Date().getTime()-ht;if(ee>S)break}if(O=h[E],O instanceof L.LayerGroup){A&&(h=h.slice(),A=!1),this._extractNonGroupLayers(O,h),z=h.length;continue}if(!O.getLatLng){m.addLayer(O),d||this.fire("layeradd",{layer:O});continue}if(!this.hasLayer(O)&&(this._addLayer(O,this._maxZoom),d||this.fire("layeradd",{layer:O}),O.__parent&&O.__parent.getChildCount()===2)){var At=O.__parent.getAllChildMarkers(),Ze=At[0]===O?At[1]:At[0];p.removeLayer(Ze)}}b&&b(E,z,new Date().getTime()-at),E===z?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(H,this.options.chunkDelay)},this);H()}else for(var nt=this._needsClustering;E<z;E++){if(O=h[E],O instanceof L.LayerGroup){A&&(h=h.slice(),A=!1),this._extractNonGroupLayers(O,h),z=h.length;continue}if(!O.getLatLng){m.addLayer(O);continue}this.hasLayer(O)||nt.push(O)}return this},removeLayers:function(h){var d,p,m=h.length,T=this._featureGroup,S=this._nonPointGroup,b=!0;if(!this._map){for(d=0;d<m;d++){if(p=h[d],p instanceof L.LayerGroup){b&&(h=h.slice(),b=!1),this._extractNonGroupLayers(p,h),m=h.length;continue}this._arraySplice(this._needsClustering,p),S.removeLayer(p),this.hasLayer(p)&&this._needsRemoving.push({layer:p,latlng:p._latlng}),this.fire("layerremove",{layer:p})}return this}if(this._unspiderfy){this._unspiderfy();var z=h.slice(),E=m;for(d=0;d<E;d++){if(p=z[d],p instanceof L.LayerGroup){this._extractNonGroupLayers(p,z),E=z.length;continue}this._unspiderfyLayer(p)}}for(d=0;d<m;d++){if(p=h[d],p instanceof L.LayerGroup){b&&(h=h.slice(),b=!1),this._extractNonGroupLayers(p,h),m=h.length;continue}if(!p.__parent){S.removeLayer(p),this.fire("layerremove",{layer:p});continue}this._removeLayer(p,!0,!0),this.fire("layerremove",{layer:p}),T.hasLayer(p)&&(T.removeLayer(p),p.clusterShow&&p.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(h){h.off(this._childMarkerEventHandlers,this),delete h.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var h=new L.LatLngBounds;this._topClusterLevel&&h.extend(this._topClusterLevel._bounds);for(var d=this._needsClustering.length-1;d>=0;d--)h.extend(this._needsClustering[d].getLatLng());return h.extend(this._nonPointGroup.getBounds()),h},eachLayer:function(h,d){var p=this._needsClustering.slice(),m=this._needsRemoving,T,S,b;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(p),S=p.length-1;S>=0;S--){for(T=!0,b=m.length-1;b>=0;b--)if(m[b].layer===p[S]){T=!1;break}T&&h.call(d,p[S])}this._nonPointGroup.eachLayer(h,d)},getLayers:function(){var h=[];return this.eachLayer(function(d){h.push(d)}),h},getLayer:function(h){var d=null;return h=parseInt(h,10),this.eachLayer(function(p){L.stamp(p)===h&&(d=p)}),d},hasLayer:function(h){if(!h)return!1;var d,p=this._needsClustering;for(d=p.length-1;d>=0;d--)if(p[d]===h)return!0;for(p=this._needsRemoving,d=p.length-1;d>=0;d--)if(p[d].layer===h)return!1;return!!(h.__parent&&h.__parent._group===this)||this._nonPointGroup.hasLayer(h)},zoomToShowLayer:function(h,d){var p=this._map;typeof d!="function"&&(d=function(){});var m=function(){(p.hasLayer(h)||p.hasLayer(h.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",m,this),this.off("animationend",m,this),p.hasLayer(h)?d():h.__parent._icon&&(this.once("spiderfied",d,this),h.__parent.spiderfy()))};h._icon&&this._map.getBounds().contains(h.getLatLng())?d():h.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",m,this),this._map.panTo(h.getLatLng())):(this._map.on("moveend",m,this),this.on("animationend",m,this),h.__parent.zoomToBounds())},onAdd:function(h){this._map=h;var d,p,m;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(h),this._nonPointGroup.addTo(h),this._gridClusters||this._generateInitialClusters(),this._maxLat=h.options.crs.projection.MAX_LATITUDE,d=0,p=this._needsRemoving.length;d<p;d++)m=this._needsRemoving[d],m.newlatlng=m.layer._latlng,m.layer._latlng=m.latlng;for(d=0,p=this._needsRemoving.length;d<p;d++)m=this._needsRemoving[d],this._removeLayer(m.layer,!0),m.layer._latlng=m.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),p=this._needsClustering,this._needsClustering=[],this.addLayers(p,!0)},onRemove:function(h){h.off("zoomend",this._zoomEnd,this),h.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(h){for(var d=h;d&&!d._icon;)d=d.__parent;return d||null},_arraySplice:function(h,d){for(var p=h.length-1;p>=0;p--)if(h[p]===d)return h.splice(p,1),!0},_removeFromGridUnclustered:function(h,d){for(var p=this._map,m=this._gridUnclustered,T=Math.floor(this._map.getMinZoom());d>=T&&m[d].removeObject(h,p.project(h.getLatLng(),d));d--);},_childMarkerDragStart:function(h){h.target.__dragStart=h.target._latlng},_childMarkerMoved:function(h){if(!this._ignoreMove&&!h.target.__dragStart){var d=h.target._popup&&h.target._popup.isOpen();this._moveChild(h.target,h.oldLatLng,h.latlng),d&&h.target.openPopup()}},_moveChild:function(h,d,p){h._latlng=d,this.removeLayer(h),h._latlng=p,this.addLayer(h)},_childMarkerDragEnd:function(h){var d=h.target.__dragStart;delete h.target.__dragStart,d&&this._moveChild(h.target,d,h.target._latlng)},_removeLayer:function(h,d,p){var m=this._gridClusters,T=this._gridUnclustered,S=this._featureGroup,b=this._map,z=Math.floor(this._map.getMinZoom());d&&this._removeFromGridUnclustered(h,this._maxZoom);var E=h.__parent,A=E._markers,O;for(this._arraySplice(A,h);E&&(E._childCount--,E._boundsNeedUpdate=!0,!(E._zoom<z));)d&&E._childCount<=1?(O=E._markers[0]===h?E._markers[1]:E._markers[0],m[E._zoom].removeObject(E,b.project(E._cLatLng,E._zoom)),T[E._zoom].addObject(O,b.project(O.getLatLng(),E._zoom)),this._arraySplice(E.__parent._childClusters,E),E.__parent._markers.push(O),O.__parent=E.__parent,E._icon&&(S.removeLayer(E),p||S.addLayer(O))):E._iconNeedsUpdate=!0,E=E.__parent;delete h.__parent},_isOrIsParent:function(h,d){for(;d;){if(h===d)return!0;d=d.parentNode}return!1},fire:function(h,d,p){if(d&&d.layer instanceof L.MarkerCluster){if(d.originalEvent&&this._isOrIsParent(d.layer._icon,d.originalEvent.relatedTarget))return;h="cluster"+h}L.FeatureGroup.prototype.fire.call(this,h,d,p)},listens:function(h,d){return L.FeatureGroup.prototype.listens.call(this,h,d)||L.FeatureGroup.prototype.listens.call(this,"cluster"+h,d)},_defaultIconCreateFunction:function(h){var d=h.getChildCount(),p=" marker-cluster-";return d<10?p+="small":d<100?p+="medium":p+="large",new L.DivIcon({html:"<div><span>"+d+"</span></div>",className:"marker-cluster"+p,iconSize:new L.Point(40,40)})},_bindEvents:function(){var h=this._map,d=this.options.spiderfyOnMaxZoom,p=this.options.showCoverageOnHover,m=this.options.zoomToBoundsOnClick,T=this.options.spiderfyOnEveryZoom;(d||m||T)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),p&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),h.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(h){var d=h.layer,p=d;if(!(h.type==="clusterkeypress"&&h.originalEvent&&h.originalEvent.keyCode!==13)){for(;p._childClusters.length===1;)p=p._childClusters[0];p._zoom===this._maxZoom&&p._childCount===d._childCount&&this.options.spiderfyOnMaxZoom?d.spiderfy():this.options.zoomToBoundsOnClick&&d.zoomToBounds(),this.options.spiderfyOnEveryZoom&&d.spiderfy(),h.originalEvent&&h.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(h){var d=this._map;this._inZoomAnimation||(this._shownPolygon&&d.removeLayer(this._shownPolygon),h.layer.getChildCount()>2&&h.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(h.layer.getConvexHull(),this.options.polygonOptions),d.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var h=this.options.spiderfyOnMaxZoom,d=this.options.showCoverageOnHover,p=this.options.zoomToBoundsOnClick,m=this.options.spiderfyOnEveryZoom,T=this._map;(h||p||m)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),d&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),T.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var h=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),h),this._currentShownBounds=h}},_generateInitialClusters:function(){var h=Math.ceil(this._map.getMaxZoom()),d=Math.floor(this._map.getMinZoom()),p=this.options.maxClusterRadius,m=p;typeof p!="function"&&(m=function(){return p}),this.options.disableClusteringAtZoom!==null&&(h=this.options.disableClusteringAtZoom-1),this._maxZoom=h,this._gridClusters={},this._gridUnclustered={};for(var T=h;T>=d;T--)this._gridClusters[T]=new L.DistanceGrid(m(T)),this._gridUnclustered[T]=new L.DistanceGrid(m(T));this._topClusterLevel=new this._markerCluster(this,d-1)},_addLayer:function(h,d){var p=this._gridClusters,m=this._gridUnclustered,T=Math.floor(this._map.getMinZoom()),S,b;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(h),h.on(this._childMarkerEventHandlers,this);d>=T;d--){S=this._map.project(h.getLatLng(),d);var z=p[d].getNearObject(S);if(z){z._addChild(h),h.__parent=z;return}if(z=m[d].getNearObject(S),z){var E=z.__parent;E&&this._removeLayer(z,!1);var A=new this._markerCluster(this,d,z,h);p[d].addObject(A,this._map.project(A._cLatLng,d)),z.__parent=A,h.__parent=A;var O=A;for(b=d-1;b>E._zoom;b--)O=new this._markerCluster(this,b,O),p[b].addObject(O,this._map.project(z.getLatLng(),b));E._addChild(O),this._removeFromGridUnclustered(z,d);return}m[d].addObject(h,S)}this._topClusterLevel._addChild(h),h.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(h){h instanceof L.MarkerCluster&&h._iconNeedsUpdate&&h._updateIcon()})},_enqueue:function(h){this._queue.push(h),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var h=0;h<this._queue.length;h++)this._queue[h].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var h=Math.round(this._map._zoom);this._processQueue(),this._zoom<h&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,h)):this._zoom>h?(this._animationStart(),this._animationZoomOut(this._zoom,h)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(h){var d=this._maxLat;return d!==void 0&&(h.getNorth()>=d&&(h._northEast.lat=1/0),h.getSouth()<=-d&&(h._southWest.lat=-1/0)),h},_animationAddLayerNonAnimated:function(h,d){if(d===h)this._featureGroup.addLayer(h);else if(d._childCount===2){d._addToMap();var p=d.getAllChildMarkers();this._featureGroup.removeLayer(p[0]),this._featureGroup.removeLayer(p[1])}else d._updateIcon()},_extractNonGroupLayers:function(h,d){var p=h.getLayers(),m=0,T;for(d=d||[];m<p.length;m++){if(T=p[m],T instanceof L.LayerGroup){this._extractNonGroupLayers(T,d);continue}d.push(T)}return d},_overrideMarkerIcon:function(h){var d=h.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[h]}});return d}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(h,d){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(h,d){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(h,d){this._animationAddLayerNonAnimated(h,d)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(h,d){var p=this._getExpandedVisibleBounds(),m=this._featureGroup,T=Math.floor(this._map.getMinZoom()),S;this._ignoreMove=!0,this._topClusterLevel._recursively(p,h,T,function(b){var z=b._latlng,E=b._markers,A;for(p.contains(z)||(z=null),b._isSingleParent()&&h+1===d?(m.removeLayer(b),b._recursivelyAddChildrenToMap(null,d,p)):(b.clusterHide(),b._recursivelyAddChildrenToMap(z,d,p)),S=E.length-1;S>=0;S--)A=E[S],p.contains(A._latlng)||m.removeLayer(A)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(p,d),m.eachLayer(function(b){!(b instanceof L.MarkerCluster)&&b._icon&&b.clusterShow()}),this._topClusterLevel._recursively(p,h,d,function(b){b._recursivelyRestoreChildPositions(d)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(p,h,T,function(b){m.removeLayer(b),b.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(h,d){this._animationZoomOutSingle(this._topClusterLevel,h-1,d),this._topClusterLevel._recursivelyAddChildrenToMap(null,d,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h,this._getExpandedVisibleBounds())},_animationAddLayer:function(h,d){var p=this,m=this._featureGroup;m.addLayer(h),d!==h&&(d._childCount>2?(d._updateIcon(),this._forceLayout(),this._animationStart(),h._setPos(this._map.latLngToLayerPoint(d.getLatLng())),h.clusterHide(),this._enqueue(function(){m.removeLayer(h),h.clusterShow(),p._animationEnd()})):(this._forceLayout(),p._animationStart(),p._animationZoomOutSingle(d,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(h,d,p){var m=this._getExpandedVisibleBounds(),T=Math.floor(this._map.getMinZoom());h._recursivelyAnimateChildrenInAndAddSelfToMap(m,T,d+1,p);var S=this;this._forceLayout(),h._recursivelyBecomeVisible(m,p),this._enqueue(function(){if(h._childCount===1){var b=h._markers[0];this._ignoreMove=!0,b.setLatLng(b.getLatLng()),this._ignoreMove=!1,b.clusterShow&&b.clusterShow()}else h._recursively(m,p,T,function(z){z._recursivelyRemoveChildrenFromMap(m,T,d+1)});S._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(h){return new L.MarkerClusterGroup(h)};var v=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(h,d,p,m){L.Marker.prototype.initialize.call(this,p?p._cLatLng||p.getLatLng():new L.LatLng(0,0),{icon:this,pane:h.options.clusterPane}),this._group=h,this._zoom=d,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,p&&this._addChild(p),m&&this._addChild(m)},getAllChildMarkers:function(h,d){h=h||[];for(var p=this._childClusters.length-1;p>=0;p--)this._childClusters[p].getAllChildMarkers(h,d);for(var m=this._markers.length-1;m>=0;m--)d&&this._markers[m].__dragStart||h.push(this._markers[m]);return h},getChildCount:function(){return this._childCount},zoomToBounds:function(h){for(var d=this._childClusters.slice(),p=this._group._map,m=p.getBoundsZoom(this._bounds),T=this._zoom+1,S=p.getZoom(),b;d.length>0&&m>T;){T++;var z=[];for(b=0;b<d.length;b++)z=z.concat(d[b]._childClusters);d=z}m>T?this._group._map.setView(this._latlng,T):m<=S?this._group._map.setView(this._latlng,S+1):this._group._map.fitBounds(this._bounds,h)},getBounds:function(){var h=new L.LatLngBounds;return h.extend(this._bounds),h},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(h,d){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(h),h instanceof L.MarkerCluster?(d||(this._childClusters.push(h),h.__parent=this),this._childCount+=h._childCount):(d||this._markers.push(h),this._childCount++),this.__parent&&this.__parent._addChild(h,!0)},_setClusterCenter:function(h){this._cLatLng||(this._cLatLng=h._cLatLng||h._latlng)},_resetBounds:function(){var h=this._bounds;h._southWest&&(h._southWest.lat=1/0,h._southWest.lng=1/0),h._northEast&&(h._northEast.lat=-1/0,h._northEast.lng=-1/0)},_recalculateBounds:function(){var h=this._markers,d=this._childClusters,p=0,m=0,T=this._childCount,S,b,z,E;if(T!==0){for(this._resetBounds(),S=0;S<h.length;S++)z=h[S]._latlng,this._bounds.extend(z),p+=z.lat,m+=z.lng;for(S=0;S<d.length;S++)b=d[S],b._boundsNeedUpdate&&b._recalculateBounds(),this._bounds.extend(b._bounds),z=b._wLatLng,E=b._childCount,p+=z.lat*E,m+=z.lng*E;this._latlng=this._wLatLng=new L.LatLng(p/T,m/T),this._boundsNeedUpdate=!1}},_addToMap:function(h){h&&(this._backupLatlng=this._latlng,this.setLatLng(h)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(h,d,p){this._recursively(h,this._group._map.getMinZoom(),p-1,function(m){var T=m._markers,S,b;for(S=T.length-1;S>=0;S--)b=T[S],b._icon&&(b._setPos(d),b.clusterHide())},function(m){var T=m._childClusters,S,b;for(S=T.length-1;S>=0;S--)b=T[S],b._icon&&(b._setPos(d),b.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(h,d,p,m){this._recursively(h,m,d,function(T){T._recursivelyAnimateChildrenIn(h,T._group._map.latLngToLayerPoint(T.getLatLng()).round(),p),T._isSingleParent()&&p-1===m?(T.clusterShow(),T._recursivelyRemoveChildrenFromMap(h,d,p)):T.clusterHide(),T._addToMap()})},_recursivelyBecomeVisible:function(h,d){this._recursively(h,this._group._map.getMinZoom(),d,null,function(p){p.clusterShow()})},_recursivelyAddChildrenToMap:function(h,d,p){this._recursively(p,this._group._map.getMinZoom()-1,d,function(m){if(d!==m._zoom)for(var T=m._markers.length-1;T>=0;T--){var S=m._markers[T];p.contains(S._latlng)&&(h&&(S._backupLatlng=S.getLatLng(),S.setLatLng(h),S.clusterHide&&S.clusterHide()),m._group._featureGroup.addLayer(S))}},function(m){m._addToMap(h)})},_recursivelyRestoreChildPositions:function(h){for(var d=this._markers.length-1;d>=0;d--){var p=this._markers[d];p._backupLatlng&&(p.setLatLng(p._backupLatlng),delete p._backupLatlng)}if(h-1===this._zoom)for(var m=this._childClusters.length-1;m>=0;m--)this._childClusters[m]._restorePosition();else for(var T=this._childClusters.length-1;T>=0;T--)this._childClusters[T]._recursivelyRestoreChildPositions(h)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(h,d,p,m){var T,S;this._recursively(h,d-1,p-1,function(b){for(S=b._markers.length-1;S>=0;S--)T=b._markers[S],(!m||!m.contains(T._latlng))&&(b._group._featureGroup.removeLayer(T),T.clusterShow&&T.clusterShow())},function(b){for(S=b._childClusters.length-1;S>=0;S--)T=b._childClusters[S],(!m||!m.contains(T._latlng))&&(b._group._featureGroup.removeLayer(T),T.clusterShow&&T.clusterShow())})},_recursively:function(h,d,p,m,T){var S=this._childClusters,b=this._zoom,z,E;if(d<=b&&(m&&m(this),T&&b===p&&T(this)),b<d||b<p)for(z=S.length-1;z>=0;z--)E=S[z],E._boundsNeedUpdate&&E._recalculateBounds(),h.intersects(E._bounds)&&E._recursively(h,d,p,m,T)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var h=this.options.opacity;return this.setOpacity(0),this.options.opacity=h,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(h){this._cellSize=h,this._sqCellSize=h*h,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(h,d){var p=this._getCoord(d.x),m=this._getCoord(d.y),T=this._grid,S=T[m]=T[m]||{},b=S[p]=S[p]||[],z=L.Util.stamp(h);this._objectPoint[z]=d,b.push(h)},updateObject:function(h,d){this.removeObject(h),this.addObject(h,d)},removeObject:function(h,d){var p=this._getCoord(d.x),m=this._getCoord(d.y),T=this._grid,S=T[m]=T[m]||{},b=S[p]=S[p]||[],z,E;for(delete this._objectPoint[L.Util.stamp(h)],z=0,E=b.length;z<E;z++)if(b[z]===h)return b.splice(z,1),E===1&&delete S[p],!0},eachObject:function(h,d){var p,m,T,S,b,z,E,A=this._grid;for(p in A){b=A[p];for(m in b)for(z=b[m],T=0,S=z.length;T<S;T++)E=h.call(d,z[T]),E&&(T--,S--)}},getNearObject:function(h){var d=this._getCoord(h.x),p=this._getCoord(h.y),m,T,S,b,z,E,A,O,at=this._objectPoint,H=this._sqCellSize,nt=null;for(m=p-1;m<=p+1;m++)if(b=this._grid[m],b){for(T=d-1;T<=d+1;T++)if(z=b[T],z)for(S=0,E=z.length;S<E;S++)A=z[S],O=this._sqDist(at[L.Util.stamp(A)],h),(O<H||O<=H&&nt===null)&&(H=O,nt=A)}return nt},_getCoord:function(h){var d=Math.floor(h/this._cellSize);return isFinite(d)?d:h},_sqDist:function(h,d){var p=d.x-h.x,m=d.y-h.y;return p*p+m*m}},function(){L.QuickHull={getDistant:function(h,d){var p=d[1].lat-d[0].lat,m=d[0].lng-d[1].lng;return m*(h.lat-d[0].lat)+p*(h.lng-d[0].lng)},findMostDistantPointFromBaseLine:function(h,d){var p=0,m=null,T=[],S,b,z;for(S=d.length-1;S>=0;S--){if(b=d[S],z=this.getDistant(b,h),z>0)T.push(b);else continue;z>p&&(p=z,m=b)}return{maxPoint:m,newPoints:T}},buildConvexHull:function(h,d){var p=[],m=this.findMostDistantPointFromBaseLine(h,d);return m.maxPoint?(p=p.concat(this.buildConvexHull([h[0],m.maxPoint],m.newPoints)),p=p.concat(this.buildConvexHull([m.maxPoint,h[1]],m.newPoints)),p):[h[0]]},getConvexHull:function(h){var d=!1,p=!1,m=!1,T=!1,S=null,b=null,z=null,E=null,A=null,O=null,at;for(at=h.length-1;at>=0;at--){var H=h[at];(d===!1||H.lat>d)&&(S=H,d=H.lat),(p===!1||H.lat<p)&&(b=H,p=H.lat),(m===!1||H.lng>m)&&(z=H,m=H.lng),(T===!1||H.lng<T)&&(E=H,T=H.lng)}p!==d?(O=b,A=S):(O=E,A=z);var nt=[].concat(this.buildConvexHull([O,A],h),this.buildConvexHull([A,O],h));return nt}}}(),L.MarkerCluster.include({getConvexHull:function(){var h=this.getAllChildMarkers(),d=[],p,m;for(m=h.length-1;m>=0;m--)p=h[m].getLatLng(),d.push(p);return L.QuickHull.getConvexHull(d)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var h=this.getAllChildMarkers(null,!0),d=this._group,p=d._map,m=p.latLngToLayerPoint(this._latlng),T;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?T=this._group.options.spiderfyShapePositions(h.length,m):h.length>=this._circleSpiralSwitchover?T=this._generatePointsSpiral(h.length,m):(m.y+=10,T=this._generatePointsCircle(h.length,m)),this._animationSpiderfy(h,T)}},unspiderfy:function(h){this._group._inZoomAnimation||(this._animationUnspiderfy(h),this._group._spiderfied=null)},_generatePointsCircle:function(h,d){var p=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+h),m=p/this._2PI,T=this._2PI/h,S=[],b,z;for(m=Math.max(m,35),S.length=h,b=0;b<h;b++)z=this._circleStartAngle+b*T,S[b]=new L.Point(d.x+m*Math.cos(z),d.y+m*Math.sin(z))._round();return S},_generatePointsSpiral:function(h,d){var p=this._group.options.spiderfyDistanceMultiplier,m=p*this._spiralLengthStart,T=p*this._spiralFootSeparation,S=p*this._spiralLengthFactor*this._2PI,b=0,z=[],E;for(z.length=h,E=h;E>=0;E--)E<h&&(z[E]=new L.Point(d.x+m*Math.cos(b),d.y+m*Math.sin(b))._round()),b+=T/m+E*5e-4,m+=S/b;return z},_noanimationUnspiderfy:function(){var h=this._group,d=h._map,p=h._featureGroup,m=this.getAllChildMarkers(null,!0),T,S;for(h._ignoreMove=!0,this.setOpacity(1),S=m.length-1;S>=0;S--)T=m[S],p.removeLayer(T),T._preSpiderfyLatlng&&(T.setLatLng(T._preSpiderfyLatlng),delete T._preSpiderfyLatlng),T.setZIndexOffset&&T.setZIndexOffset(0),T._spiderLeg&&(d.removeLayer(T._spiderLeg),delete T._spiderLeg);h.fire("unspiderfied",{cluster:this,markers:m}),h._ignoreMove=!1,h._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(h,d){var p=this._group,m=p._map,T=p._featureGroup,S=this._group.options.spiderLegPolylineOptions,b,z,E,A;for(p._ignoreMove=!0,b=0;b<h.length;b++)A=m.layerPointToLatLng(d[b]),z=h[b],E=new L.Polyline([this._latlng,A],S),m.addLayer(E),z._spiderLeg=E,z._preSpiderfyLatlng=z._latlng,z.setLatLng(A),z.setZIndexOffset&&z.setZIndexOffset(1e6),T.addLayer(z);this.setOpacity(.3),p._ignoreMove=!1,p.fire("spiderfied",{cluster:this,markers:h})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(h,d){var p=this,m=this._group,T=m._map,S=m._featureGroup,b=this._latlng,z=T.latLngToLayerPoint(b),E=L.Path.SVG,A=L.extend({},this._group.options.spiderLegPolylineOptions),O=A.opacity,at,H,nt,ht,ee,At;for(O===void 0&&(O=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),E?(A.opacity=0,A.className=(A.className||"")+" leaflet-cluster-spider-leg"):A.opacity=O,m._ignoreMove=!0,at=0;at<h.length;at++)H=h[at],At=T.layerPointToLatLng(d[at]),nt=new L.Polyline([b,At],A),T.addLayer(nt),H._spiderLeg=nt,E&&(ht=nt._path,ee=ht.getTotalLength()+.1,ht.style.strokeDasharray=ee,ht.style.strokeDashoffset=ee),H.setZIndexOffset&&H.setZIndexOffset(1e6),H.clusterHide&&H.clusterHide(),S.addLayer(H),H._setPos&&H._setPos(z);for(m._forceLayout(),m._animationStart(),at=h.length-1;at>=0;at--)At=T.layerPointToLatLng(d[at]),H=h[at],H._preSpiderfyLatlng=H._latlng,H.setLatLng(At),H.clusterShow&&H.clusterShow(),E&&(nt=H._spiderLeg,ht=nt._path,ht.style.strokeDashoffset=0,nt.setStyle({opacity:O}));this.setOpacity(.3),m._ignoreMove=!1,setTimeout(function(){m._animationEnd(),m.fire("spiderfied",{cluster:p,markers:h})},200)},_animationUnspiderfy:function(h){var d=this,p=this._group,m=p._map,T=p._featureGroup,S=h?m._latLngToNewLayerPoint(this._latlng,h.zoom,h.center):m.latLngToLayerPoint(this._latlng),b=this.getAllChildMarkers(null,!0),z=L.Path.SVG,E,A,O,at,H,nt;for(p._ignoreMove=!0,p._animationStart(),this.setOpacity(1),A=b.length-1;A>=0;A--)E=b[A],E._preSpiderfyLatlng&&(E.closePopup(),E.setLatLng(E._preSpiderfyLatlng),delete E._preSpiderfyLatlng,nt=!0,E._setPos&&(E._setPos(S),nt=!1),E.clusterHide&&(E.clusterHide(),nt=!1),nt&&T.removeLayer(E),z&&(O=E._spiderLeg,at=O._path,H=at.getTotalLength()+.1,at.style.strokeDashoffset=H,O.setStyle({opacity:0})));p._ignoreMove=!1,setTimeout(function(){var ht=0;for(A=b.length-1;A>=0;A--)E=b[A],E._spiderLeg&&ht++;for(A=b.length-1;A>=0;A--)E=b[A],E._spiderLeg&&(E.clusterShow&&E.clusterShow(),E.setZIndexOffset&&E.setZIndexOffset(0),ht>1&&T.removeLayer(E),m.removeLayer(E._spiderLeg),delete E._spiderLeg);p._animationEnd(),p.fire("unspiderfied",{cluster:d,markers:b})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(h){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(h))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(h){this._spiderfied&&this._spiderfied.unspiderfy(h)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(h){h._spiderLeg&&(this._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow(),h.setZIndexOffset&&h.setZIndexOffset(0),this._map.removeLayer(h._spiderLeg),delete h._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(h){return h?h instanceof L.MarkerClusterGroup?h=h._topClusterLevel.getAllChildMarkers():h instanceof L.LayerGroup?h=h._layers:h instanceof L.MarkerCluster?h=h.getAllChildMarkers():h instanceof L.Marker&&(h=[h]):h=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(h),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(h),this},_flagParentsIconsNeedUpdate:function(h){var d,p;for(d in h)for(p=h[d].__parent;p;)p._iconNeedsUpdate=!0,p=p.__parent},_refreshSingleMarkerModeMarkers:function(h){var d,p;for(d in h)p=h[d],this.hasLayer(p)&&p.setIcon(this._overrideMarkerIcon(p))}}),L.Marker.include({refreshIconOptions:function(h,d){var p=this.options.icon;return L.setOptions(p,h),this.setIcon(p),d&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),c.MarkerClusterGroup=w,c.MarkerCluster=v,Object.defineProperty(c,"__esModule",{value:!0})})})(Qs,Eo);const sn=[];function tr(C,g=Jt){let c;const w=new Set;function v(p){if(Rn(C,p)&&(C=p,c)){const m=!sn.length;for(const T of w)T[1](),sn.push(T,C);if(m){for(let T=0;T<sn.length;T+=2)sn[T][0](sn[T+1]);sn.length=0}}}function h(p){v(p(C))}function d(p,m=Jt){const T=[p,m];return w.add(T),w.size===1&&(c=g(v)||Jt),p(C),()=>{w.delete(T),w.size===0&&c&&(c(),c=null)}}return{set:v,update:h,subscribe:d}}const ds=tr([]);function er(C){let g,c,w,v,h,d,p,m,T,S,b,z,E,A,O,at;return{c(){g=Et("div"),c=Et("h3"),w=xe(),v=Et("p"),h=ho(C[1]),d=xe(),p=Et("a"),m=ho("Link to article"),T=xe(),S=Et("p"),b=xe(),z=Et("br"),E=xe(),A=Et("button"),A.textContent="Add to list",Ct(p,"href",C[2]),Ct(A,"class","bg-slate-700"),Ct(A,"id","addToList"),Ct(g,"class","popup")},m(H,nt){we(H,g,nt),bt(g,c),c.innerHTML=C[0],bt(g,w),bt(g,v),bt(v,h),bt(g,d),bt(g,p),bt(p,m),bt(g,T),bt(g,S),S.innerHTML=C[3],bt(g,b),bt(g,z),bt(g,E),bt(g,A),O||(at=uo(A,"click",C[6]),O=!0)},p(H,[nt]){nt&1&&(c.innerHTML=H[0]),nt&2&&Hs(h,H[1]),nt&4&&Ct(p,"href",H[2]),nt&8&&(S.innerHTML=H[3])},i:Jt,o:Jt,d(H){H&&de(g),O=!1,at()}}}function ir(C,g,c){let{title:w}=g,{date:v}=g,{link:h}=g,{excerpt:d}=g,{feature:p}=g;async function m(){ds.update(S=>[...S,p]),console.log("Clicked")}const T=()=>m();return C.$$set=S=>{"title"in S&&c(0,w=S.title),"date"in S&&c(1,v=S.date),"link"in S&&c(2,h=S.link),"excerpt"in S&&c(3,d=S.excerpt),"feature"in S&&c(5,p=S.feature)},[w,v,h,d,m,p,T]}class nr extends _o{constructor(g){super(),co(this,g,ir,er,Rn,{title:0,date:1,link:2,excerpt:3,feature:5})}}function or(C){let g;return{c(){g=Et("main"),g.innerHTML='<div id="map" class="svelte-1hq6thp"></div>'},m(c,w){we(c,g,w)},p:Jt,i:Jt,o:Jt,d(c){c&&de(g)}}}let hn,Zo;function sr(C,g,c){js(()=>{hn=L.map("map",{renderer:L.canvas()}).setView([13.086066,77.609997],7);var v=L.tileLayer("https://api.mapbox.com/styles/v1/rungdung/clftq8tyw001r01nwuzgk0gic/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoicnVuZ2R1bmciLCJhIjoiY2tqeWh6cXF4MDgzMjJvbWVmbGQzYjAwMyJ9.U-aJyoqyKvTXlhVk43jV1A",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, Mapbox Imagery',maxZoom:20,minZoom:3,maxBounds:[[12.846638,77.125397],[13.283409,78.016663]],renderer:L.canvas()});v.addTo(hn),Zo=L.markerClusterGroup().addTo(hn),w()});async function w(){var h=await(await fetch("HWdb_geocoded.geojson")).json();L.geoJSON(h,{onEachFeature:(d,p)=>{let m=document.createElement("div");new nr({target:m,props:{title:d.properties.title,date:d.properties.date,link:d.properties.link,excerpt:d.properties.excerpt,feature:d}}),p.bindPopup(m)}}).addTo(Zo)}return[w]}let rr=class extends _o{constructor(g){super(),co(this,g,sr,or,Rn,{loadSavedData:0})}get loadSavedData(){return this.$$.ctx[0]}};function as(C,g,c){const w=C.slice();return w[4]=g[c],w}function ar(C){let g;return{c(){g=Et("p"),g.textContent='No events selected. Please open an event and click, "Add to list"'},m(c,w){we(c,g,w)},p:Jt,d(c){c&&de(g)}}}function hr(C){let g,c=C[0],w=[];for(let v=0;v<c.length;v+=1)w[v]=hs(as(C,c,v));return{c(){g=Et("ul");for(let v=0;v<w.length;v+=1)w[v].c();Ct(g,"class","svelte-6nil9g")},m(v,h){we(v,g,h);for(let d=0;d<w.length;d+=1)w[d]&&w[d].m(g,null)},p(v,h){if(h&3){c=v[0];let d;for(d=0;d<c.length;d+=1){const p=as(v,c,d);w[d]?w[d].p(p,h):(w[d]=hs(p),w[d].c(),w[d].m(g,null))}for(;d<w.length;d+=1)w[d].d(1);w.length=c.length}},d(v){v&&de(g),Ds(w,v)}}}function hs(C){let g,c=C[4].properties.title+"",w,v,h,d;function p(){return C[2](C[4])}return{c(){g=Et("li"),w=xe(),v=Et("button"),v.textContent=`Zoom to event
      `,Ct(v,"class","bg-slate-700 svelte-6nil9g")},m(m,T){we(m,g,T),g.innerHTML=c,we(m,w,T),we(m,v,T),h||(d=uo(v,"click",p),h=!0)},p(m,T){C=m,T&1&&c!==(c=C[4].properties.title+"")&&(g.innerHTML=c)},d(m){m&&de(g),m&&de(w),m&&de(v),h=!1,d()}}}function ur(C){let g,c,w;function v(p,m){return p[0].length>0?hr:ar}let h=v(C),d=h(C);return{c(){g=Et("h2"),g.textContent="Events in focus",c=xe(),d.c(),w=Rs(),Ct(g,"class","font-semibold text-xl ")},m(p,m){we(p,g,m),we(p,c,m),d.m(p,m),we(p,w,m)},p(p,[m]){h===(h=v(p))&&d?d.p(p,m):(d.d(1),d=h(p),d&&(d.c(),d.m(w.parentNode,w)))},i:Jt,o:Jt,d(p){p&&de(g),p&&de(c),d.d(p),p&&de(w)}}}function lr(C,g,c){let w;Bs(C,ds,p=>c(0,w=p));let v=new L.FeatureGroup;function h(p){v.clearLayers(),console.log("Zooming to feature"),v.addLayer(new L.CircleMarker(p.geometry.coordinates.reverse(),{radius:30,color:"#ff7800",weight:5,opacity:.65})),hn.flyTo(p.geometry.coordinates,8),v.addTo(hn)}return[w,h,p=>h(p)]}class cr extends _o{constructor(g){super(),co(this,g,lr,ur,Rn,{})}}function dr(C){let g,c,w,v,h,d,p,m,T,S,b,z,E,A,O,at;return c=new rr({}),E=new cr({}),{c(){g=Et("main"),ss(c.$$.fragment),w=xe(),v=Et("div"),h=Et("div"),h.innerHTML=`<h1 class="font-bold text-3xl ">Explorer for Hindutva Watch</h1> 
      <h3>This is a prototype to explore linked stories of Hindutva</h3>`,d=xe(),p=Et("div"),m=Et("input"),T=xe(),S=Et("button"),S.textContent="Search",b=xe(),z=Et("div"),ss(E.$$.fragment),Ct(h,"id","meta-info"),Ct(h,"class","m-3 svelte-z3bj1d"),Ct(m,"type","text"),Ct(m,"id","search-input"),Ct(m,"class","rounded-md text-white p-1"),Ct(m,"placeholder","Search for an event"),Ct(S,"class","rounded-md p-1 bg-slate-700"),Ct(S,"id","search-button"),Ct(p,"id","search"),Ct(p,"class","m-2"),Ct(v,"id","left-bar"),Ct(v,"class","p-4 svelte-z3bj1d"),Ct(z,"id","right-bar"),Ct(z,"class","svelte-z3bj1d")},m(H,nt){we(H,g,nt),So(c,g,null),bt(g,w),bt(g,v),bt(v,h),bt(v,d),bt(v,p),bt(p,m),es(m,C[0]),bt(p,T),bt(p,S),bt(g,b),bt(g,z),So(E,z,null),A=!0,O||(at=[uo(m,"input",C[1]),uo(S,"click",C[2])],O=!0)},p(H,[nt]){nt&1&&m.value!==H[0]&&es(m,H[0])},i(H){A||(Mo(c.$$.fragment,H),Mo(E.$$.fragment,H),A=!0)},o(H){os(c.$$.fragment,H),os(E.$$.fragment,H),A=!1},d(H){H&&de(g),ko(c),ko(E),O=!1,Dn(at)}}}function _r(C,g,c){let w;function v(){w=this.value,c(0,w)}return[w,v,()=>Xs(Zo,w,hn)]}class fr extends _o{constructor(g){super(),co(this,g,_r,dr,Rn,{})}}new fr({target:document.getElementById("app")});
